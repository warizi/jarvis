var fD=Object.defineProperty;var l2=t=>{throw TypeError(t)};var dD=(t,e,n)=>e in t?fD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wr=(t,e,n)=>dD(t,typeof e!="symbol"?e+"":e,n),Px=(t,e,n)=>e.has(t)||l2("Cannot "+n);var oe=(t,e,n)=>(Px(t,e,"read from private field"),n?n.call(t):e.get(t)),Mt=(t,e,n)=>e.has(t)?l2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ut=(t,e,n,r)=>(Px(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nn=(t,e,n)=>(Px(t,e,"access private method"),n);var e1=(t,e,n,r)=>({set _(i){ut(t,e,i,n)},get _(){return oe(t,e,r)}});function hD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fx={exports:{}},cy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2;function pD(){if(u2)return cy;u2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var f in i)f!=="key"&&(s[f]=i[f])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return cy.Fragment=e,cy.jsx=n,cy.jsxs=n,cy}var c2;function mD(){return c2||(c2=1,Fx.exports=pD()),Fx.exports}var Bt=mD(),qx={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function gD(){if(f2)return Qt;f2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function C(ee){return ee===null||typeof ee!="object"?null:(ee=x&&ee[x]||ee["@@iterator"],typeof ee=="function"?ee:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function R(ee,Oe,tt){this.props=ee,this.context=Oe,this.refs=k,this.updater=tt||T}R.prototype.isReactComponent={},R.prototype.setState=function(ee,Oe){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,Oe,"setState")},R.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function H(){}H.prototype=R.prototype;function K(ee,Oe,tt){this.props=ee,this.context=Oe,this.refs=k,this.updater=tt||T}var Y=K.prototype=new H;Y.constructor=K,E(Y,R.prototype),Y.isPureReactComponent=!0;var U=Array.isArray,G={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function de(ee,Oe,tt,it,Ge,ht){return tt=ht.ref,{$$typeof:t,type:ee,key:Oe,ref:tt!==void 0?tt:null,props:ht}}function we(ee,Oe){return de(ee.type,Oe,void 0,void 0,void 0,ee.props)}function fe(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function Me(ee){var Oe={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(tt){return Oe[tt]})}var et=/\/+/g;function Ve(ee,Oe){return typeof ee=="object"&&ee!==null&&ee.key!=null?Me(""+ee.key):Oe.toString(36)}function Je(){}function wt(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(Je,Je):(ee.status="pending",ee.then(function(Oe){ee.status==="pending"&&(ee.status="fulfilled",ee.value=Oe)},function(Oe){ee.status==="pending"&&(ee.status="rejected",ee.reason=Oe)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function Et(ee,Oe,tt,it,Ge){var ht=typeof ee;(ht==="undefined"||ht==="boolean")&&(ee=null);var ot=!1;if(ee===null)ot=!0;else switch(ht){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(ee.$$typeof){case t:case e:ot=!0;break;case y:return ot=ee._init,Et(ot(ee._payload),Oe,tt,it,Ge)}}if(ot)return Ge=Ge(ee),ot=it===""?"."+Ve(ee,0):it,U(Ge)?(tt="",ot!=null&&(tt=ot.replace(et,"$&/")+"/"),Et(Ge,Oe,tt,"",function(Pe){return Pe})):Ge!=null&&(fe(Ge)&&(Ge=we(Ge,tt+(Ge.key==null||ee&&ee.key===Ge.key?"":(""+Ge.key).replace(et,"$&/")+"/")+ot)),Oe.push(Ge)),1;ot=0;var cn=it===""?".":it+":";if(U(ee))for(var yt=0;yt<ee.length;yt++)it=ee[yt],ht=cn+Ve(it,yt),ot+=Et(it,Oe,tt,ht,Ge);else if(yt=C(ee),typeof yt=="function")for(ee=yt.call(ee),yt=0;!(it=ee.next()).done;)it=it.value,ht=cn+Ve(it,yt++),ot+=Et(it,Oe,tt,ht,Ge);else if(ht==="object"){if(typeof ee.then=="function")return Et(wt(ee),Oe,tt,it,Ge);throw Oe=String(ee),Error("Objects are not valid as a React child (found: "+(Oe==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":Oe)+"). If you meant to render a collection of children, use an array instead.")}return ot}function Ne(ee,Oe,tt){if(ee==null)return ee;var it=[],Ge=0;return Et(ee,it,"","",function(ht){return Oe.call(tt,ht,Ge++)}),it}function $e(ee){if(ee._status===-1){var Oe=ee._result;Oe=Oe(),Oe.then(function(tt){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=tt)},function(tt){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=tt)}),ee._status===-1&&(ee._status=0,ee._result=Oe)}if(ee._status===1)return ee._result.default;throw ee._result}var Ye=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(Oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function mt(){}return Qt.Children={map:Ne,forEach:function(ee,Oe,tt){Ne(ee,function(){Oe.apply(this,arguments)},tt)},count:function(ee){var Oe=0;return Ne(ee,function(){Oe++}),Oe},toArray:function(ee){return Ne(ee,function(Oe){return Oe})||[]},only:function(ee){if(!fe(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Qt.Component=R,Qt.Fragment=n,Qt.Profiler=i,Qt.PureComponent=K,Qt.StrictMode=r,Qt.Suspense=d,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Qt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Qt.cache=function(ee){return function(){return ee.apply(null,arguments)}},Qt.cloneElement=function(ee,Oe,tt){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var it=E({},ee.props),Ge=ee.key,ht=void 0;if(Oe!=null)for(ot in Oe.ref!==void 0&&(ht=void 0),Oe.key!==void 0&&(Ge=""+Oe.key),Oe)!re.call(Oe,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&Oe.ref===void 0||(it[ot]=Oe[ot]);var ot=arguments.length-2;if(ot===1)it.children=tt;else if(1<ot){for(var cn=Array(ot),yt=0;yt<ot;yt++)cn[yt]=arguments[yt+2];it.children=cn}return de(ee.type,Ge,void 0,void 0,ht,it)},Qt.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},Qt.createElement=function(ee,Oe,tt){var it,Ge={},ht=null;if(Oe!=null)for(it in Oe.key!==void 0&&(ht=""+Oe.key),Oe)re.call(Oe,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(Ge[it]=Oe[it]);var ot=arguments.length-2;if(ot===1)Ge.children=tt;else if(1<ot){for(var cn=Array(ot),yt=0;yt<ot;yt++)cn[yt]=arguments[yt+2];Ge.children=cn}if(ee&&ee.defaultProps)for(it in ot=ee.defaultProps,ot)Ge[it]===void 0&&(Ge[it]=ot[it]);return de(ee,ht,void 0,void 0,null,Ge)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(ee){return{$$typeof:f,render:ee}},Qt.isValidElement=fe,Qt.lazy=function(ee){return{$$typeof:y,_payload:{_status:-1,_result:ee},_init:$e}},Qt.memo=function(ee,Oe){return{$$typeof:m,type:ee,compare:Oe===void 0?null:Oe}},Qt.startTransition=function(ee){var Oe=G.T,tt={};G.T=tt;try{var it=ee(),Ge=G.S;Ge!==null&&Ge(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(mt,Ye)}catch(ht){Ye(ht)}finally{G.T=Oe}},Qt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Qt.use=function(ee){return G.H.use(ee)},Qt.useActionState=function(ee,Oe,tt){return G.H.useActionState(ee,Oe,tt)},Qt.useCallback=function(ee,Oe){return G.H.useCallback(ee,Oe)},Qt.useContext=function(ee){return G.H.useContext(ee)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(ee,Oe){return G.H.useDeferredValue(ee,Oe)},Qt.useEffect=function(ee,Oe){return G.H.useEffect(ee,Oe)},Qt.useId=function(){return G.H.useId()},Qt.useImperativeHandle=function(ee,Oe,tt){return G.H.useImperativeHandle(ee,Oe,tt)},Qt.useInsertionEffect=function(ee,Oe){return G.H.useInsertionEffect(ee,Oe)},Qt.useLayoutEffect=function(ee,Oe){return G.H.useLayoutEffect(ee,Oe)},Qt.useMemo=function(ee,Oe){return G.H.useMemo(ee,Oe)},Qt.useOptimistic=function(ee,Oe){return G.H.useOptimistic(ee,Oe)},Qt.useReducer=function(ee,Oe,tt){return G.H.useReducer(ee,Oe,tt)},Qt.useRef=function(ee){return G.H.useRef(ee)},Qt.useState=function(ee){return G.H.useState(ee)},Qt.useSyncExternalStore=function(ee,Oe,tt){return G.H.useSyncExternalStore(ee,Oe,tt)},Qt.useTransition=function(){return G.H.useTransition()},Qt.version="19.0.0",Qt}var d2;function NS(){return d2||(d2=1,qx.exports=gD()),qx.exports}var F=NS();const gt=_S(F),h2=hD({__proto__:null,default:gt},[F]);var Ux={exports:{}},fy={},Vx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function yD(){return p2||(p2=1,function(t){function e(Ne,$e){var Ye=Ne.length;Ne.push($e);e:for(;0<Ye;){var mt=Ye-1>>>1,ee=Ne[mt];if(0<i(ee,$e))Ne[mt]=$e,Ne[Ye]=ee,Ye=mt;else break e}}function n(Ne){return Ne.length===0?null:Ne[0]}function r(Ne){if(Ne.length===0)return null;var $e=Ne[0],Ye=Ne.pop();if(Ye!==$e){Ne[0]=Ye;e:for(var mt=0,ee=Ne.length,Oe=ee>>>1;mt<Oe;){var tt=2*(mt+1)-1,it=Ne[tt],Ge=tt+1,ht=Ne[Ge];if(0>i(it,Ye))Ge<ee&&0>i(ht,it)?(Ne[mt]=ht,Ne[Ge]=Ye,mt=Ge):(Ne[mt]=it,Ne[tt]=Ye,mt=tt);else if(Ge<ee&&0>i(ht,Ye))Ne[mt]=ht,Ne[Ge]=Ye,mt=Ge;else break e}}return $e}function i(Ne,$e){var Ye=Ne.sortIndex-$e.sortIndex;return Ye!==0?Ye:Ne.id-$e.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var d=[],m=[],y=1,x=null,C=3,T=!1,E=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Y(Ne){for(var $e=n(m);$e!==null;){if($e.callback===null)r(m);else if($e.startTime<=Ne)r(m),$e.sortIndex=$e.expirationTime,e(d,$e);else break;$e=n(m)}}function U(Ne){if(k=!1,Y(Ne),!E)if(n(d)!==null)E=!0,wt();else{var $e=n(m);$e!==null&&Et(U,$e.startTime-Ne)}}var G=!1,re=-1,de=5,we=-1;function fe(){return!(t.unstable_now()-we<de)}function Me(){if(G){var Ne=t.unstable_now();we=Ne;var $e=!0;try{e:{E=!1,k&&(k=!1,H(re),re=-1),T=!0;var Ye=C;try{t:{for(Y(Ne),x=n(d);x!==null&&!(x.expirationTime>Ne&&fe());){var mt=x.callback;if(typeof mt=="function"){x.callback=null,C=x.priorityLevel;var ee=mt(x.expirationTime<=Ne);if(Ne=t.unstable_now(),typeof ee=="function"){x.callback=ee,Y(Ne),$e=!0;break t}x===n(d)&&r(d),Y(Ne)}else r(d);x=n(d)}if(x!==null)$e=!0;else{var Oe=n(m);Oe!==null&&Et(U,Oe.startTime-Ne),$e=!1}}break e}finally{x=null,C=Ye,T=!1}$e=void 0}}finally{$e?et():G=!1}}}var et;if(typeof K=="function")et=function(){K(Me)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Je=Ve.port2;Ve.port1.onmessage=Me,et=function(){Je.postMessage(null)}}else et=function(){R(Me,0)};function wt(){G||(G=!0,et())}function Et(Ne,$e){re=R(function(){Ne(t.unstable_now())},$e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ne){Ne.callback=null},t.unstable_continueExecution=function(){E||T||(E=!0,wt())},t.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<Ne?Math.floor(1e3/Ne):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Ne){switch(C){case 1:case 2:case 3:var $e=3;break;default:$e=C}var Ye=C;C=$e;try{return Ne()}finally{C=Ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ne,$e){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var Ye=C;C=Ne;try{return $e()}finally{C=Ye}},t.unstable_scheduleCallback=function(Ne,$e,Ye){var mt=t.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?mt+Ye:mt):Ye=mt,Ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Ye+ee,Ne={id:y++,callback:$e,priorityLevel:Ne,startTime:Ye,expirationTime:ee,sortIndex:-1},Ye>mt?(Ne.sortIndex=Ye,e(m,Ne),n(d)===null&&Ne===n(m)&&(k?(H(re),re=-1):k=!0,Et(U,Ye-mt))):(Ne.sortIndex=ee,e(d,Ne),E||T||(E=!0,wt())),Ne},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(Ne){var $e=C;return function(){var Ye=C;C=$e;try{return Ne.apply(this,arguments)}finally{C=Ye}}}}(jx)),jx}var m2;function vD(){return m2||(m2=1,Vx.exports=yD()),Vx.exports}var Kx={exports:{}},Wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function bD(){if(g2)return Wi;g2=1;var t=NS();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:d,containerInfo:m,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wi.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(d,m,null,y)},Wi.flushSync=function(d){var m=l.T,y=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=m,r.p=y,r.d.f()}},Wi.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Wi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Wi.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:x,integrity:C,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wi.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Wi.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin);r.d.L(d,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wi.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=f(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Wi.requestFormReset=function(d){r.d.r(d)},Wi.unstable_batchedUpdates=function(d,m){return d(m)},Wi.useFormState=function(d,m,y){return l.H.useFormState(d,m,y)},Wi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wi.version="19.0.0",Wi}var y2;function cO(){if(y2)return Kx.exports;y2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kx.exports=bD(),Kx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function xD(){if(v2)return fy;v2=1;var t=vD(),e=NS(),n=cO();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),U=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var de=Symbol.for("react.client.reference");function we(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===de?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case d:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case T:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case E:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return a=o.displayName||null,a!==null?a:we(o.type)||"Memo";case K:a=o._payload,o=o._init;try{return we(o(a))}catch{}}return null}var fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=Object.assign,et,Ve;function Je(o){if(et===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);et=a&&a[1]||"",Ve=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+o+Ve}var wt=!1;function Et(o,a){if(!o||wt)return"";wt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Te){var xe=Te}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(Te){xe=Te}o.call(ze.prototype)}}else{try{throw Error()}catch(Te){xe=Te}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Te){if(Te&&xe&&typeof Te.stack=="string")return[Te.stack,xe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),D=S[0],q=S[1];if(D&&q){var Q=D.split(`
`),ce=q.split(`
`);for(v=p=0;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;if(p===Q.length||v===ce.length)for(p=Q.length-1,v=ce.length-1;1<=p&&0<=v&&Q[p]!==ce[v];)v--;for(;1<=p&&0<=v;p--,v--)if(Q[p]!==ce[v]){if(p!==1||v!==1)do if(p--,v--,0>v||Q[p]!==ce[v]){var Ae=`
`+Q[p].replace(" at new "," at ");return o.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",o.displayName)),Ae}while(1<=p&&0<=v);break}}}finally{wt=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?Je(u):""}function Ne(o){switch(o.tag){case 26:case 27:case 5:return Je(o.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return o=Et(o.type,!1),o;case 11:return o=Et(o.type.render,!1),o;case 1:return o=Et(o.type,!0),o;default:return""}}function $e(o){try{var a="";do a+=Ne(o),o=o.return;while(o);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ye(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function mt(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function ee(o){if(Ye(o)!==o)throw Error(r(188))}function Oe(o){var a=o.alternate;if(!a){if(a=Ye(o),a===null)throw Error(r(188));return a!==o?null:o}for(var u=o,p=a;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return ee(v),o;if(S===p)return ee(v),a;S=S.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=S;else{for(var D=!1,q=v.child;q;){if(q===u){D=!0,u=v,p=S;break}if(q===p){D=!0,p=v,u=S;break}q=q.sibling}if(!D){for(q=S.child;q;){if(q===u){D=!0,u=S,p=v;break}if(q===p){D=!0,p=S,u=v;break}q=q.sibling}if(!D)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:a}function tt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=tt(o),a!==null)return a;o=o.sibling}return null}var it=Array.isArray,Ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},ot=[],cn=-1;function yt(o){return{current:o}}function Pe(o){0>cn||(o.current=ot[cn],ot[cn]=null,cn--)}function ft(o,a){cn++,ot[cn]=o.current,o.current=a}var fn=yt(null),Tt=yt(null),Cn=yt(null),dn=yt(null);function Rn(o,a){switch(ft(Cn,a),ft(Tt,o),ft(fn,null),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Iv(a):0;break;default:if(o=o===8?a.parentNode:a,a=o.tagName,o=o.namespaceURI)o=Iv(o),a=zv(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Pe(fn),ft(fn,a)}function dr(){Pe(fn),Pe(Tt),Pe(Cn)}function tr(o){o.memoizedState!==null&&ft(dn,o);var a=fn.current,u=zv(a,o.type);a!==u&&(ft(Tt,o),ft(fn,u))}function te(o){Tt.current===o&&(Pe(fn),Pe(Tt)),dn.current===o&&(Pe(dn),Ld._currentValue=ht)}var ge=Object.prototype.hasOwnProperty,be=t.unstable_scheduleCallback,Le=t.unstable_cancelCallback,qe=t.unstable_shouldYield,Ie=t.unstable_requestPaint,st=t.unstable_now,St=t.unstable_getCurrentPriorityLevel,sn=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,hn=t.unstable_NormalPriority,Mr=t.unstable_LowPriority,Qr=t.unstable_IdlePriority,nr=t.log,Pr=t.unstable_setDisableYieldValue,Dr=null,Ce=null;function nt(o){if(Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Dr,o,void 0,(o.current.flags&128)===128)}catch{}}function ke(o){if(typeof nr=="function"&&Pr(o),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Dr,o)}catch{}}var At=Math.clz32?Math.clz32:We,It=Math.log,Qn=Math.LN2;function We(o){return o>>>=0,o===0?32:31-(It(o)/Qn|0)|0}var Fr=128,Bn=4194304;function gn(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Kn(o,a){var u=o.pendingLanes;if(u===0)return 0;var p=0,v=o.suspendedLanes,S=o.pingedLanes,D=o.warmLanes;o=o.finishedLanes!==0;var q=u&134217727;return q!==0?(u=q&~v,u!==0?p=gn(u):(S&=q,S!==0?p=gn(S):o||(D=q&~D,D!==0&&(p=gn(D))))):(q=u&~v,q!==0?p=gn(q):S!==0?p=gn(S):o||(D=u&~D,D!==0&&(p=gn(D)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,D=a&-a,v>=D||v===32&&(D&4194176)!==0)?a:p}function rr(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function ir(o,a){switch(o){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var o=Fr;return Fr<<=1,(Fr&4194176)===0&&(Fr=128),o}function Xn(){var o=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),o}function hr(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function Fn(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xr(o,a,u,p,v,S){var D=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var q=o.entanglements,Q=o.expirationTimes,ce=o.hiddenUpdates;for(u=D&~u;0<u;){var Ae=31-At(u),ze=1<<Ae;q[Ae]=0,Q[Ae]=-1;var xe=ce[Ae];if(xe!==null)for(ce[Ae]=null,Ae=0;Ae<xe.length;Ae++){var Te=xe[Ae];Te!==null&&(Te.lane&=-536870913)}u&=~ze}p!==0&&Zt(o,p,0),S!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=S&~(D&~a))}function Zt(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var p=31-At(a);o.entangledLanes|=a,o.entanglements[p]=o.entanglements[p]|1073741824|u&4194218}function yn(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var p=31-At(u),v=1<<p;v&a|o[p]&a&&(o[p]|=a),u&=~v}}function Ns(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function io(){var o=Ge.p;return o!==0?o:(o=window.event,o===void 0?32:Wv(o.type))}function Oi(o,a){var u=Ge.p;try{return Ge.p=o,a()}finally{Ge.p=u}}var Rr=Math.random().toString(36).slice(2),pr="__reactFiber$"+Rr,or="__reactProps$"+Rr,oo="__reactContainer$"+Rr,Do="__reactEvents$"+Rr,hu="__reactListeners$"+Rr,Rm="__reactHandles$"+Rr,rs="__reactResources$"+Rr,tl="__reactMarker$"+Rr;function is(o){delete o[pr],delete o[or],delete o[Do],delete o[hu],delete o[Rm]}function Ls(o){var a=o[pr];if(a)return a;for(var u=o.parentNode;u;){if(a=u[oo]||u[pr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=Pv(o);o!==null;){if(u=o[pr])return u;o=Pv(o)}return a}o=u,u=o.parentNode}return null}function Bs(o){if(o=o[pr]||o[oo]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function On(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function qi(o){var a=o[rs];return a||(a=o[rs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function En(o){o[tl]=!0}var If=new Set,ca={};function Ro(o,a){ss(o,a),ss(o+"Capture",a)}function ss(o,a){for(ca[o]=a,o=0;o<a.length;o++)If.add(a[o])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zf={},pu={};function kh(o){return ge.call(pu,o)?!0:ge.call(zf,o)?!1:Is.test(o)?pu[o]=!0:(zf[o]=!0,!1)}function Yt(o,a,u){if(kh(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function nl(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function so(o,a,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+p)}}function li(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function An(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mu(o){var a=An(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(D){p=""+D,S.call(this,D)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function as(o){o._valueTracker||(o._valueTracker=mu(o))}function _o(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return o&&(p=An(o)?o.checked?"true":"false":o.value),o=p,o!==u?(a.setValue(o),!0):!1}function fa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Hf=/[\n"\\]/g;function qr(o){return o.replace(Hf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function gu(o,a,u,p,v,S,D,q){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),a!=null?D==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+li(a)):o.value!==""+li(a)&&(o.value=""+li(a)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),a!=null?ac(o,D,li(a)):u!=null?ac(o,D,li(u)):p!=null&&o.removeAttribute("value"),v==null&&S!=null&&(o.defaultChecked=!!S),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+li(q):o.removeAttribute("name")}function da(o,a,u,p,v,S,D,q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),a!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;u=u!=null?""+li(u):"",a=a!=null?""+li(a):u,q||a===o.value||(o.value=a),o.defaultValue=a}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=q?o.checked:!!p,o.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D)}function ac(o,a,u){a==="number"&&fa(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function ao(o,a,u,p){if(o=o.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=a.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&p&&(o[u].defaultSelected=!0)}else{for(u=""+li(u),a=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,p&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function yu(o,a,u){if(a!=null&&(a=""+li(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+li(u):""}function lc(o,a,u,p){if(a==null){if(p!=null){if(u!=null)throw Error(r(92));if(it(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),a=u}u=li(a),o.defaultValue=u,p=o.textContent,p===u&&p!==""&&p!==null&&(o.value=p)}function Ft(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pf(o,a,u){var p=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":p?o.setProperty(a,u):typeof u!="number"||u===0||uc.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function Mh(o,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var v in a)p=a[v],a.hasOwnProperty(v)&&u[v]!==p&&Pf(o,v,p)}else for(var S in a)a.hasOwnProperty(S)&&Pf(o,S,a[S])}function Ur(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(o){return vu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var cc=null;function fc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $n=null,Vr=null;function rl(o){var a=Bs(o);if(a&&(o=a.stateNode)){var u=o[or]||null;e:switch(o=a.stateNode,a.type){case"input":if(gu(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==o&&p.form===o.form){var v=p[or]||null;if(!v)throw Error(r(90));gu(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)p=u[a],p.form===o.form&&_o(p)}break e;case"textarea":yu(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ao(o,!!u.multiple,a,!1)}}}var pa=!1;function dc(o,a,u){if(pa)return o(a,u);pa=!0;try{var p=o(a);return p}finally{if(pa=!1,($n!==null||Vr!==null)&&(dp(),$n&&(a=$n,o=Vr,Vr=$n=null,rl(a),o)))for(a=0;a<o.length;a++)rl(o[a])}}function ji(o,a){var u=o.stateNode;if(u===null)return null;var p=u[or]||null;if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var bu=!1;if(Ui)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){bu=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{bu=!1}var No=null,hc=null,il=null;function ol(){if(il)return il;var o,a=hc,u=a.length,p,v="value"in No?No.value:No.textContent,S=v.length;for(o=0;o<u&&a[o]===v[o];o++);var D=u-o;for(p=1;p<=D&&a[u-p]===v[S-p];p++);return il=v.slice(o,1<p?1-p:void 0)}function xn(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function wn(){return!0}function Dh(){return!1}function Cr(o){function a(u,p,v,S,D){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(u=o[q],this[q]=u?u(S):S[q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?wn:Dh,this.isPropagationStopped=Dh,this}return Me(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wn)},persist:function(){},isPersistent:wn}),a}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Cr(ma),zs=Me({},ma,{view:0,detail:0}),mc=Cr(zs),sl,Ff,sr,al=Me({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==sr&&(sr&&o.type==="mousemove"?(sl=o.screenX-sr.screenX,Ff=o.screenY-sr.screenY):Ff=sl=0,sr=o),sl)},movementY:function(o){return"movementY"in o?o.movementY:Ff}}),Lo=Cr(al),gc=Me({},al,{dataTransfer:0}),yc=Cr(gc),Jr=Me({},zs,{relatedTarget:0}),ga=Cr(Jr),xu=Me({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),qf=Cr(xu),Rh=Me({},ma,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),wu=Cr(Rh),vc=Me({},ma,{data:0}),jr=Cr(vc),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Kr[o])?!!a[o]:!1}function fi(){return ll}var Su=Me({},zs,{key:function(o){if(o.key){var a=Uf[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xn(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ci[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(o){return o.type==="keypress"?xn(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xn(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ul=Cr(Su),qn=Me({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Cr(qn),cl=Me({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),Vf=Cr(cl),ls=Me({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),jf=Cr(ls),Kf=Me({},al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bc=Cr(Kf),xc=Me({},ma,{newState:0,oldState:0}),Cu=Cr(xc),fl=[9,13,27,32],Eu=Ui&&"CompositionEvent"in window,us=null;Ui&&"documentMode"in document&&(us=document.documentMode);var _h=Ui&&"TextEvent"in window&&!us,dl=Ui&&(!Eu||us&&8<us&&11>=us),hl=" ",$f=!1;function Yf(o,a){switch(o){case"keyup":return fl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cs=!1;function Nh(o,a){switch(o){case"compositionend":return wc(a);case"keypress":return a.which!==32?null:($f=!0,hl);case"textInput":return o=a.data,o===hl&&$f?null:o;default:return null}}function Lh(o,a){if(cs)return o==="compositionend"||!Eu&&Yf(o,a)?(o=ol(),il=hc=No=null,cs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return dl&&a.locale!=="ko"?null:a.data;default:return null}}var di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pl(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!di[o.type]:a==="textarea"}function ya(o,a,u,p){$n?Vr?Vr.push(p):Vr=[p]:$n=p,a=gp(a,"onChange"),0<a.length&&(u=new pc("onChange","change",null,u,p),o.push({event:u,listeners:a}))}var va=null,ml=null;function _m(o){Lv(o,0)}function Sc(o){var a=On(o);if(_o(a))return o}function Tu(o,a){if(o==="change")return a}var Io=!1;if(Ui){var Yn;if(Ui){var lo="oninput"in document;if(!lo){var Ai=document.createElement("div");Ai.setAttribute("oninput","return;"),lo=typeof Ai.oninput=="function"}Yn=lo}else Yn=!1;Io=Yn&&(!document.documentMode||9<document.documentMode)}function Bh(){va&&(va.detachEvent("onpropertychange",gl),ml=va=null)}function gl(o){if(o.propertyName==="value"&&Sc(ml)){var a=[];ya(a,ml,o,fc(o)),dc(_m,a)}}function Gf(o,a,u){o==="focusin"?(Bh(),va=a,ml=u,va.attachEvent("onpropertychange",gl)):o==="focusout"&&Bh()}function hi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sc(ml)}function yl(o,a){if(o==="click")return Sc(a)}function vl(o,a){if(o==="input"||o==="change")return Sc(a)}function Hs(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var pi=typeof Object.is=="function"?Object.is:Hs;function g(o,a){if(pi(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!ge.call(a,v)||!pi(o[v],a[v]))return!1}return!0}function w(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function O(o,a){var u=w(o);o=0;for(var p;u;){if(u.nodeType===3){if(p=o+u.textContent.length,o<=a&&p>=a)return{node:u,offset:a-o};o=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=w(u)}}function M(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?M(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function _(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=fa(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=fa(o.document)}return a}function z(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function $(o,a){var u=_(a);a=o.focusedElem;var p=o.selectionRange;if(u!==a&&a&&a.ownerDocument&&M(a.ownerDocument.documentElement,a)){if(p!==null&&z(a)){if(o=p.start,u=p.end,u===void 0&&(u=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(u,a.value.length);else if(u=(o=a.ownerDocument||document)&&o.defaultView||window,u.getSelection){u=u.getSelection();var v=a.textContent.length,S=Math.min(p.start,v);p=p.end===void 0?S:Math.min(p.end,v),!u.extend&&S>p&&(v=p,p=S,S=v),v=O(a,S);var D=O(a,p);v&&D&&(u.rangeCount!==1||u.anchorNode!==v.node||u.anchorOffset!==v.offset||u.focusNode!==D.node||u.focusOffset!==D.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),u.removeAllRanges(),S>p?(u.addRange(o),u.extend(D.node,D.offset)):(o.setEnd(D.node,D.offset),u.addRange(o)))}}for(o=[],u=a;u=u.parentNode;)u.nodeType===1&&o.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)u=o[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var J=Ui&&"documentMode"in document&&11>=document.documentMode,se=null,B=null,j=null,I=!1;function Z(o,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;I||se==null||se!==fa(p)||(p=se,"selectionStart"in p&&z(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),j&&g(j,p)||(j=p,p=gp(B,"onSelect"),0<p.length&&(a=new pc("onSelect","select",null,a,u),o.push({event:a,listeners:p}),a.target=se)))}function W(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var ne={animationend:W("Animation","AnimationEnd"),animationiteration:W("Animation","AnimationIteration"),animationstart:W("Animation","AnimationStart"),transitionrun:W("Transition","TransitionRun"),transitionstart:W("Transition","TransitionStart"),transitioncancel:W("Transition","TransitionCancel"),transitionend:W("Transition","TransitionEnd")},le={},ie={};Ui&&(ie=document.createElement("div").style,"AnimationEvent"in window||(delete ne.animationend.animation,delete ne.animationiteration.animation,delete ne.animationstart.animation),"TransitionEvent"in window||delete ne.transitionend.transition);function me(o){if(le[o])return le[o];if(!ne[o])return o;var a=ne[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in ie)return le[o]=a[u];return o}var Se=me("animationend"),ve=me("animationiteration"),Ee=me("animationstart"),je=me("transitionrun"),Xe=me("transitionstart"),Ue=me("transitioncancel"),Ke=me("transitionend"),Be=new Map,Ze="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function rt(o,a){Be.set(o,a),Ro(a,[o])}var bt=[],Pt=0,Vt=0;function $r(){for(var o=Pt,a=Vt=Pt=0;a<o;){var u=bt[a];bt[a++]=null;var p=bt[a];bt[a++]=null;var v=bt[a];bt[a++]=null;var S=bt[a];if(bt[a++]=null,p!==null&&v!==null){var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}S!==0&&bl(u,v,S)}}function kt(o,a,u,p){bt[Pt++]=o,bt[Pt++]=a,bt[Pt++]=u,bt[Pt++]=p,Vt|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Un(o,a,u,p){return kt(o,a,u,p),ar(o)}function In(o,a){return kt(o,null,null,a),ar(o)}function bl(o,a,u){o.lanes|=u;var p=o.alternate;p!==null&&(p.lanes|=u);for(var v=!1,S=o.return;S!==null;)S.childLanes|=u,p=S.alternate,p!==null&&(p.childLanes|=u),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(v=!0)),o=S,S=S.return;v&&a!==null&&o.tag===3&&(S=o.stateNode,v=31-At(u),S=S.hiddenUpdates,o=S[v],o===null?S[v]=[a]:o.push(a),a.lane=u|536870912)}function ar(o){if(50<Od)throw Od=0,Dg=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var ki={},Ou=new WeakMap;function Mi(o,a){if(typeof o=="object"&&o!==null){var u=Ou.get(o);return u!==void 0?u:(a={value:o,source:a,stack:$e(a)},Ou.set(o,a),a)}return{value:o,source:a,stack:$e(a)}}var Au=[],Ps=0,Fs=null,ku=0,zo=[],Ho=0,Mu=null,Po=1,Fo="";function ba(o,a){Au[Ps++]=ku,Au[Ps++]=Fs,Fs=o,ku=a}function M0(o,a,u){zo[Ho++]=Po,zo[Ho++]=Fo,zo[Ho++]=Mu,Mu=o;var p=Po;o=Fo;var v=32-At(p)-1;p&=~(1<<v),u+=1;var S=32-At(a)+v;if(30<S){var D=v-v%5;S=(p&(1<<D)-1).toString(32),p>>=D,v-=D,Po=1<<32-At(a)+v|u<<v|p,Fo=S+o}else Po=1<<S|u<<v|p,Fo=o}function Ih(o){o.return!==null&&(ba(o,1),M0(o,1,0))}function Nm(o){for(;o===Fs;)Fs=Au[--Ps],Au[Ps]=null,ku=Au[--Ps],Au[Ps]=null;for(;o===Mu;)Mu=zo[--Ho],zo[Ho]=null,Fo=zo[--Ho],zo[Ho]=null,Po=zo[--Ho],zo[Ho]=null}var Di=null,an=null,Lt=!1,fs=null,qs=!1,zh=Error(r(519));function Du(o){var a=Error(r(418,""));throw xa(Mi(a,o)),zh}function Hh(o){var a=o.stateNode,u=o.type,p=o.memoizedProps;switch(a[pr]=o,a[or]=p,u){case"dialog":ln("cancel",a),ln("close",a);break;case"iframe":case"object":case"embed":ln("load",a);break;case"video":case"audio":for(u=0;u<Md.length;u++)ln(Md[u],a);break;case"source":ln("error",a);break;case"img":case"image":case"link":ln("error",a),ln("load",a);break;case"details":ln("toggle",a);break;case"input":ln("invalid",a),da(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),as(a);break;case"select":ln("invalid",a);break;case"textarea":ln("invalid",a),lc(a,p.value,p.defaultValue,p.children),as(a)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||p.suppressHydrationWarning===!0||qt(a.textContent,u)?(p.popover!=null&&(ln("beforetoggle",a),ln("toggle",a)),p.onScroll!=null&&ln("scroll",a),p.onScrollEnd!=null&&ln("scrollend",a),p.onClick!=null&&(a.onclick=yp),a=!0):a=!1,a||Du(o)}function Cc(o){for(Di=o.return;Di;)switch(Di.tag){case 3:case 27:qs=!0;return;case 5:case 13:qs=!1;return;default:Di=Di.return}}function Ru(o){if(o!==Di)return!1;if(!Lt)return Cc(o),Lt=!0,!1;var a=!1,u;if((u=o.tag!==3&&o.tag!==27)&&((u=o.tag===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||Rd(o.type,o.memoizedProps)),u=!u),u&&(a=!0),a&&an&&Du(o),Cc(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(a===0){an=Ss(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;o=o.nextSibling}an=null}}else an=Di?Ss(o.stateNode.nextSibling):null;return!0}function Us(){an=Di=null,Lt=!1}function xa(o){fs===null?fs=[o]:fs.push(o)}var wa=Error(r(460)),Wf=Error(r(474)),xl={then:function(){}};function D0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ph(){}function R0(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Ph,Ph),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===wa?Error(r(483)):o;default:if(typeof a.status=="string")a.then(Ph,Ph);else{if(o=zn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(p){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=p}},function(p){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===wa?Error(r(483)):o}throw Qf=a,wa}}var Qf=null;function _0(){if(Qf===null)throw Error(r(459));var o=Qf;return Qf=null,o}var Sa=null,Ca=0;function Xf(o){var a=Ca;return Ca+=1,Sa===null&&(Sa=[]),R0(Sa,o,a)}function P(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Ea(o,a){throw a.$$typeof===s?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function Jf(o){var a=o._init;return a(o._payload)}function uo(o){function a(pe,ue){if(o){var ye=pe.deletions;ye===null?(pe.deletions=[ue],pe.flags|=16):ye.push(ue)}}function u(pe,ue){if(!o)return null;for(;ue!==null;)a(pe,ue),ue=ue.sibling;return null}function p(pe){for(var ue=new Map;pe!==null;)pe.key!==null?ue.set(pe.key,pe):ue.set(pe.index,pe),pe=pe.sibling;return ue}function v(pe,ue){return pe=Il(pe,ue),pe.index=0,pe.sibling=null,pe}function S(pe,ue,ye){return pe.index=ye,o?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ue?(pe.flags|=33554434,ue):ye):(pe.flags|=33554434,ue)):(pe.flags|=1048576,ue)}function D(pe){return o&&pe.alternate===null&&(pe.flags|=33554434),pe}function q(pe,ue,ye,Re){return ue===null||ue.tag!==6?(ue=Sg(ye,pe.mode,Re),ue.return=pe,ue):(ue=v(ue,ye),ue.return=pe,ue)}function Q(pe,ue,ye,Re){var dt=ye.type;return dt===d?Ae(pe,ue,ye.props.children,Re,ye.key):ue!==null&&(ue.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===K&&Jf(dt)===ue.type)?(ue=v(ue,ye.props),P(ue,ye),ue.return=pe,ue):(ue=wd(ye.type,ye.key,ye.props,null,pe.mode,Re),P(ue,ye),ue.return=pe,ue)}function ce(pe,ue,ye,Re){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ye.containerInfo||ue.stateNode.implementation!==ye.implementation?(ue=Cg(ye,pe.mode,Re),ue.return=pe,ue):(ue=v(ue,ye.children||[]),ue.return=pe,ue)}function Ae(pe,ue,ye,Re,dt){return ue===null||ue.tag!==7?(ue=Pu(ye,pe.mode,Re,dt),ue.return=pe,ue):(ue=v(ue,ye),ue.return=pe,ue)}function ze(pe,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=Sg(""+ue,pe.mode,ye),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ye=wd(ue.type,ue.key,ue.props,null,pe.mode,ye),P(ye,ue),ye.return=pe,ye;case f:return ue=Cg(ue,pe.mode,ye),ue.return=pe,ue;case K:var Re=ue._init;return ue=Re(ue._payload),ze(pe,ue,ye)}if(it(ue)||re(ue))return ue=Pu(ue,pe.mode,ye,null),ue.return=pe,ue;if(typeof ue.then=="function")return ze(pe,Xf(ue),ye);if(ue.$$typeof===T)return ze(pe,op(pe,ue),ye);Ea(pe,ue)}return null}function xe(pe,ue,ye,Re){var dt=ue!==null?ue.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return dt!==null?null:q(pe,ue,""+ye,Re);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:return ye.key===dt?Q(pe,ue,ye,Re):null;case f:return ye.key===dt?ce(pe,ue,ye,Re):null;case K:return dt=ye._init,ye=dt(ye._payload),xe(pe,ue,ye,Re)}if(it(ye)||re(ye))return dt!==null?null:Ae(pe,ue,ye,Re,null);if(typeof ye.then=="function")return xe(pe,ue,Xf(ye),Re);if(ye.$$typeof===T)return xe(pe,ue,op(pe,ye),Re);Ea(pe,ye)}return null}function Te(pe,ue,ye,Re,dt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return pe=pe.get(ye)||null,q(ue,pe,""+Re,dt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return pe=pe.get(Re.key===null?ye:Re.key)||null,Q(ue,pe,Re,dt);case f:return pe=pe.get(Re.key===null?ye:Re.key)||null,ce(ue,pe,Re,dt);case K:var en=Re._init;return Re=en(Re._payload),Te(pe,ue,ye,Re,dt)}if(it(Re)||re(Re))return pe=pe.get(ye)||null,Ae(ue,pe,Re,dt,null);if(typeof Re.then=="function")return Te(pe,ue,ye,Xf(Re),dt);if(Re.$$typeof===T)return Te(pe,ue,ye,op(ue,Re),dt);Ea(ue,Re)}return null}function vt(pe,ue,ye,Re){for(var dt=null,en=null,Ct=ue,Rt=ue=0,Tn=null;Ct!==null&&Rt<ye.length;Rt++){Ct.index>Rt?(Tn=Ct,Ct=null):Tn=Ct.sibling;var mn=xe(pe,Ct,ye[Rt],Re);if(mn===null){Ct===null&&(Ct=Tn);break}o&&Ct&&mn.alternate===null&&a(pe,Ct),ue=S(mn,ue,Rt),en===null?dt=mn:en.sibling=mn,en=mn,Ct=Tn}if(Rt===ye.length)return u(pe,Ct),Lt&&ba(pe,Rt),dt;if(Ct===null){for(;Rt<ye.length;Rt++)Ct=ze(pe,ye[Rt],Re),Ct!==null&&(ue=S(Ct,ue,Rt),en===null?dt=Ct:en.sibling=Ct,en=Ct);return Lt&&ba(pe,Rt),dt}for(Ct=p(Ct);Rt<ye.length;Rt++)Tn=Te(Ct,pe,Rt,ye[Rt],Re),Tn!==null&&(o&&Tn.alternate!==null&&Ct.delete(Tn.key===null?Rt:Tn.key),ue=S(Tn,ue,Rt),en===null?dt=Tn:en.sibling=Tn,en=Tn);return o&&Ct.forEach(function(Vl){return a(pe,Vl)}),Lt&&ba(pe,Rt),dt}function zt(pe,ue,ye,Re){if(ye==null)throw Error(r(151));for(var dt=null,en=null,Ct=ue,Rt=ue=0,Tn=null,mn=ye.next();Ct!==null&&!mn.done;Rt++,mn=ye.next()){Ct.index>Rt?(Tn=Ct,Ct=null):Tn=Ct.sibling;var Vl=xe(pe,Ct,mn.value,Re);if(Vl===null){Ct===null&&(Ct=Tn);break}o&&Ct&&Vl.alternate===null&&a(pe,Ct),ue=S(Vl,ue,Rt),en===null?dt=Vl:en.sibling=Vl,en=Vl,Ct=Tn}if(mn.done)return u(pe,Ct),Lt&&ba(pe,Rt),dt;if(Ct===null){for(;!mn.done;Rt++,mn=ye.next())mn=ze(pe,mn.value,Re),mn!==null&&(ue=S(mn,ue,Rt),en===null?dt=mn:en.sibling=mn,en=mn);return Lt&&ba(pe,Rt),dt}for(Ct=p(Ct);!mn.done;Rt++,mn=ye.next())mn=Te(Ct,pe,Rt,mn.value,Re),mn!==null&&(o&&mn.alternate!==null&&Ct.delete(mn.key===null?Rt:mn.key),ue=S(mn,ue,Rt),en===null?dt=mn:en.sibling=mn,en=mn);return o&&Ct.forEach(function(Lx){return a(pe,Lx)}),Lt&&ba(pe,Rt),dt}function fr(pe,ue,ye,Re){if(typeof ye=="object"&&ye!==null&&ye.type===d&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:e:{for(var dt=ye.key;ue!==null;){if(ue.key===dt){if(dt=ye.type,dt===d){if(ue.tag===7){u(pe,ue.sibling),Re=v(ue,ye.props.children),Re.return=pe,pe=Re;break e}}else if(ue.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===K&&Jf(dt)===ue.type){u(pe,ue.sibling),Re=v(ue,ye.props),P(Re,ye),Re.return=pe,pe=Re;break e}u(pe,ue);break}else a(pe,ue);ue=ue.sibling}ye.type===d?(Re=Pu(ye.props.children,pe.mode,Re,ye.key),Re.return=pe,pe=Re):(Re=wd(ye.type,ye.key,ye.props,null,pe.mode,Re),P(Re,ye),Re.return=pe,pe=Re)}return D(pe);case f:e:{for(dt=ye.key;ue!==null;){if(ue.key===dt)if(ue.tag===4&&ue.stateNode.containerInfo===ye.containerInfo&&ue.stateNode.implementation===ye.implementation){u(pe,ue.sibling),Re=v(ue,ye.children||[]),Re.return=pe,pe=Re;break e}else{u(pe,ue);break}else a(pe,ue);ue=ue.sibling}Re=Cg(ye,pe.mode,Re),Re.return=pe,pe=Re}return D(pe);case K:return dt=ye._init,ye=dt(ye._payload),fr(pe,ue,ye,Re)}if(it(ye))return vt(pe,ue,ye,Re);if(re(ye)){if(dt=re(ye),typeof dt!="function")throw Error(r(150));return ye=dt.call(ye),zt(pe,ue,ye,Re)}if(typeof ye.then=="function")return fr(pe,ue,Xf(ye),Re);if(ye.$$typeof===T)return fr(pe,ue,op(pe,ye),Re);Ea(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ue!==null&&ue.tag===6?(u(pe,ue.sibling),Re=v(ue,ye),Re.return=pe,pe=Re):(u(pe,ue),Re=Sg(ye,pe.mode,Re),Re.return=pe,pe=Re),D(pe)):u(pe,ue)}return function(pe,ue,ye,Re){try{Ca=0;var dt=fr(pe,ue,ye,Re);return Sa=null,dt}catch(Ct){if(Ct===wa)throw Ct;var en=yo(29,Ct,null,pe.mode);return en.lanes=Re,en.return=pe,en}finally{}}}var jt=uo(!0),N0=uo(!1),Ec=yt(null),Fh=yt(0);function wl(o,a){o=Ba,ft(Fh,o),ft(Ec,a),Ba=o|a.baseLanes}function Lm(){ft(Fh,Ba),ft(Ec,Ec.current)}function Bm(){Ba=Fh.current,Pe(Ec),Pe(Fh)}var qo=yt(null),Vs=null;function Sl(o){var a=o.alternate;ft(_r,_r.current&1),ft(qo,o),Vs===null&&(a===null||Ec.current!==null||a.memoizedState!==null)&&(Vs=o)}function js(o){if(o.tag===22){if(ft(_r,_r.current),ft(qo,o),Vs===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(Vs=o)}}else Cl()}function Cl(){ft(_r,_r.current),ft(qo,qo.current)}function Ta(o){Pe(qo),Vs===o&&(Vs=null),Pe(_r)}var _r=yt(0);function qh(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $b=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,p){o.push(p)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},Oa=t.unstable_scheduleCallback,Yb=t.unstable_NormalPriority,Nr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new $b,data:new Map,refCount:0}}function Zf(o){o.refCount--,o.refCount===0&&Oa(Yb,function(){o.controller.abort()})}var ed=null,Aa=0,Tc=0,Oc=null;function ds(o,a){if(ed===null){var u=ed=[];Aa=0,Tc=Fg(),Oc={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Aa++,a.then(L0,L0),a}function L0(){if(--Aa===0&&ed!==null){Oc!==null&&(Oc.status="fulfilled");var o=ed;ed=null,Tc=0,Oc=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function Gb(o,a){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return o.then(function(){p.status="fulfilled",p.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var B0=fe.S;fe.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ds(o,a),B0!==null&&B0(o,a)};var _u=yt(null);function zm(){var o=_u.current;return o!==null?o:zn.pooledCache}function td(o,a){a===null?ft(_u,_u.current):ft(_u,a.pool)}function Hm(){var o=zm();return o===null?null:{parent:Nr._currentValue,pool:o}}var El=0,Wt=null,kn=null,Jn=null,Nu=!1,Ac=!1,Tl=!1,Uh=0,co=0,Ol=null,Lu=0;function Sn(){throw Error(r(321))}function Pm(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!pi(o[u],a[u]))return!1;return!0}function Vh(o,a,u,p,v,S){return El=S,Wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,fe.H=o===null||o.memoizedState===null?$i:Ks,Tl=!1,S=u(p,v),Tl=!1,Ac&&(S=kc(a,u,p,v)),Fm(o),S}function Fm(o){fe.H=mr;var a=kn!==null&&kn.next!==null;if(El=0,Jn=kn=Wt=null,Nu=!1,co=0,Ol=null,a)throw Error(r(300));o===null||Lr||(o=o.dependencies,o!==null&&ip(o)&&(Lr=!0))}function kc(o,a,u,p){Wt=o;var v=0;do{if(Ac&&(Ol=null),co=0,Ac=!1,25<=v)throw Error(r(301));if(v+=1,Jn=kn=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}fe.H=Ml,S=a(u,p)}while(Ac);return S}function Al(){var o=fe.H,a=o.useState()[0];return a=typeof a.then=="function"?Bu(a):a,o=o.useState()[0],(kn!==null?kn.memoizedState:null)!==o&&(Wt.flags|=1024),a}function jh(){var o=Uh!==0;return Uh=0,o}function qm(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function Mc(o){if(Nu){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Nu=!1}El=0,Jn=kn=Wt=null,Ac=!1,co=Uh=0,Ol=null}function Ki(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Wt.memoizedState=Jn=o:Jn=Jn.next=o,Jn}function xr(){if(kn===null){var o=Wt.alternate;o=o!==null?o.memoizedState:null}else o=kn.next;var a=Jn===null?Wt.memoizedState:Jn.next;if(a!==null)Jn=a,kn=o;else{if(o===null)throw Wt.alternate===null?Error(r(467)):Error(r(310));kn=o,o={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Jn===null?Wt.memoizedState=Jn=o:Jn=Jn.next=o}return Jn}var Er;Er=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bu(o){var a=co;return co+=1,Ol===null&&(Ol=[]),o=R0(Ol,o,a),a=Wt,(Jn===null?a.memoizedState:Jn.next)===null&&(a=a.alternate,fe.H=a===null||a.memoizedState===null?$i:Ks),o}function nd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Bu(o);if(o.$$typeof===T)return gi(o)}throw Error(r(438,String(o)))}function Uo(o){var a=null,u=Wt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var p=Wt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Er(),Wt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),p=0;p<o;p++)u[p]=U;return a.index++,u}function hs(o,a){return typeof a=="function"?a(o):a}function Iu(o){var a=xr();return ka(a,kn,o)}function ka(o,a,u){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=o.baseQueue,S=p.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}a.baseQueue=v=S,p.pending=null}if(S=o.baseState,v===null)o.memoizedState=S;else{a=v.next;var q=D=null,Q=null,ce=a,Ae=!1;do{var ze=ce.lane&-536870913;if(ze!==ce.lane?(pn&ze)===ze:(El&ze)===ze){var xe=ce.revertLane;if(xe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ze===Tc&&(Ae=!0);else if((El&xe)===xe){ce=ce.next,xe===Tc&&(Ae=!0);continue}else ze={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(q=Q=ze,D=S):Q=Q.next=ze,Wt.lanes|=xe,zl|=xe;ze=ce.action,Tl&&u(S,ze),S=ce.hasEagerState?ce.eagerState:u(S,ze)}else xe={lane:ze,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(q=Q=xe,D=S):Q=Q.next=xe,Wt.lanes|=ze,zl|=ze;ce=ce.next}while(ce!==null&&ce!==a);if(Q===null?D=S:Q.next=q,!pi(S,o.memoizedState)&&(Lr=!0,Ae&&(u=Oc,u!==null)))throw u;o.memoizedState=S,o.baseState=D,o.baseQueue=Q,p.lastRenderedState=S}return v===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Kh(o){var a=xr(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=u.dispatch,v=u.pending,S=a.memoizedState;if(v!==null){u.pending=null;var D=v=v.next;do S=o(S,D.action),D=D.next;while(D!==v);pi(S,a.memoizedState)||(Lr=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,p]}function mi(o,a,u){var p=Wt,v=xr(),S=Lt;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=a();var D=!pi((kn||v).memoizedState,u);if(D&&(v.memoizedState=u,Lr=!0),v=v.queue,Wh(z0.bind(null,p,v,o),[o]),v.getSnapshot!==a||D||Jn!==null&&Jn.memoizedState.tag&1){if(p.flags|=2048,kl(9,I0.bind(null,p,v,u,a),{destroy:void 0},null),zn===null)throw Error(r(349));S||(El&60)!==0||$h(p,a,u)}return u}function $h(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Wt.updateQueue,a===null?(a=Er(),Wt.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function I0(o,a,u,p){a.value=u,a.getSnapshot=p,H0(a)&&Yh(o)}function z0(o,a,u){return u(function(){H0(a)&&Yh(o)})}function H0(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!pi(o,u)}catch{return!0}}function Yh(o){var a=In(o,2);a!==null&&vi(a,o,2)}function Um(o){var a=Ki();if(typeof o=="function"){var u=o;if(o=u(),Tl){ke(!0);try{u()}finally{ke(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},a}function Dc(o,a,u,p){return o.baseState=u,ka(o,kn,typeof p=="function"?p:hs)}function P0(o,a,u,p,v){if(Bc(o))throw Error(r(485));if(o=a.action,o!==null){var S={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};fe.T!==null?u(!0):S.isTransition=!1,p(S),u=a.pending,u===null?(S.next=a.pending=S,F0(a,S)):(S.next=u.next,a.pending=u.next=S)}}function F0(o,a){var u=a.action,p=a.payload,v=o.state;if(a.isTransition){var S=fe.T,D={};fe.T=D;try{var q=u(v,p),Q=fe.S;Q!==null&&Q(D,q),q0(o,a,q)}catch(ce){Vm(o,a,ce)}finally{fe.T=S}}else try{S=u(v,p),q0(o,a,S)}catch(ce){Vm(o,a,ce)}}function q0(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Rc(o,a,p)},function(p){return Vm(o,a,p)}):Rc(o,a,u)}function Rc(o,a,u){a.status="fulfilled",a.value=u,U0(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,F0(o,u)))}function Vm(o,a,u){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=u,U0(a),a=a.next;while(a!==p)}o.action=null}function U0(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function Gh(o,a){return a}function jm(o,a){if(Lt){var u=zn.formState;if(u!==null){e:{var p=Wt;if(Lt){if(an){t:{for(var v=an,S=qs;v.nodeType!==8;){if(!S){v=null;break t}if(v=Ss(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){an=Ss(v.nextSibling),p=v.data==="F!";break e}}Du(p)}p=!1}p&&(a=u[0])}}return u=Ki(),u.memoizedState=u.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:a},u.queue=p,u=fo.bind(null,Wt,p),p.dispatch=u,p=Um(!1),S=Lc.bind(null,Wt,!1,p.queue),p=Ki(),v={state:a,dispatch:null,action:o,pending:null},p.queue=v,u=P0.bind(null,Wt,v,S,u),v.dispatch=u,p.memoizedState=o,[a,u,!1]}function V0(o){var a=xr();return j0(a,kn,o)}function j0(o,a,u){a=ka(o,a,Gh)[0],o=Iu(hs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Bu(a):a;var p=xr(),v=p.queue,S=v.dispatch;return u!==p.memoizedState&&(Wt.flags|=2048,kl(9,Wb.bind(null,v,u),{destroy:void 0},null)),[a,S,o]}function Wb(o,a){o.action=a}function Km(o){var a=xr(),u=kn;if(u!==null)return j0(a,u,o);xr(),a=a.memoizedState,u=xr();var p=u.queue.dispatch;return u.memoizedState=o,[a,p,!1]}function kl(o,a,u,p){return o={tag:o,create:a,inst:u,deps:p,next:null},a=Wt.updateQueue,a===null&&(a=Er(),Wt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(p=u.next,u.next=o,o.next=p,a.lastEffect=o),o}function K0(){return xr().memoizedState}function _c(o,a,u,p){var v=Ki();Wt.flags|=o,v.memoizedState=kl(1|a,u,{destroy:void 0},p===void 0?null:p)}function rd(o,a,u,p){var v=xr();p=p===void 0?null:p;var S=v.memoizedState.inst;kn!==null&&p!==null&&Pm(p,kn.memoizedState.deps)?v.memoizedState=kl(a,u,S,p):(Wt.flags|=o,v.memoizedState=kl(1|a,u,S,p))}function $m(o,a){_c(8390656,8,o,a)}function Wh(o,a){rd(2048,8,o,a)}function id(o,a){return rd(4,2,o,a)}function $0(o,a){return rd(4,4,o,a)}function Ym(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Gm(o,a,u){u=u!=null?u.concat([o]):null,rd(4,4,Ym.bind(null,a,o),u)}function Wm(){}function Qm(o,a){var u=xr();a=a===void 0?null:a;var p=u.memoizedState;return a!==null&&Pm(a,p[1])?p[0]:(u.memoizedState=[o,a],o)}function Y0(o,a){var u=xr();a=a===void 0?null:a;var p=u.memoizedState;if(a!==null&&Pm(a,p[1]))return p[0];if(p=o(),Tl){ke(!0);try{o()}finally{ke(!1)}}return u.memoizedState=[p,a],p}function od(o,a,u){return u===void 0||(El&1073741824)!==0?o.memoizedState=a:(o.memoizedState=u,o=vv(),Wt.lanes|=o,zl|=o,u)}function Xm(o,a,u,p){return pi(u,a)?u:Ec.current!==null?(o=od(o,u,p),pi(o,a)||(Lr=!0),o):(El&42)===0?(Lr=!0,o.memoizedState=u):(o=vv(),Wt.lanes|=o,zl|=o,a)}function Qh(o,a,u,p,v){var S=Ge.p;Ge.p=S!==0&&8>S?S:8;var D=fe.T,q={};fe.T=q,Lc(o,!1,a,u);try{var Q=v(),ce=fe.S;if(ce!==null&&ce(q,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ae=Gb(Q,p);ad(o,a,Ae,bo(o))}else ad(o,a,p,bo(o))}catch(ze){ad(o,a,{then:function(){},status:"rejected",reason:ze},bo())}finally{Ge.p=S,fe.T=D}}function Qb(){}function sd(o,a,u,p){if(o.tag!==5)throw Error(r(476));var v=Gt(o).queue;Qh(o,v,a,ht,u===null?Qb:function(){return G0(o),u(p)})}function Gt(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ht},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function G0(o){var a=Gt(o).next.queue;ad(o,a,{},bo())}function Jm(){return gi(Ld)}function Nc(){return xr().memoizedState}function Zm(){return xr().memoizedState}function Xb(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=bo();o=vs(u);var p=ho(a,o,u);p!==null&&(vi(p,a,u),Ot(p,a,u)),a={cache:Im()},o.payload=a;return}a=a.return}}function Jb(o,a,u){var p=bo();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bc(o)?eg(a,u):(u=Un(o,a,u,p),u!==null&&(vi(u,o,p),tg(u,a,p)))}function fo(o,a,u){var p=bo();ad(o,a,u,p)}function ad(o,a,u,p){var v={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bc(o))eg(a,v);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var D=a.lastRenderedState,q=S(D,u);if(v.hasEagerState=!0,v.eagerState=q,pi(q,D))return kt(o,a,v,0),zn===null&&$r(),!1}catch{}finally{}if(u=Un(o,a,v,p),u!==null)return vi(u,o,p),tg(u,a,p),!0}return!1}function Lc(o,a,u,p){if(p={lane:2,revertLane:Fg(),action:p,hasEagerState:!1,eagerState:null,next:null},Bc(o)){if(a)throw Error(r(479))}else a=Un(o,u,p,2),a!==null&&vi(a,o,2)}function Bc(o){var a=o.alternate;return o===Wt||a!==null&&a===Wt}function eg(o,a){Ac=Nu=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function tg(o,a,u){if((u&4194176)!==0){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,yn(o,u)}}var mr={readContext:gi,use:nd,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn};mr.useCacheRefresh=Sn,mr.useMemoCache=Sn,mr.useHostTransitionStatus=Sn,mr.useFormState=Sn,mr.useActionState=Sn,mr.useOptimistic=Sn;var $i={readContext:gi,use:nd,useCallback:function(o,a){return Ki().memoizedState=[o,a===void 0?null:a],o},useContext:gi,useEffect:$m,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,_c(4194308,4,Ym.bind(null,a,o),u)},useLayoutEffect:function(o,a){return _c(4194308,4,o,a)},useInsertionEffect:function(o,a){_c(4,2,o,a)},useMemo:function(o,a){var u=Ki();a=a===void 0?null:a;var p=o();if(Tl){ke(!0);try{o()}finally{ke(!1)}}return u.memoizedState=[p,a],p},useReducer:function(o,a,u){var p=Ki();if(u!==void 0){var v=u(a);if(Tl){ke(!0);try{u(a)}finally{ke(!1)}}}else v=a;return p.memoizedState=p.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},p.queue=o,o=o.dispatch=Jb.bind(null,Wt,o),[p.memoizedState,o]},useRef:function(o){var a=Ki();return o={current:o},a.memoizedState=o},useState:function(o){o=Um(o);var a=o.queue,u=fo.bind(null,Wt,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:Wm,useDeferredValue:function(o,a){var u=Ki();return od(u,o,a)},useTransition:function(){var o=Um(!1);return o=Qh.bind(null,Wt,o.queue,!0,!1),Ki().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var p=Wt,v=Ki();if(Lt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),zn===null)throw Error(r(349));(pn&60)!==0||$h(p,a,u)}v.memoizedState=u;var S={value:u,getSnapshot:a};return v.queue=S,$m(z0.bind(null,p,S,o),[o]),p.flags|=2048,kl(9,I0.bind(null,p,S,u,a),{destroy:void 0},null),u},useId:function(){var o=Ki(),a=zn.identifierPrefix;if(Lt){var u=Fo,p=Po;u=(p&~(1<<32-At(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Uh++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Lu++,a=":"+a+"r"+u.toString(32)+":";return o.memoizedState=a},useCacheRefresh:function(){return Ki().memoizedState=Xb.bind(null,Wt)}};$i.useMemoCache=Uo,$i.useHostTransitionStatus=Jm,$i.useFormState=jm,$i.useActionState=jm,$i.useOptimistic=function(o){var a=Ki();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Lc.bind(null,Wt,!0,u),u.dispatch=a,[o,a]};var Ks={readContext:gi,use:nd,useCallback:Qm,useContext:gi,useEffect:Wh,useImperativeHandle:Gm,useInsertionEffect:id,useLayoutEffect:$0,useMemo:Y0,useReducer:Iu,useRef:K0,useState:function(){return Iu(hs)},useDebugValue:Wm,useDeferredValue:function(o,a){var u=xr();return Xm(u,kn.memoizedState,o,a)},useTransition:function(){var o=Iu(hs)[0],a=xr().memoizedState;return[typeof o=="boolean"?o:Bu(o),a]},useSyncExternalStore:mi,useId:Nc};Ks.useCacheRefresh=Zm,Ks.useMemoCache=Uo,Ks.useHostTransitionStatus=Jm,Ks.useFormState=V0,Ks.useActionState=V0,Ks.useOptimistic=function(o,a){var u=xr();return Dc(u,kn,o,a)};var Ml={readContext:gi,use:nd,useCallback:Qm,useContext:gi,useEffect:Wh,useImperativeHandle:Gm,useInsertionEffect:id,useLayoutEffect:$0,useMemo:Y0,useReducer:Kh,useRef:K0,useState:function(){return Kh(hs)},useDebugValue:Wm,useDeferredValue:function(o,a){var u=xr();return kn===null?od(u,o,a):Xm(u,kn.memoizedState,o,a)},useTransition:function(){var o=Kh(hs)[0],a=xr().memoizedState;return[typeof o=="boolean"?o:Bu(o),a]},useSyncExternalStore:mi,useId:Nc};Ml.useCacheRefresh=Zm,Ml.useMemoCache=Uo,Ml.useHostTransitionStatus=Jm,Ml.useFormState=Km,Ml.useActionState=Km,Ml.useOptimistic=function(o,a){var u=xr();return kn!==null?Dc(u,kn,o,a):(u.baseState=o,[o,u.queue.dispatch])};function Ic(o,a,u,p){a=o.memoizedState,u=u(p,a),u=u==null?a:Me({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Xh={isMounted:function(o){return(o=o._reactInternals)?Ye(o)===o:!1},enqueueSetState:function(o,a,u){o=o._reactInternals;var p=bo(),v=vs(p);v.payload=a,u!=null&&(v.callback=u),a=ho(o,v,p),a!==null&&(vi(a,o,p),Ot(a,o,p))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var p=bo(),v=vs(p);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=ho(o,v,p),a!==null&&(vi(a,o,p),Ot(a,o,p))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=bo(),p=vs(u);p.tag=2,a!=null&&(p.callback=a),a=ho(o,p,u),a!==null&&(vi(a,o,u),Ot(a,o,u))}};function Jh(o,a,u,p,v,S,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,D):a.prototype&&a.prototype.isPureReactComponent?!g(u,p)||!g(v,S):!0}function ng(o,a,u,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==o&&Xh.enqueueReplaceState(a,a.state,null)}function Ma(o,a){var u=a;if("ref"in a){u={};for(var p in a)p!=="ref"&&(u[p]=a[p])}if(o=o.defaultProps){u===a&&(u=Me({},u));for(var v in o)u[v]===void 0&&(u[v]=o[v])}return u}var zc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Da(o){zc(o)}function W0(o){console.error(o)}function Ra(o){zc(o)}function ld(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function rg(o,a,u){try{var p=o.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ud(o,a,u){return u=vs(u),u.tag=3,u.payload={element:null},u.callback=function(){ld(o,a)},u}function Q0(o){return o=vs(o),o.tag=3,o}function X0(o,a,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=p.value;o.payload=function(){return v(S)},o.callback=function(){rg(a,u,p)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){rg(a,u,p),typeof v!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function Zb(o,a,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=u.alternate,a!==null&&Uc(a,u,v,!0),u=qo.current,u!==null){switch(u.tag){case 13:return Vs===null?_g():u.alternate===null&&yr===0&&(yr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===xl?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([p]):a.add(p),Lg(o,p,v)),!1;case 22:return u.flags|=65536,p===xl?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([p]):u.add(p)),Lg(o,p,v)),!1}throw Error(r(435,u.tag))}return Lg(o,p,v),_g(),!1}if(Lt)return a=qo.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,p!==zh&&(o=Error(r(422),{cause:p}),xa(Mi(o,u)))):(p!==zh&&(a=Error(r(423),{cause:p}),xa(Mi(a,u))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,p=Mi(p,u),v=ud(o.stateNode,p,v),Vc(o,v),yr!==4&&(yr=2)),!1;var S=Error(r(520),{cause:p});if(S=Mi(S,u),Cd===null?Cd=[S]:Cd.push(S),yr!==4&&(yr=2),a===null)return!0;p=Mi(p,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=v&-v,u.lanes|=o,o=ud(u.stateNode,p,o),Vc(u,o),!1;case 1:if(a=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Js===null||!Js.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Q0(v),X0(v,o,u,p),Vc(u,v),!1}u=u.return}while(u!==null);return!1}var ig=Error(r(461)),Lr=!1;function Zr(o,a,u,p){a.child=o===null?N0(a,null,u,p):jt(a,o.child,u,p)}function og(o,a,u,p,v){u=u.render;var S=a.ref;if("ref"in p){var D={};for(var q in p)q!=="ref"&&(D[q]=p[q])}else D=p;return Nl(a),p=Vh(o,a,u,D,S,v),q=jh(),o!==null&&!Lr?(qm(o,a,v),ms(o,a,v)):(Lt&&q&&Ih(a),a.flags|=1,Zr(o,a,p,v),a.child)}function sg(o,a,u,p,v){if(o===null){var S=u.type;return typeof S=="function"&&!wg(S)&&S.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=S,Ri(o,a,S,p,v)):(o=wd(u.type,null,p,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,!Fc(o,v)){var D=S.memoizedProps;if(u=u.compare,u=u!==null?u:g,u(D,p)&&o.ref===a.ref)return ms(o,a,v)}return a.flags|=1,o=Il(S,p),o.ref=a.ref,o.return=a,a.child=o}function Ri(o,a,u,p,v){if(o!==null){var S=o.memoizedProps;if(g(S,p)&&o.ref===a.ref)if(Lr=!1,a.pendingProps=p=S,Fc(o,v))(o.flags&131072)!==0&&(Lr=!0);else return a.lanes=o.lanes,ms(o,a,v)}return Hc(o,a,u,p,v)}function ps(o,a,u){var p=a.pendingProps,v=p.children,S=(a.stateNode._pendingVisibility&2)!==0,D=o!==null?o.memoizedState:null;if(cd(o,a),p.mode==="hidden"||S){if((a.flags&128)!==0){if(p=D!==null?D.baseLanes|u:u,o!==null){for(v=a.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;a.childLanes=S&~p}else a.childLanes=0,a.child=null;return J0(o,a,p,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&td(a,D!==null?D.cachePool:null),D!==null?wl(a,D):Lm(),js(a);else return a.lanes=a.childLanes=536870912,J0(o,a,D!==null?D.baseLanes|u:u,u)}else D!==null?(td(a,D.cachePool),wl(a,D),Cl(),a.memoizedState=null):(o!==null&&td(a,null),Lm(),Cl());return Zr(o,a,v,u),a.child}function J0(o,a,u,p){var v=zm();return v=v===null?null:{parent:Nr._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},o!==null&&td(a,null),Lm(),js(a),o!==null&&Uc(o,a,p,!0),null}function cd(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(a.flags|=2097664)}}function Hc(o,a,u,p,v){return Nl(a),u=Vh(o,a,u,p,void 0,v),p=jh(),o!==null&&!Lr?(qm(o,a,v),ms(o,a,v)):(Lt&&p&&Ih(a),a.flags|=1,Zr(o,a,u,v),a.child)}function zu(o,a,u,p,v,S){return Nl(a),a.updateQueue=null,u=kc(a,p,u,v),Fm(o),p=jh(),o!==null&&!Lr?(qm(o,a,S),ms(o,a,S)):(Lt&&p&&Ih(a),a.flags|=1,Zr(o,a,u,S),a.child)}function ag(o,a,u,p,v){if(Nl(a),a.stateNode===null){var S=ki,D=u.contextType;typeof D=="object"&&D!==null&&(S=gi(D)),S=new u(p,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Xh,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=p,S.state=a.memoizedState,S.refs={},hd(a),D=u.contextType,S.context=typeof D=="object"&&D!==null?gi(D):ki,S.state=a.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Ic(a,u,D,p),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Xh.enqueueReplaceState(S,S.state,null),gd(a,p,S,v),bs(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(o===null){S=a.stateNode;var q=a.memoizedProps,Q=Ma(u,q);S.props=Q;var ce=S.context,Ae=u.contextType;D=ki,typeof Ae=="object"&&Ae!==null&&(D=gi(Ae));var ze=u.getDerivedStateFromProps;Ae=typeof ze=="function"||typeof S.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,Ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(q||ce!==D)&&ng(a,S,p,D),Gs=!1;var xe=a.memoizedState;S.state=xe,gd(a,p,S,v),bs(),ce=a.memoizedState,q||xe!==ce||Gs?(typeof ze=="function"&&(Ic(a,u,ze,p),ce=a.memoizedState),(Q=Gs||Jh(a,u,Q,p,xe,ce,D))?(Ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=ce),S.props=p,S.state=ce,S.context=D,p=Q):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,pd(o,a),D=a.memoizedProps,Ae=Ma(u,D),S.props=Ae,ze=a.pendingProps,xe=S.context,ce=u.contextType,Q=ki,typeof ce=="object"&&ce!==null&&(Q=gi(ce)),q=u.getDerivedStateFromProps,(ce=typeof q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==ze||xe!==Q)&&ng(a,S,p,Q),Gs=!1,xe=a.memoizedState,S.state=xe,gd(a,p,S,v),bs();var Te=a.memoizedState;D!==ze||xe!==Te||Gs||o!==null&&o.dependencies!==null&&ip(o.dependencies)?(typeof q=="function"&&(Ic(a,u,q,p),Te=a.memoizedState),(Ae=Gs||Jh(a,u,Ae,p,xe,Te,Q)||o!==null&&o.dependencies!==null&&ip(o.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Te,Q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Te,Q)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===o.memoizedProps&&xe===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&xe===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),S.props=p,S.state=Te,S.context=Q,p=Ae):(typeof S.componentDidUpdate!="function"||D===o.memoizedProps&&xe===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&xe===o.memoizedState||(a.flags|=1024),p=!1)}return S=p,cd(o,a),p=(a.flags&128)!==0,S||p?(S=a.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,o!==null&&p?(a.child=jt(a,o.child,null,v),a.child=jt(a,null,u,v)):Zr(o,a,u,v),a.memoizedState=S.state,o=a.child):o=ms(o,a,v),o}function lg(o,a,u,p){return Us(),a.flags|=256,Zr(o,a,u,p),a.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function Zh(o){return{baseLanes:o,cachePool:Hm()}}function Dl(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Vo),o}function Pc(o,a,u){var p=a.pendingProps,v=!1,S=(a.flags&128)!==0,D;if((D=S)||(D=o!==null&&o.memoizedState===null?!1:(_r.current&2)!==0),D&&(v=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,o===null){if(Lt){if(v?Sl(a):Cl(),Lt){var q=an,Q;if(Q=q){e:{for(Q=q,q=qs;Q.nodeType!==8;){if(!q){q=null;break e}if(Q=Ss(Q.nextSibling),Q===null){q=null;break e}}q=Q}q!==null?(a.memoizedState={dehydrated:q,treeContext:Mu!==null?{id:Po,overflow:Fo}:null,retryLane:536870912},Q=yo(18,null,null,0),Q.stateNode=q,Q.return=a,a.child=Q,Di=a,an=null,Q=!0):Q=!1}Q||Du(a)}if(q=a.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return q.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ta(a)}return q=p.children,p=p.fallback,v?(Cl(),v=a.mode,q=ep({mode:"hidden",children:q},v),p=Pu(p,v,u,null),q.return=a,p.return=a,q.sibling=p,a.child=q,v=a.child,v.memoizedState=Zh(u),v.childLanes=Dl(o,D,u),a.memoizedState=ug,p):(Sl(a),cg(a,q))}if(Q=o.memoizedState,Q!==null&&(q=Q.dehydrated,q!==null)){if(S)a.flags&256?(Sl(a),a.flags&=-257,a=tp(o,a,u)):a.memoizedState!==null?(Cl(),a.child=o.child,a.flags|=128,a=null):(Cl(),v=p.fallback,q=a.mode,p=ep({mode:"visible",children:p.children},q),v=Pu(v,q,u,null),v.flags|=2,p.return=a,v.return=a,p.sibling=v,a.child=p,jt(a,o.child,null,u),p=a.child,p.memoizedState=Zh(u),p.childLanes=Dl(o,D,u),a.memoizedState=ug,a=v);else if(Sl(a),q.data==="$!"){if(D=q.nextSibling&&q.nextSibling.dataset,D)var ce=D.dgst;D=ce,p=Error(r(419)),p.stack="",p.digest=D,xa({value:p,source:null,stack:null}),a=tp(o,a,u)}else if(Lr||Uc(o,a,u,!1),D=(u&o.childLanes)!==0,Lr||D){if(D=zn,D!==null){if(p=u&-u,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(D.suspendedLanes|u))!==0?0:p,p!==0&&p!==Q.retryLane)throw Q.retryLane=p,In(o,p),vi(D,o,p),ig}q.data==="$?"||_g(),a=tp(o,a,u)}else q.data==="$?"?(a.flags|=128,a.child=o.child,a=cx.bind(null,o),q._reactRetry=a,a=null):(o=Q.treeContext,an=Ss(q.nextSibling),Di=a,Lt=!0,fs=null,qs=!1,o!==null&&(zo[Ho++]=Po,zo[Ho++]=Fo,zo[Ho++]=Mu,Po=o.id,Fo=o.overflow,Mu=a),a=cg(a,p.children),a.flags|=4096);return a}return v?(Cl(),v=p.fallback,q=a.mode,Q=o.child,ce=Q.sibling,p=Il(Q,{mode:"hidden",children:p.children}),p.subtreeFlags=Q.subtreeFlags&31457280,ce!==null?v=Il(ce,v):(v=Pu(v,q,u,null),v.flags|=2),v.return=a,p.return=a,p.sibling=v,a.child=p,p=v,v=a.child,q=o.child.memoizedState,q===null?q=Zh(u):(Q=q.cachePool,Q!==null?(ce=Nr._currentValue,Q=Q.parent!==ce?{parent:ce,pool:ce}:Q):Q=Hm(),q={baseLanes:q.baseLanes|u,cachePool:Q}),v.memoizedState=q,v.childLanes=Dl(o,D,u),a.memoizedState=ug,p):(Sl(a),u=o.child,o=u.sibling,u=Il(u,{mode:"visible",children:p.children}),u.return=a,u.sibling=null,o!==null&&(D=a.deletions,D===null?(a.deletions=[o],a.flags|=16):D.push(o)),a.child=u,a.memoizedState=null,u)}function cg(o,a){return a=ep({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function ep(o,a){return pv(o,a,0,null)}function tp(o,a,u){return jt(a,o.child,null,u),o=cg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function fd(o,a,u){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),ys(o.return,a,u)}function np(o,a,u,p,v){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=u,S.tailMode=v)}function dd(o,a,u){var p=a.pendingProps,v=p.revealOrder,S=p.tail;if(Zr(o,a,p.children,u),p=_r.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&fd(o,u,a);else if(o.tag===19)fd(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(ft(_r,p),v){case"forwards":for(u=a.child,v=null;u!==null;)o=u.alternate,o!==null&&qh(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),np(a,!1,v,u,S);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&qh(o)===null){a.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}np(a,!0,u,null,S);break;case"together":np(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ms(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),zl|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(Uc(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,u=Il(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Il(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Fc(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&ip(o)))}function ex(o,a,u){switch(a.tag){case 3:Rn(a,a.stateNode.containerInfo),_l(a,Nr,o.memoizedState.cache),Us();break;case 27:case 5:tr(a);break;case 4:Rn(a,a.stateNode.containerInfo);break;case 10:_l(a,a.type,a.memoizedProps.value);break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(Sl(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Pc(o,a,u):(Sl(a),o=ms(o,a,u),o!==null?o.sibling:null);Sl(a);break;case 19:var v=(o.flags&128)!==0;if(p=(u&a.childLanes)!==0,p||(Uc(o,a,u,!1),p=(u&a.childLanes)!==0),v){if(p)return dd(o,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ft(_r,_r.current),p)break;return null;case 22:case 23:return a.lanes=0,ps(o,a,u);case 24:_l(a,Nr,o.memoizedState.cache)}return ms(o,a,u)}function fg(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)Lr=!0;else{if(!Fc(o,u)&&(a.flags&128)===0)return Lr=!1,ex(o,a,u);Lr=(o.flags&131072)!==0}else Lr=!1,Lt&&(a.flags&1048576)!==0&&M0(a,ku,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var p=a.elementType,v=p._init;if(p=v(p._payload),a.type=p,typeof p=="function")wg(p)?(o=Ma(p,o),a.tag=1,a=ag(null,a,p,o,u)):(a.tag=0,a=Hc(null,a,p,o,u));else{if(p!=null){if(v=p.$$typeof,v===E){a.tag=11,a=og(null,a,p,o,u);break e}else if(v===H){a.tag=14,a=sg(null,a,p,o,u);break e}}throw a=we(p)||p,Error(r(306,a,""))}}return a;case 0:return Hc(o,a,a.type,a.pendingProps,u);case 1:return p=a.type,v=Ma(p,a.pendingProps),ag(o,a,p,v,u);case 3:e:{if(Rn(a,a.stateNode.containerInfo),o===null)throw Error(r(387));var S=a.pendingProps;v=a.memoizedState,p=v.element,pd(o,a),gd(a,S,null,u);var D=a.memoizedState;if(S=D.cache,_l(a,Nr,S),S!==v.cache&&rp(a,[Nr],u,!0),bs(),S=D.element,v.isDehydrated)if(v={element:S,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=lg(o,a,S,u);break e}else if(S!==p){p=Mi(Error(r(424)),a),xa(p),a=lg(o,a,S,u);break e}else for(an=Ss(a.stateNode.containerInfo.firstChild),Di=a,Lt=!0,fs=null,qs=!0,u=N0(a,null,S,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Us(),S===p){a=ms(o,a,u);break e}Zr(o,a,S,u)}a=a.child}return a;case 26:return cd(o,a),o===null?(u=ey(a.type,null,a.pendingProps,null))?a.memoizedState=u:Lt||(u=a.type,o=a.pendingProps,p=vp(Cn.current).createElement(u),p[pr]=a,p[or]=o,ti(p,u,o),En(p),a.stateNode=p):a.memoizedState=ey(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return tr(a),o===null&&Lt&&(p=a.stateNode=Zg(a.type,a.pendingProps,Cn.current),Di=a,qs=!0,an=Ss(p.firstChild)),p=a.pendingProps.children,o!==null||Lt?Zr(o,a,p,u):a.child=jt(a,null,p,u),cd(o,a),a.child;case 5:return o===null&&Lt&&((v=p=an)&&(p=yx(p,a.type,a.pendingProps,qs),p!==null?(a.stateNode=p,Di=a,an=Ss(p.firstChild),qs=!1,v=!0):v=!1),v||Du(a)),tr(a),v=a.type,S=a.pendingProps,D=o!==null?o.memoizedProps:null,p=S.children,Rd(v,S)?p=null:D!==null&&Rd(v,D)&&(a.flags|=32),a.memoizedState!==null&&(v=Vh(o,a,Al,null,null,u),Ld._currentValue=v),cd(o,a),Zr(o,a,p,u),a.child;case 6:return o===null&&Lt&&((o=u=an)&&(u=vx(u,a.pendingProps,qs),u!==null?(a.stateNode=u,Di=a,an=null,o=!0):o=!1),o||Du(a)),null;case 13:return Pc(o,a,u);case 4:return Rn(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=jt(a,null,p,u):Zr(o,a,p,u),a.child;case 11:return og(o,a,a.type,a.pendingProps,u);case 7:return Zr(o,a,a.pendingProps,u),a.child;case 8:return Zr(o,a,a.pendingProps.children,u),a.child;case 12:return Zr(o,a,a.pendingProps.children,u),a.child;case 10:return p=a.pendingProps,_l(a,a.type,p.value),Zr(o,a,p.children,u),a.child;case 9:return v=a.type._context,p=a.pendingProps.children,Nl(a),v=gi(v),p=p(v),a.flags|=1,Zr(o,a,p,u),a.child;case 14:return sg(o,a,a.type,a.pendingProps,u);case 15:return Ri(o,a,a.type,a.pendingProps,u);case 19:return dd(o,a,u);case 22:return ps(o,a,u);case 24:return Nl(a),p=gi(Nr),o===null?(v=zm(),v===null&&(v=zn,S=Im(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),a.memoizedState={parent:p,cache:v},hd(a),_l(a,Nr,v)):((o.lanes&u)!==0&&(pd(o,a),gd(a,null,null,u),bs()),v=o.memoizedState,S=a.memoizedState,v.parent!==p?(v={parent:p,cache:p},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),_l(a,Nr,p)):(p=S.cache,_l(a,Nr,p),p!==v.cache&&rp(a,[Nr],u,!0))),Zr(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var qc=yt(null),Rl=null,gs=null;function _l(o,a,u){ft(qc,a._currentValue),a._currentValue=u}function $s(o){o._currentValue=qc.current,Pe(qc)}function ys(o,a,u){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===u)break;o=o.return}}function rp(o,a,u,p){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;e:for(;S!==null;){var q=S;S=v;for(var Q=0;Q<a.length;Q++)if(q.context===a[Q]){S.lanes|=u,q=S.alternate,q!==null&&(q.lanes|=u),ys(S.return,u,o),p||(D=null);break e}S=q.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(r(341));D.lanes|=u,S=D.alternate,S!==null&&(S.lanes|=u),ys(D,u,o),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===o){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Uc(o,a,u,p){o=null;for(var v=a,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var q=v.type;pi(v.pendingProps.value,D.value)||(o!==null?o.push(q):o=[q])}}else if(v===dn.current){if(D=v.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Ld):o=[Ld])}v=v.return}o!==null&&rp(a,o,u,p),a.flags|=262144}function ip(o){for(o=o.firstContext;o!==null;){if(!pi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Nl(o){Rl=o,gs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function gi(o){return Ys(Rl,o)}function op(o,a){return Rl===null&&Nl(o),Ys(o,a)}function Ys(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},gs===null){if(o===null)throw Error(r(308));gs=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else gs=gs.next=a;return u}var Gs=!1;function hd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ho(o,a,u){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(ur&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,a=ar(o),bl(o,null,u),a}return kt(o,p,a,u),ar(o)}function Ot(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,yn(o,u)}}function Vc(o,a){var u=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,u=u.next}while(u!==null);S===null?v=S=a:S=S.next=a}else v=S=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var md=!1;function bs(){if(md){var o=Oc;if(o!==null)throw o}}function gd(o,a,u,p){md=!1;var v=o.updateQueue;Gs=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var Q=q,ce=Q.next;Q.next=null,D===null?S=ce:D.next=ce,D=Q;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,q=Ae.lastBaseUpdate,q!==D&&(q===null?Ae.firstBaseUpdate=ce:q.next=ce,Ae.lastBaseUpdate=Q))}if(S!==null){var ze=v.baseState;D=0,Ae=ce=Q=null,q=S;do{var xe=q.lane&-536870913,Te=xe!==q.lane;if(Te?(pn&xe)===xe:(p&xe)===xe){xe!==0&&xe===Tc&&(md=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var vt=o,zt=q;xe=a;var fr=u;switch(zt.tag){case 1:if(vt=zt.payload,typeof vt=="function"){ze=vt.call(fr,ze,xe);break e}ze=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=zt.payload,xe=typeof vt=="function"?vt.call(fr,ze,xe):vt,xe==null)break e;ze=Me({},ze,xe);break e;case 2:Gs=!0}}xe=q.callback,xe!==null&&(o.flags|=64,Te&&(o.flags|=8192),Te=v.callbacks,Te===null?v.callbacks=[xe]:Te.push(xe))}else Te={lane:xe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ae===null?(ce=Ae=Te,Q=ze):Ae=Ae.next=Te,D|=xe;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;Te=q,q=Te.next,Te.next=null,v.lastBaseUpdate=Te,v.shared.pending=null}}while(!0);Ae===null&&(Q=ze),v.baseState=Q,v.firstBaseUpdate=ce,v.lastBaseUpdate=Ae,S===null&&(v.shared.lanes=0),zl|=D,o.lanes=D,o.memoizedState=ze}}function sp(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function dg(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)sp(u[o],a)}function Tr(o,a){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&o)===o){p=void 0;var S=u.create,D=u.inst;p=S(),D.destroy=p}u=u.next}while(u!==v)}}catch(q){Vn(a,a.return,q)}}function Ll(o,a,u){try{var p=a.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&o)===o){var D=p.inst,q=D.destroy;if(q!==void 0){D.destroy=void 0,v=a;var Q=u;try{q()}catch(ce){Vn(v,Q,ce)}}}p=p.next}while(p!==S)}}catch(ce){Vn(a,a.return,ce)}}function Z0(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{dg(a,u)}catch(p){Vn(o,o.return,p)}}}function hg(o,a,u){u.props=Ma(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(p){Vn(o,a,p)}}function Hu(o,a){try{var u=o.ref;if(u!==null){var p=o.stateNode;switch(o.tag){case 26:case 27:case 5:var v=p;break;default:v=p}typeof u=="function"?o.refCleanup=u(v):u.current=v}}catch(S){Vn(o,a,S)}}function Yi(o,a){var u=o.ref,p=o.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Vn(o,a,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Vn(o,a,v)}else u.current=null}function ev(o){var a=o.type,u=o.memoizedProps,p=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Vn(o,o.return,v)}}function tv(o,a,u){try{var p=o.stateNode;Fl(p,o.type,u,a),p[or]=a}catch(v){Vn(o,o.return,v)}}function nv(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function xs(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ei(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(o,a):u.insertBefore(o,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(o,u)):(a=u,a.appendChild(o)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=yp));else if(p!==4&&p!==27&&(o=o.child,o!==null))for(ei(o,a,u),o=o.sibling;o!==null;)ei(o,a,u),o=o.sibling}function jc(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(p!==4&&p!==27&&(o=o.child,o!==null))for(jc(o,a,u),o=o.sibling;o!==null;)jc(o,a,u),o=o.sibling}var _a=!1,Zn=!1,pg=!1,rv=typeof WeakSet=="function"?WeakSet:Set,gr=null,mg=!1;function iv(o,a){if(o=o.containerInfo,Yg=Bd,o=_(o),z(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var D=0,q=-1,Q=-1,ce=0,Ae=0,ze=o,xe=null;t:for(;;){for(var Te;ze!==u||v!==0&&ze.nodeType!==3||(q=D+v),ze!==S||p!==0&&ze.nodeType!==3||(Q=D+p),ze.nodeType===3&&(D+=ze.nodeValue.length),(Te=ze.firstChild)!==null;)xe=ze,ze=Te;for(;;){if(ze===o)break t;if(xe===u&&++ce===v&&(q=D),xe===S&&++Ae===p&&(Q=D),(Te=ze.nextSibling)!==null)break;ze=xe,xe=ze.parentNode}ze=Te}u=q===-1||Q===-1?null:{start:q,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gg={focusedElem:o,selectionRange:u},Bd=!1,gr=a;gr!==null;)if(a=gr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,gr=o;else for(;gr!==null;){switch(a=gr,S=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,u=a,v=S.memoizedProps,S=S.memoizedState,p=u.stateNode;try{var vt=Ma(u.type,v,u.elementType===u.type);o=p.getSnapshotBeforeUpdate(vt,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(zt){Vn(u,u.return,zt)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)Jg(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Jg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,gr=o;break}gr=a.return}return vt=mg,mg=!1,vt}function ov(o,a,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Qs(o,u),p&4&&Tr(5,u);break;case 1:if(Qs(o,u),p&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(q){Vn(u,u.return,q)}else{var v=Ma(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(v,a,o.__reactInternalSnapshotBeforeUpdate)}catch(q){Vn(u,u.return,q)}}p&64&&Z0(u),p&512&&Hu(u,u.return);break;case 3:if(Qs(o,u),p&64&&(p=u.updateQueue,p!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{dg(p,o)}catch(q){Vn(u,u.return,q)}}break;case 26:Qs(o,u),p&512&&Hu(u,u.return);break;case 27:case 5:Qs(o,u),a===null&&p&4&&ev(u),p&512&&Hu(u,u.return);break;case 12:Qs(o,u);break;case 13:Qs(o,u),p&4&&av(o,u);break;case 22:if(v=u.memoizedState!==null||_a,!v){a=a!==null&&a.memoizedState!==null||Zn;var S=_a,D=Zn;_a=v,(Zn=a)&&!D?Gi(o,u,(u.subtreeFlags&8772)!==0):Qs(o,u),_a=S,Zn=D}p&512&&(u.memoizedProps.mode==="manual"?Hu(u,u.return):Yi(u,u.return));break;default:Qs(o,u)}}function sv(o){var a=o.alternate;a!==null&&(o.alternate=null,sv(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&is(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Or=null,po=!1;function Ws(o,a,u){for(u=u.child;u!==null;)gg(o,a,u),u=u.sibling}function gg(o,a,u){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Dr,u)}catch{}switch(u.tag){case 26:Zn||Yi(u,a),Ws(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zn||Yi(u,a);var p=Or,v=po;for(Or=u.stateNode,Ws(o,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);is(u),Or=p,po=v;break;case 5:Zn||Yi(u,a);case 6:v=Or;var S=po;if(Or=null,Ws(o,a,u),Or=v,po=S,Or!==null)if(po)try{o=Or,p=u.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)}catch(D){Vn(u,a,D)}else try{Or.removeChild(u.stateNode)}catch(D){Vn(u,a,D)}break;case 18:Or!==null&&(po?(a=Or,u=u.stateNode,a.nodeType===8?Xg(a.parentNode,u):a.nodeType===1&&Xg(a,u),Fd(a)):Xg(Or,u.stateNode));break;case 4:p=Or,v=po,Or=u.stateNode.containerInfo,po=!0,Ws(o,a,u),Or=p,po=v;break;case 0:case 11:case 14:case 15:Zn||Ll(2,u,a),Zn||Ll(4,u,a),Ws(o,a,u);break;case 1:Zn||(Yi(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"&&hg(u,a,p)),Ws(o,a,u);break;case 21:Ws(o,a,u);break;case 22:Zn||Yi(u,a),Zn=(p=Zn)||u.memoizedState!==null,Ws(o,a,u),Zn=p;break;default:Ws(o,a,u)}}function av(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Fd(o)}catch(u){Vn(a,a.return,u)}}function yg(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new rv),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new rv),a;default:throw Error(r(435,o.tag))}}function ap(o,a){var u=yg(o);a.forEach(function(p){var v=fx.bind(null,o,p);u.has(p)||(u.add(p),p.then(v,v))})}function yi(o,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],S=o,D=a,q=D;e:for(;q!==null;){switch(q.tag){case 27:case 5:Or=q.stateNode,po=!1;break e;case 3:Or=q.stateNode.containerInfo,po=!0;break e;case 4:Or=q.stateNode.containerInfo,po=!0;break e}q=q.return}if(Or===null)throw Error(r(160));gg(S,D,v),Or=null,po=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)vg(a,o),a=a.sibling}var mo=null;function vg(o,a){var u=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:yi(a,o),go(o),p&4&&(Ll(3,o,o.return),Tr(3,o),Ll(5,o,o.return));break;case 1:yi(a,o),go(o),p&512&&(Zn||u===null||Yi(u,u.return)),p&64&&_a&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=mo;if(yi(a,o),go(o),p&512&&(Zn||u===null||Yi(u,u.return)),p&4){var S=u!==null?u.memoizedState:null;if(p=o.memoizedState,u===null)if(p===null)if(o.stateNode===null){e:{p=o.type,u=o.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":S=v.getElementsByTagName("title")[0],(!S||S[tl]||S[pr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(p),v.head.insertBefore(S,v.querySelector("head > title"))),ti(S,p,u),S[pr]=o,En(S),p=S;break e;case"link":var D=Vv("link","href",v).get(p+(u.href||""));if(D){for(var q=0;q<D.length;q++)if(S=D[q],S.getAttribute("href")===(u.href==null?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(q,1);break t}}S=v.createElement(p),ti(S,p,u),v.head.appendChild(S);break;case"meta":if(D=Vv("meta","content",v).get(p+(u.content||""))){for(q=0;q<D.length;q++)if(S=D[q],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(q,1);break t}}S=v.createElement(p),ti(S,p,u),v.head.appendChild(S);break;default:throw Error(r(468,p))}S[pr]=o,En(S),p=S}o.stateNode=p}else jv(v,o.type,o.stateNode);else o.stateNode=_d(v,p,o.memoizedProps);else S!==p?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,p===null?jv(v,o.type,o.stateNode):_d(v,p,o.memoizedProps)):p===null&&o.stateNode!==null&&tv(o,o.memoizedProps,u.memoizedProps)}break;case 27:if(p&4&&o.alternate===null){v=o.stateNode,S=o.memoizedProps;try{for(var Q=v.firstChild;Q;){var ce=Q.nextSibling,Ae=Q.nodeName;Q[tl]||Ae==="HEAD"||Ae==="BODY"||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||v.removeChild(Q),Q=ce}for(var ze=o.type,xe=v.attributes;xe.length;)v.removeAttributeNode(xe[0]);ti(v,ze,S),v[pr]=o,v[or]=S}catch(vt){Vn(o,o.return,vt)}}case 5:if(yi(a,o),go(o),p&512&&(Zn||u===null||Yi(u,u.return)),o.flags&32){v=o.stateNode;try{Ft(v,"")}catch(vt){Vn(o,o.return,vt)}}p&4&&o.stateNode!=null&&(v=o.memoizedProps,tv(o,v,u!==null?u.memoizedProps:v)),p&1024&&(pg=!0);break;case 6:if(yi(a,o),go(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,u=o.stateNode;try{u.nodeValue=p}catch(vt){Vn(o,o.return,vt)}}break;case 3:if(Ep=null,v=mo,mo=wp(a.containerInfo),yi(a,o),mo=v,go(o),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Fd(a.containerInfo)}catch(vt){Vn(o,o.return,vt)}pg&&(pg=!1,yd(o));break;case 4:p=mo,mo=wp(o.stateNode.containerInfo),yi(a,o),go(o),mo=p;break;case 12:yi(a,o),go(o);break;case 13:yi(a,o),go(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ag=st()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,ap(o,p)));break;case 22:if(p&512&&(Zn||u===null||Yi(u,u.return)),Q=o.memoizedState!==null,ce=u!==null&&u.memoizedState!==null,Ae=_a,ze=Zn,_a=Ae||Q,Zn=ze||ce,yi(a,o),Zn=ze,_a=Ae,go(o),a=o.stateNode,a._current=o,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,p&8192&&(a._visibility=Q?a._visibility&-2:a._visibility|1,Q&&(a=_a||Zn,u===null||ce||a||_i(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(u=null,a=o;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){ce=u=a;try{if(v=ce.stateNode,Q)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=ce.stateNode,q=ce.memoizedProps.style;var Te=q!=null&&q.hasOwnProperty("display")?q.display:null;D.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(vt){Vn(ce,ce.return,vt)}}}else if(a.tag===6){if(u===null){ce=a;try{ce.stateNode.nodeValue=Q?"":ce.memoizedProps}catch(vt){Vn(ce,ce.return,vt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=o.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,ap(o,u))));break;case 19:yi(a,o),go(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,ap(o,p)));break;case 21:break;default:yi(a,o),go(o)}}function go(o){var a=o.flags;if(a&2){try{if(o.tag!==27){e:{for(var u=o.return;u!==null;){if(nv(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 27:var v=p.stateNode,S=xs(o);jc(o,S,v);break;case 5:var D=p.stateNode;p.flags&32&&(Ft(D,""),p.flags&=-33);var q=xs(o);jc(o,q,D);break;case 3:case 4:var Q=p.stateNode.containerInfo,ce=xs(o);ei(o,ce,Q);break;default:throw Error(r(161))}}}catch(Ae){Vn(o,o.return,Ae)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function yd(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;yd(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Qs(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ov(o,a.alternate,a),a=a.sibling}function _i(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Ll(4,a,a.return),_i(a);break;case 1:Yi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&hg(a,a.return,u),_i(a);break;case 26:case 27:case 5:Yi(a,a.return),_i(a);break;case 22:Yi(a,a.return),a.memoizedState===null&&_i(a);break;default:_i(a)}o=o.sibling}}function Gi(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,v=o,S=a,D=S.flags;switch(S.tag){case 0:case 11:case 15:Gi(v,S,u),Tr(4,S);break;case 1:if(Gi(v,S,u),p=S,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ce){Vn(p,p.return,ce)}if(p=S,v=p.updateQueue,v!==null){var q=p.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)sp(Q[v],q)}catch(ce){Vn(p,p.return,ce)}}u&&D&64&&Z0(S),Hu(S,S.return);break;case 26:case 27:case 5:Gi(v,S,u),u&&p===null&&D&4&&ev(S),Hu(S,S.return);break;case 12:Gi(v,S,u);break;case 13:Gi(v,S,u),u&&D&4&&av(v,S);break;case 22:S.memoizedState===null&&Gi(v,S,u),Hu(S,S.return);break;default:Gi(v,S,u)}a=a.sibling}}function bg(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&Zf(u))}function lp(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Zf(o))}function Bl(o,a,u,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lv(o,a,u,p),a=a.sibling}function lv(o,a,u,p){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Bl(o,a,u,p),v&2048&&Tr(9,a);break;case 3:Bl(o,a,u,p),v&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Zf(o)));break;case 12:if(v&2048){Bl(o,a,u,p),o=a.stateNode;try{var S=a.memoizedProps,D=S.id,q=S.onPostCommit;typeof q=="function"&&q(D,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Q){Vn(a,a.return,Q)}}else Bl(o,a,u,p);break;case 23:break;case 22:S=a.stateNode,a.memoizedState!==null?S._visibility&4?Bl(o,a,u,p):vd(o,a):S._visibility&4?Bl(o,a,u,p):(S._visibility|=4,Kc(o,a,u,p,(a.subtreeFlags&10256)!==0)),v&2048&&bg(a.alternate,a);break;case 24:Bl(o,a,u,p),v&2048&&lp(a.alternate,a);break;default:Bl(o,a,u,p)}}function Kc(o,a,u,p,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=o,D=a,q=u,Q=p,ce=D.flags;switch(D.tag){case 0:case 11:case 15:Kc(S,D,q,Q,v),Tr(8,D);break;case 23:break;case 22:var Ae=D.stateNode;D.memoizedState!==null?Ae._visibility&4?Kc(S,D,q,Q,v):vd(S,D):(Ae._visibility|=4,Kc(S,D,q,Q,v)),v&&ce&2048&&bg(D.alternate,D);break;case 24:Kc(S,D,q,Q,v),v&&ce&2048&&lp(D.alternate,D);break;default:Kc(S,D,q,Q,v)}a=a.sibling}}function vd(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,p=a,v=p.flags;switch(p.tag){case 22:vd(u,p),v&2048&&bg(p.alternate,p);break;case 24:vd(u,p),v&2048&&lp(p.alternate,p);break;default:vd(u,p)}a=a.sibling}}var bd=8192;function $c(o){if(o.subtreeFlags&bd)for(o=o.child;o!==null;)uv(o),o=o.sibling}function uv(o){switch(o.tag){case 26:$c(o),o.flags&bd&&o.memoizedState!==null&&Tx(mo,o.memoizedState,o.memoizedProps);break;case 5:$c(o);break;case 3:case 4:var a=mo;mo=wp(o.stateNode.containerInfo),$c(o),mo=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=bd,bd=16777216,$c(o),bd=a):$c(o));break;default:$c(o)}}function cv(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function xd(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];gr=p,xg(p,o)}cv(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fv(o),o=o.sibling}function fv(o){switch(o.tag){case 0:case 11:case 15:xd(o),o.flags&2048&&Ll(9,o,o.return);break;case 3:xd(o);break;case 12:xd(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&4&&(o.return===null||o.return.tag!==13)?(a._visibility&=-5,up(o)):xd(o);break;default:xd(o)}}function up(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];gr=p,xg(p,o)}cv(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Ll(8,a,a.return),up(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,up(a));break;default:up(a)}o=o.sibling}}function xg(o,a){for(;gr!==null;){var u=gr;switch(u.tag){case 0:case 11:case 15:Ll(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Zf(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,gr=p;else e:for(u=o;gr!==null;){p=gr;var v=p.sibling,S=p.return;if(sv(p),p===u){gr=null;break e}if(v!==null){v.return=S,gr=v;break e}gr=S}}}function dv(o,a,u,p){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(o,a,u,p){return new dv(o,a,u,p)}function wg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Il(o,a){var u=o.alternate;return u===null?(u=yo(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&31457280,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function hv(o,a){o.flags&=31457282;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function wd(o,a,u,p,v,S){var D=0;if(p=o,typeof o=="function")wg(o)&&(D=1);else if(typeof o=="string")D=Cx(o,u,fn.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case d:return Pu(u.children,v,S,a);case m:D=8,v|=24;break;case y:return o=yo(12,u,a,v|2),o.elementType=y,o.lanes=S,o;case k:return o=yo(13,u,a,v),o.elementType=k,o.lanes=S,o;case R:return o=yo(19,u,a,v),o.elementType=R,o.lanes=S,o;case Y:return pv(u,v,S,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:case T:D=10;break e;case C:D=9;break e;case E:D=11;break e;case H:D=14;break e;case K:D=16,p=null;break e}D=29,u=Error(r(130,o===null?"null":typeof o,"")),p=null}return a=yo(D,u,a,v),a.elementType=o,a.type=p,a.lanes=S,a}function Pu(o,a,u,p){return o=yo(7,o,p,a),o.lanes=u,o}function pv(o,a,u,p){o=yo(22,o,p,a),o.elementType=Y,o.lanes=u;var v={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=v._current;if(S===null)throw Error(r(456));if((v._pendingVisibility&2)===0){var D=In(S,2);D!==null&&(v._pendingVisibility|=2,vi(D,S,2))}},attach:function(){var S=v._current;if(S===null)throw Error(r(456));if((v._pendingVisibility&2)!==0){var D=In(S,2);D!==null&&(v._pendingVisibility&=-3,vi(D,S,2))}}};return o.stateNode=v,o}function Sg(o,a,u){return o=yo(6,o,null,a),o.lanes=u,o}function Cg(o,a,u){return a=yo(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Na(o){o.flags|=4}function mv(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Kv(a)){if(a=qo.current,a!==null&&((pn&4194176)===pn?Vs!==null:(pn&62914560)!==pn&&(pn&536870912)===0||a!==Vs))throw Qf=xl,Wf;o.flags|=8192}}function Ni(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?Xn():536870912,o.lanes|=a,Gc|=a)}function Sd(o,a){if(!Lt)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function lr(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,p=0;if(a)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&31457280,p|=v.flags&31457280,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=p,o.childLanes=u,a}function tx(o,a,u){var p=a.pendingProps;switch(Nm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(a),null;case 1:return lr(a),null;case 3:return u=a.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),$s(Nr),dr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Ru(a)?Na(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fs!==null&&(Wc(fs),fs=null))),lr(a),null;case 26:return u=a.memoizedState,o===null?(Na(a),u!==null?(lr(a),mv(a,u)):(lr(a),a.flags&=-16777217)):u?u!==o.memoizedState?(Na(a),lr(a),mv(a,u)):(lr(a),a.flags&=-16777217):(o.memoizedProps!==p&&Na(a),lr(a),a.flags&=-16777217),null;case 27:te(a),u=Cn.current;var v=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==p&&Na(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return lr(a),null}o=fn.current,Ru(a)?Hh(a):(o=Zg(v,p,u),a.stateNode=o,Na(a))}return lr(a),null;case 5:if(te(a),u=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==p&&Na(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return lr(a),null}if(o=fn.current,Ru(a))Hh(a);else{switch(v=vp(Cn.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?v.createElement(u,{is:p.is}):v.createElement(u)}}o[pr]=a,o[or]=p;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=o;e:switch(ti(o,u,p),u){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Na(a)}}return lr(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==p&&Na(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(o=Cn.current,Ru(a)){if(o=a.stateNode,u=a.memoizedProps,p=null,v=Di,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}o[pr]=a,o=!!(o.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||qt(o.nodeValue,u)),o||Du(a)}else o=vp(o).createTextNode(p),o[pr]=a,a.stateNode=o}return lr(a),null;case 13:if(p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Ru(a),p!==null&&p.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[pr]=a}else Us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lr(a),v=!1}else fs!==null&&(Wc(fs),fs=null),v=!0;if(!v)return a.flags&256?(Ta(a),a):(Ta(a),null)}if(Ta(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=p!==null,o=o!==null&&o.memoizedState!==null,u){p=a.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==v&&(p.flags|=2048)}return u!==o&&u&&(a.child.flags|=8192),Ni(a,a.updateQueue),lr(a),null;case 4:return dr(),o===null&&Kg(a.stateNode.containerInfo),lr(a),null;case 10:return $s(a.type),lr(a),null;case 19:if(Pe(_r),v=a.memoizedState,v===null)return lr(a),null;if(p=(a.flags&128)!==0,S=v.rendering,S===null)if(p)Sd(v,!1);else{if(yr!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(S=qh(o),S!==null){for(a.flags|=128,Sd(v,!1),o=S.updateQueue,a.updateQueue=o,Ni(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)hv(u,o),u=u.sibling;return ft(_r,_r.current&1|2),a.child}o=o.sibling}v.tail!==null&&st()>cp&&(a.flags|=128,p=!0,Sd(v,!1),a.lanes=4194304)}else{if(!p)if(o=qh(S),o!==null){if(a.flags|=128,p=!0,o=o.updateQueue,a.updateQueue=o,Ni(a,o),Sd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Lt)return lr(a),null}else 2*st()-v.renderingStartTime>cp&&u!==536870912&&(a.flags|=128,p=!0,Sd(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(o=v.last,o!==null?o.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=st(),a.sibling=null,o=_r.current,ft(_r,p?o&1|2:o&1),a):(lr(a),null);case 22:case 23:return Ta(a),Bm(),p=a.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(u&536870912)!==0&&(a.flags&128)===0&&(lr(a),a.subtreeFlags&6&&(a.flags|=8192)):lr(a),u=a.updateQueue,u!==null&&Ni(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==u&&(a.flags|=2048),o!==null&&Pe(_u),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),$s(Nr),lr(a),null;case 25:return null}throw Error(r(156,a.tag))}function gv(o,a){switch(Nm(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return $s(Nr),dr(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return te(a),null;case 13:if(Ta(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Us()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Pe(_r),null;case 4:return dr(),null;case 10:return $s(a.type),null;case 22:case 23:return Ta(a),Bm(),o!==null&&Pe(_u),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return $s(Nr),null;case 25:return null;default:return null}}function yv(o,a){switch(Nm(a),a.tag){case 3:$s(Nr),dr();break;case 26:case 27:case 5:te(a);break;case 4:dr();break;case 13:Ta(a);break;case 19:Pe(_r);break;case 10:$s(a.type);break;case 22:case 23:Ta(a),Bm(),o!==null&&Pe(_u);break;case 24:$s(Nr)}}var nx={getCacheForType:function(o){var a=gi(Nr),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u}},rx=typeof WeakMap=="function"?WeakMap:Map,ur=0,zn=null,rn=null,pn=0,jn=0,vo=null,La=!1,Yc=!1,Eg=!1,Ba=0,yr=0,zl=0,Fu=0,Tg=0,Vo=0,Gc=0,Cd=null,Xs=null,Og=!1,Ag=0,cp=1/0,fp=null,Js=null,Ed=!1,qu=null,Td=0,kg=0,Mg=null,Od=0,Dg=null;function bo(){if((ur&2)!==0&&pn!==0)return pn&-pn;if(fe.T!==null){var o=Tc;return o!==0?o:Fg()}return io()}function vv(){Vo===0&&(Vo=(pn&536870912)===0||Lt?br():536870912);var o=qo.current;return o!==null&&(o.flags|=32),Vo}function vi(o,a,u){(o===zn&&jn===2||o.cancelPendingCommit!==null)&&(Qc(o,0),Ia(o,pn,Vo,!1)),Fn(o,u),((ur&2)===0||o!==zn)&&(o===zn&&((ur&2)===0&&(Fu|=u),yr===4&&Ia(o,pn,Vo,!1)),ws(o))}function bv(o,a,u){if((ur&6)!==0)throw Error(r(327));var p=!u&&(a&60)===0&&(a&o.expiredLanes)===0||rr(o,a),v=p?sx(o,a):Ng(o,a,!0),S=p;do{if(v===0){Yc&&!p&&Ia(o,a,0,!1);break}else if(v===6)Ia(o,a,0,!La);else{if(u=o.current.alternate,S&&!ix(u)){v=Ng(o,a,!1),S=!1;continue}if(v===2){if(S=a,o.errorRecoveryDisabledLanes&S)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var q=o;v=Cd;var Q=q.current.memoizedState.isDehydrated;if(Q&&(Qc(q,D).flags|=256),D=Ng(q,D,!1),D!==2){if(Eg&&!Q){q.errorRecoveryDisabledLanes|=S,Fu|=S,v=4;break e}S=Xs,Xs=v,S!==null&&Wc(S)}v=D}if(S=!1,v!==2)continue}}if(v===1){Qc(o,0),Ia(o,a,0,!0);break}e:{switch(p=o,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Ia(p,a,Vo,!La);break e}break;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(p.finishedWork=u,p.finishedLanes=a,(a&62914560)===a&&(S=Ag+300-st(),10<S)){if(Ia(p,a,Vo,!La),Kn(p,0)!==0)break e;p.timeoutHandle=Qg(xv.bind(null,p,u,Xs,fp,Og,a,Vo,Fu,Gc,La,2,-0,0),S);break e}xv(p,u,Xs,fp,Og,a,Vo,Fu,Gc,La,0,-0,0)}}break}while(!0);ws(o)}function Wc(o){Xs===null?Xs=o:Xs.push.apply(Xs,o)}function xv(o,a,u,p,v,S,D,q,Q,ce,Ae,ze,xe){var Te=a.subtreeFlags;if((Te&8192||(Te&16785408)===16785408)&&(Nd={stylesheets:null,count:0,unsuspend:Ex},uv(a),a=Ox(),a!==null)){o.cancelPendingCommit=a(Av.bind(null,o,u,p,v,D,q,Q,1,ze,xe)),Ia(o,S,D,!ce);return}Av(o,u,p,v,D,q,Q,Ae,ze,xe)}function ix(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],S=v.getSnapshot;v=v.value;try{if(!pi(S(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ia(o,a,u,p){a&=~Tg,a&=~Fu,o.suspendedLanes|=a,o.pingedLanes&=~a,p&&(o.warmLanes|=a),p=o.expirationTimes;for(var v=a;0<v;){var S=31-At(v),D=1<<S;p[S]=-1,v&=~D}u!==0&&Zt(o,u,a)}function dp(){return(ur&6)===0?(ju(0),!1):!0}function Rg(){if(rn!==null){if(jn===0)var o=rn.return;else o=rn,gs=Rl=null,Mc(o),Sa=null,Ca=0,o=rn;for(;o!==null;)yv(o.alternate,o),o=o.return;rn=null}}function Qc(o,a){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,bp(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),Rg(),zn=o,rn=u=Il(o.current,null),pn=a,jn=0,vo=null,La=!1,Yc=rr(o,a),Eg=!1,Gc=Vo=Tg=Fu=zl=yr=0,Xs=Cd=null,Og=!1,(a&8)!==0&&(a|=a&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=a;0<p;){var v=31-At(p),S=1<<v;a|=o[v],p&=~S}return Ba=a,$r(),u}function wv(o,a){Wt=null,fe.H=mr,a===wa?(a=_0(),jn=3):a===Wf?(a=_0(),jn=4):jn=a===ig?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vo=a,rn===null&&(yr=1,ld(o,Mi(a,o.current)))}function Sv(){var o=fe.H;return fe.H=mr,o===null?mr:o}function Cv(){var o=fe.A;return fe.A=nx,o}function _g(){yr=4,La||(pn&4194176)!==pn&&qo.current!==null||(Yc=!0),(zl&134217727)===0&&(Fu&134217727)===0||zn===null||Ia(zn,pn,Vo,!1)}function Ng(o,a,u){var p=ur;ur|=2;var v=Sv(),S=Cv();(zn!==o||pn!==a)&&(fp=null,Qc(o,a)),a=!1;var D=yr;e:do try{if(jn!==0&&rn!==null){var q=rn,Q=vo;switch(jn){case 8:Rg(),D=6;break e;case 3:case 2:case 6:qo.current===null&&(a=!0);var ce=jn;if(jn=0,vo=null,Uu(o,q,Q,ce),u&&Yc){D=0;break e}break;default:ce=jn,jn=0,vo=null,Uu(o,q,Q,ce)}}ox(),D=yr;break}catch(Ae){wv(o,Ae)}while(!0);return a&&o.shellSuspendCounter++,gs=Rl=null,ur=p,fe.H=v,fe.A=S,rn===null&&(zn=null,pn=0,$r()),D}function ox(){for(;rn!==null;)Ev(rn)}function sx(o,a){var u=ur;ur|=2;var p=Sv(),v=Cv();zn!==o||pn!==a?(fp=null,cp=st()+500,Qc(o,a)):Yc=rr(o,a);e:do try{if(jn!==0&&rn!==null){a=rn;var S=vo;t:switch(jn){case 1:jn=0,vo=null,Uu(o,a,S,1);break;case 2:if(D0(S)){jn=0,vo=null,Tv(a);break}a=function(){jn===2&&zn===o&&(jn=7),ws(o)},S.then(a,a);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:D0(S)?(jn=0,vo=null,Tv(a)):(jn=0,vo=null,Uu(o,a,S,7));break;case 5:var D=null;switch(rn.tag){case 26:D=rn.memoizedState;case 5:case 27:var q=rn;if(!D||Kv(D)){jn=0,vo=null;var Q=q.sibling;if(Q!==null)rn=Q;else{var ce=q.return;ce!==null?(rn=ce,Ad(ce)):rn=null}break t}}jn=0,vo=null,Uu(o,a,S,5);break;case 6:jn=0,vo=null,Uu(o,a,S,6);break;case 8:Rg(),yr=6;break e;default:throw Error(r(462))}}ax();break}catch(Ae){wv(o,Ae)}while(!0);return gs=Rl=null,fe.H=p,fe.A=v,ur=u,rn!==null?0:(zn=null,pn=0,$r(),yr)}function ax(){for(;rn!==null&&!qe();)Ev(rn)}function Ev(o){var a=fg(o.alternate,o,Ba);o.memoizedProps=o.pendingProps,a===null?Ad(o):rn=a}function Tv(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=zu(u,a,a.pendingProps,a.type,void 0,pn);break;case 11:a=zu(u,a,a.pendingProps,a.type.render,a.ref,pn);break;case 5:Mc(a);default:yv(u,a),a=rn=hv(a,Ba),a=fg(u,a,Ba)}o.memoizedProps=o.pendingProps,a===null?Ad(o):rn=a}function Uu(o,a,u,p){gs=Rl=null,Mc(a),Sa=null,Ca=0;var v=a.return;try{if(Zb(o,v,a,u,pn)){yr=1,ld(o,Mi(u,o.current)),rn=null;return}}catch(S){if(v!==null)throw rn=v,S;yr=1,ld(o,Mi(u,o.current)),rn=null;return}a.flags&32768?(Lt||p===1?o=!0:Yc||(pn&536870912)!==0?o=!1:(La=o=!0,(p===2||p===3||p===6)&&(p=qo.current,p!==null&&p.tag===13&&(p.flags|=16384))),Ov(a,o)):Ad(a)}function Ad(o){var a=o;do{if((a.flags&32768)!==0){Ov(a,La);return}o=a.return;var u=tx(a.alternate,a,Ba);if(u!==null){rn=u;return}if(a=a.sibling,a!==null){rn=a;return}rn=a=o}while(a!==null);yr===0&&(yr=5)}function Ov(o,a){do{var u=gv(o.alternate,o);if(u!==null){u.flags&=32767,rn=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){rn=o;return}rn=o=u}while(o!==null);yr=6,rn=null}function Av(o,a,u,p,v,S,D,q,Q,ce){var Ae=fe.T,ze=Ge.p;try{Ge.p=2,fe.T=null,lx(o,a,u,p,ze,v,S,D,q,Q,ce)}finally{fe.T=Ae,Ge.p=ze}}function lx(o,a,u,p,v,S,D,q){do za();while(qu!==null);if((ur&6)!==0)throw Error(r(327));var Q=o.finishedWork;if(p=o.finishedLanes,Q===null)return null;if(o.finishedWork=null,o.finishedLanes=0,Q===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var ce=Q.lanes|Q.childLanes;if(ce|=Vt,Xr(o,p,ce,S,D,q),o===zn&&(rn=zn=null,pn=0),(Q.subtreeFlags&10256)===0&&(Q.flags&10256)===0||Ed||(Ed=!0,kg=ce,Mg=u,dx(hn,function(){return za(),null})),u=(Q.flags&15990)!==0,(Q.subtreeFlags&15990)!==0||u?(u=fe.T,fe.T=null,S=Ge.p,Ge.p=2,D=ur,ur|=4,iv(o,Q),vg(Q,o),$(Gg,o.containerInfo),Bd=!!Yg,Gg=Yg=null,o.current=Q,ov(o,Q.alternate,Q),Ie(),ur=D,Ge.p=S,fe.T=u):o.current=Q,Ed?(Ed=!1,qu=o,Td=p):kv(o,ce),ce=o.pendingLanes,ce===0&&(Js=null),nt(Q.stateNode),ws(o),a!==null)for(v=o.onRecoverableError,Q=0;Q<a.length;Q++)ce=a[Q],v(ce.value,{componentStack:ce.stack});return(Td&3)!==0&&za(),ce=o.pendingLanes,(p&4194218)!==0&&(ce&42)!==0?o===Dg?Od++:(Od=0,Dg=o):Od=0,ju(0),null}function kv(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Zf(a)))}function za(){if(qu!==null){var o=qu,a=kg;kg=0;var u=Ns(Td),p=fe.T,v=Ge.p;try{if(Ge.p=32>u?32:u,fe.T=null,qu===null)var S=!1;else{u=Mg,Mg=null;var D=qu,q=Td;if(qu=null,Td=0,(ur&6)!==0)throw Error(r(331));var Q=ur;if(ur|=4,fv(D.current),lv(D,D.current,q,u),ur=Q,ju(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Dr,D)}catch{}S=!0}return S}finally{Ge.p=v,fe.T=p,kv(o,a)}}return!1}function Mv(o,a,u){a=Mi(u,a),a=ud(o.stateNode,a,2),o=ho(o,a,2),o!==null&&(Fn(o,2),ws(o))}function Vn(o,a,u){if(o.tag===3)Mv(o,o,u);else for(;a!==null;){if(a.tag===3){Mv(a,o,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))){o=Mi(u,o),u=Q0(2),p=ho(a,u,2),p!==null&&(X0(u,p,a,o),Fn(p,2),ws(p));break}}a=a.return}}function Lg(o,a,u){var p=o.pingCache;if(p===null){p=o.pingCache=new rx;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(Eg=!0,v.add(u),o=ux.bind(null,o,a,u),a.then(o,o))}function ux(o,a,u){var p=o.pingCache;p!==null&&p.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,zn===o&&(pn&u)===u&&(yr===4||yr===3&&(pn&62914560)===pn&&300>st()-Ag?(ur&2)===0&&Qc(o,0):Tg|=u,Gc===pn&&(Gc=0)),ws(o)}function Dv(o,a){a===0&&(a=Xn()),o=In(o,a),o!==null&&(Fn(o,a),ws(o))}function cx(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),Dv(o,u)}function fx(o,a){var u=0;switch(o.tag){case 13:var p=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(a),Dv(o,u)}function dx(o,a){return be(o,a)}var hp=null,Xc=null,Bg=!1,Vu=!1,Ig=!1,Hl=0;function ws(o){o!==Xc&&o.next===null&&(Xc===null?hp=Xc=o:Xc=Xc.next=o),Vu=!0,Bg||(Bg=!0,hx(Rv))}function ju(o,a){if(!Ig&&Vu){Ig=!0;do for(var u=!1,p=hp;p!==null;){if(o!==0){var v=p.pendingLanes;if(v===0)var S=0;else{var D=p.suspendedLanes,q=p.pingedLanes;S=(1<<31-At(42|o)+1)-1,S&=v&~(D&~q),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(u=!0,Pg(p,S))}else S=pn,S=Kn(p,p===zn?S:0),(S&3)===0||rr(p,S)||(u=!0,Pg(p,S));p=p.next}while(u);Ig=!1}}function Rv(){Vu=Bg=!1;var o=0;Hl!==0&&(Ha()&&(o=Hl),Hl=0);for(var a=st(),u=null,p=hp;p!==null;){var v=p.next,S=zg(p,a);S===0?(p.next=null,u===null?hp=v:u.next=v,v===null&&(Xc=u)):(u=p,(o!==0||(S&3)!==0)&&(Vu=!0)),p=v}ju(o)}function zg(o,a){for(var u=o.suspendedLanes,p=o.pingedLanes,v=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var D=31-At(S),q=1<<D,Q=v[D];Q===-1?((q&u)===0||(q&p)!==0)&&(v[D]=ir(q,a)):Q<=a&&(o.expiredLanes|=q),S&=~q}if(a=zn,u=pn,u=Kn(o,o===a?u:0),p=o.callbackNode,u===0||o===a&&jn===2||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Le(p),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||rr(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(p!==null&&Le(p),Ns(u)){case 2:case 8:u=Ht;break;case 32:u=hn;break;case 268435456:u=Qr;break;default:u=hn}return p=Hg.bind(null,o),u=be(u,p),o.callbackPriority=a,o.callbackNode=u,a}return p!==null&&p!==null&&Le(p),o.callbackPriority=2,o.callbackNode=null,2}function Hg(o,a){var u=o.callbackNode;if(za()&&o.callbackNode!==u)return null;var p=pn;return p=Kn(o,o===zn?p:0),p===0?null:(bv(o,p,a),zg(o,st()),o.callbackNode!=null&&o.callbackNode===u?Hg.bind(null,o):null)}function Pg(o,a){if(za())return null;bv(o,a,!0)}function hx(o){vr(function(){(ur&6)!==0?be(sn,o):o()})}function Fg(){return Hl===0&&(Hl=br()),Hl}function _v(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vi(""+o)}function kd(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function pp(o,a,u,p,v){if(a==="submit"&&u&&u.stateNode===v){var S=_v((v[or]||null).action),D=p.submitter;D&&(a=(a=D[or]||null)?_v(a.formAction):D.getAttribute("formAction"),a!==null&&(S=a,D=null));var q=new pc("action","action",null,p,v);o.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Hl!==0){var Q=D?kd(v,D):new FormData(v);sd(u,{pending:!0,data:Q,method:v.method,action:S},null,Q)}}else typeof S=="function"&&(q.preventDefault(),Q=D?kd(v,D):new FormData(v),sd(u,{pending:!0,data:Q,method:v.method,action:S},S,Q))},currentTarget:v}]})}}for(var qg=0;qg<Ze.length;qg++){var Ug=Ze[qg],Vg=Ug.toLowerCase(),Nv=Ug[0].toUpperCase()+Ug.slice(1);rt(Vg,"on"+Nv)}rt(Se,"onAnimationEnd"),rt(ve,"onAnimationIteration"),rt(Ee,"onAnimationStart"),rt("dblclick","onDoubleClick"),rt("focusin","onFocus"),rt("focusout","onBlur"),rt(je,"onTransitionRun"),rt(Xe,"onTransitionStart"),rt(Ue,"onTransitionCancel"),rt(Ke,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Lv(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var p=o[u],v=p.event;p=p.listeners;e:{var S=void 0;if(a)for(var D=p.length-1;0<=D;D--){var q=p[D],Q=q.instance,ce=q.currentTarget;if(q=q.listener,Q!==S&&v.isPropagationStopped())break e;S=q,v.currentTarget=ce;try{S(v)}catch(Ae){zc(Ae)}v.currentTarget=null,S=Q}else for(D=0;D<p.length;D++){if(q=p[D],Q=q.instance,ce=q.currentTarget,q=q.listener,Q!==S&&v.isPropagationStopped())break e;S=q,v.currentTarget=ce;try{S(v)}catch(Ae){zc(Ae)}v.currentTarget=null,S=Q}}}}function ln(o,a){var u=a[Do];u===void 0&&(u=a[Do]=new Set);var p=o+"__bubble";u.has(p)||(Bv(a,o,2,!1),u.add(p))}function jg(o,a,u){var p=0;a&&(p|=4),Bv(u,o,p,a)}var mp="_reactListening"+Math.random().toString(36).slice(2);function Kg(o){if(!o[mp]){o[mp]=!0,If.forEach(function(u){u!=="selectionchange"&&(px.has(u)||jg(u,!1,o),jg(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[mp]||(a[mp]=!0,jg("selectionchange",!1,a))}}function Bv(o,a,u,p){switch(Wv(a)){case 2:var v=kx;break;case 8:v=Mx;break;default:v=sy}u=v.bind(null,a,u,o),v=void 0,!bu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?o.addEventListener(a,u,{capture:!0,passive:v}):o.addEventListener(a,u,!0):v!==void 0?o.addEventListener(a,u,{passive:v}):o.addEventListener(a,u,!1)}function $g(o,a,u,p,v){var S=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var q=p.stateNode.containerInfo;if(q===v||q.nodeType===8&&q.parentNode===v)break;if(D===4)for(D=p.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&(Q=D.stateNode.containerInfo,Q===v||Q.nodeType===8&&Q.parentNode===v))return;D=D.return}for(;q!==null;){if(D=Ls(q),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){p=S=D;continue e}q=q.parentNode}}p=p.return}dc(function(){var ce=S,Ae=fc(u),ze=[];e:{var xe=Be.get(o);if(xe!==void 0){var Te=pc,vt=o;switch(o){case"keypress":if(xn(u)===0)break e;case"keydown":case"keyup":Te=ul;break;case"focusin":vt="focus",Te=ga;break;case"focusout":vt="blur",Te=ga;break;case"beforeblur":case"afterblur":Te=ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Vf;break;case Se:case ve:case Ee:Te=qf;break;case Ke:Te=jf;break;case"scroll":case"scrollend":Te=mc;break;case"wheel":Te=bc;break;case"copy":case"cut":case"paste":Te=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Bo;break;case"toggle":case"beforetoggle":Te=Cu}var zt=(a&4)!==0,fr=!zt&&(o==="scroll"||o==="scrollend"),pe=zt?xe!==null?xe+"Capture":null:xe;zt=[];for(var ue=ce,ye;ue!==null;){var Re=ue;if(ye=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ye===null||pe===null||(Re=ji(ue,pe),Re!=null&&zt.push(Dd(ue,Re,ye))),fr)break;ue=ue.return}0<zt.length&&(xe=new Te(xe,vt,null,u,Ae),ze.push({event:xe,listeners:zt}))}}if((a&7)===0){e:{if(xe=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",xe&&u!==cc&&(vt=u.relatedTarget||u.fromElement)&&(Ls(vt)||vt[oo]))break e;if((Te||xe)&&(xe=Ae.window===Ae?Ae:(xe=Ae.ownerDocument)?xe.defaultView||xe.parentWindow:window,Te?(vt=u.relatedTarget||u.toElement,Te=ce,vt=vt?Ls(vt):null,vt!==null&&(fr=Ye(vt),zt=vt.tag,vt!==fr||zt!==5&&zt!==27&&zt!==6)&&(vt=null)):(Te=null,vt=ce),Te!==vt)){if(zt=Lo,Re="onMouseLeave",pe="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(zt=Bo,Re="onPointerLeave",pe="onPointerEnter",ue="pointer"),fr=Te==null?xe:On(Te),ye=vt==null?xe:On(vt),xe=new zt(Re,ue+"leave",Te,u,Ae),xe.target=fr,xe.relatedTarget=ye,Re=null,Ls(Ae)===ce&&(zt=new zt(pe,ue+"enter",vt,u,Ae),zt.target=ye,zt.relatedTarget=fr,Re=zt),fr=Re,Te&&vt)t:{for(zt=Te,pe=vt,ue=0,ye=zt;ye;ye=Jc(ye))ue++;for(ye=0,Re=pe;Re;Re=Jc(Re))ye++;for(;0<ue-ye;)zt=Jc(zt),ue--;for(;0<ye-ue;)pe=Jc(pe),ye--;for(;ue--;){if(zt===pe||pe!==null&&zt===pe.alternate)break t;zt=Jc(zt),pe=Jc(pe)}zt=null}else zt=null;Te!==null&&jo(ze,xe,Te,zt,!1),vt!==null&&fr!==null&&jo(ze,fr,vt,zt,!0)}}e:{if(xe=ce?On(ce):window,Te=xe.nodeName&&xe.nodeName.toLowerCase(),Te==="select"||Te==="input"&&xe.type==="file")var dt=Tu;else if(pl(xe))if(Io)dt=vl;else{dt=hi;var en=Gf}else Te=xe.nodeName,!Te||Te.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?ce&&Ur(ce.elementType)&&(dt=Tu):dt=yl;if(dt&&(dt=dt(o,ce))){ya(ze,dt,u,Ae);break e}en&&en(o,xe,ce),o==="focusout"&&ce&&xe.type==="number"&&ce.memoizedProps.value!=null&&ac(xe,"number",xe.value)}switch(en=ce?On(ce):window,o){case"focusin":(pl(en)||en.contentEditable==="true")&&(se=en,B=ce,j=null);break;case"focusout":j=B=se=null;break;case"mousedown":I=!0;break;case"contextmenu":case"mouseup":case"dragend":I=!1,Z(ze,u,Ae);break;case"selectionchange":if(J)break;case"keydown":case"keyup":Z(ze,u,Ae)}var Ct;if(Eu)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else cs?Yf(o,u)&&(Rt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Rt="onCompositionStart");Rt&&(dl&&u.locale!=="ko"&&(cs||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&cs&&(Ct=ol()):(No=Ae,hc="value"in No?No.value:No.textContent,cs=!0)),en=gp(ce,Rt),0<en.length&&(Rt=new jr(Rt,o,null,u,Ae),ze.push({event:Rt,listeners:en}),Ct?Rt.data=Ct:(Ct=wc(u),Ct!==null&&(Rt.data=Ct)))),(Ct=_h?Nh(o,u):Lh(o,u))&&(Rt=gp(ce,"onBeforeInput"),0<Rt.length&&(en=new jr("onBeforeInput","beforeinput",null,u,Ae),ze.push({event:en,listeners:Rt}),en.data=Ct)),pp(ze,o,ce,u,Ae)}Lv(ze,a)})}function Dd(o,a,u){return{instance:o,listener:a,currentTarget:u}}function gp(o,a){for(var u=a+"Capture",p=[];o!==null;){var v=o,S=v.stateNode;v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=ji(o,u),v!=null&&p.unshift(Dd(o,v,S)),v=ji(o,a),v!=null&&p.push(Dd(o,v,S))),o=o.return}return p}function Jc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function jo(o,a,u,p,v){for(var S=a._reactName,D=[];u!==null&&u!==p;){var q=u,Q=q.alternate,ce=q.stateNode;if(q=q.tag,Q!==null&&Q===p)break;q!==5&&q!==26&&q!==27||ce===null||(Q=ce,v?(ce=ji(u,S),ce!=null&&D.unshift(Dd(u,ce,Q))):v||(ce=ji(u,S),ce!=null&&D.push(Dd(u,ce,Q)))),u=u.return}D.length!==0&&o.push({event:a,listeners:D})}var mx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function Pl(o){return(typeof o=="string"?o:""+o).replace(mx,`
`).replace(gx,"")}function qt(o,a){return a=Pl(a),Pl(o)===a}function yp(){}function Kt(o,a,u,p,v,S){switch(u){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||Ft(o,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&Ft(o,""+p);break;case"className":nl(o,"class",p);break;case"tabIndex":nl(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(o,u,p);break;case"style":Mh(o,p,S);break;case"data":if(a!=="object"){nl(o,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Vi(""+p),o.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(a!=="input"&&Kt(o,a,"name",v.name,v,null),Kt(o,a,"formEncType",v.formEncType,v,null),Kt(o,a,"formMethod",v.formMethod,v,null),Kt(o,a,"formTarget",v.formTarget,v,null)):(Kt(o,a,"encType",v.encType,v,null),Kt(o,a,"method",v.method,v,null),Kt(o,a,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Vi(""+p),o.setAttribute(u,p);break;case"onClick":p!=null&&(o.onclick=yp);break;case"onScroll":p!=null&&ln("scroll",o);break;case"onScrollEnd":p!=null&&ln("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}u=Vi(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""+p):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":p===!0?o.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,p):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(u,p):o.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(u):o.setAttribute(u,p);break;case"popover":ln("beforetoggle",o),ln("toggle",o),Yt(o,"popover",p);break;case"xlinkActuate":so(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":so(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":so(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":so(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":so(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":so(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":so(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":so(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":so(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Yt(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ha.get(u)||u,Yt(o,u,p))}}function cr(o,a,u,p,v,S){switch(u){case"style":Mh(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof p=="string"?Ft(o,p):(typeof p=="number"||typeof p=="bigint")&&Ft(o,""+p);break;case"onScroll":p!=null&&ln("scroll",o);break;case"onScrollEnd":p!=null&&ln("scrollend",o);break;case"onClick":p!=null&&(o.onclick=yp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),S=o[or]||null,S=S!=null?S[u]:null,typeof S=="function"&&o.removeEventListener(a,S,v),typeof p=="function")){typeof S!="function"&&S!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,p,v);break e}u in o?o[u]=p:p===!0?o.setAttribute(u,""):Yt(o,u,p)}}}function ti(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ln("error",o),ln("load",o);var p=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var D=u[S];if(D!=null)switch(S){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(o,a,S,D,u,null)}}v&&Kt(o,a,"srcSet",u.srcSet,u,null),p&&Kt(o,a,"src",u.src,u,null);return;case"input":ln("invalid",o);var q=S=D=v=null,Q=null,ce=null;for(p in u)if(u.hasOwnProperty(p)){var Ae=u[p];if(Ae!=null)switch(p){case"name":v=Ae;break;case"type":D=Ae;break;case"checked":Q=Ae;break;case"defaultChecked":ce=Ae;break;case"value":S=Ae;break;case"defaultValue":q=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,a));break;default:Kt(o,a,p,Ae,u,null)}}da(o,S,q,Q,ce,D,v,!1),as(o);return;case"select":ln("invalid",o),p=D=S=null;for(v in u)if(u.hasOwnProperty(v)&&(q=u[v],q!=null))switch(v){case"value":S=q;break;case"defaultValue":D=q;break;case"multiple":p=q;default:Kt(o,a,v,q,u,null)}a=S,u=D,o.multiple=!!p,a!=null?ao(o,!!p,a,!1):u!=null&&ao(o,!!p,u,!0);return;case"textarea":ln("invalid",o),S=v=p=null;for(D in u)if(u.hasOwnProperty(D)&&(q=u[D],q!=null))switch(D){case"value":p=q;break;case"defaultValue":v=q;break;case"children":S=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Kt(o,a,D,q,u,null)}lc(o,p,v,S),as(o);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(p=u[Q],p!=null))switch(Q){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Kt(o,a,Q,p,u,null)}return;case"dialog":ln("cancel",o),ln("close",o);break;case"iframe":case"object":ln("load",o);break;case"video":case"audio":for(p=0;p<Md.length;p++)ln(Md[p],o);break;case"image":ln("error",o),ln("load",o);break;case"details":ln("toggle",o);break;case"embed":case"source":case"link":ln("error",o),ln("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(p=u[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(o,a,ce,p,u,null)}return;default:if(Ur(a)){for(Ae in u)u.hasOwnProperty(Ae)&&(p=u[Ae],p!==void 0&&cr(o,a,Ae,p,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(p=u[q],p!=null&&Kt(o,a,q,p,u,null))}function Fl(o,a,u,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,q=null,Q=null,ce=null,Ae=null;for(Te in u){var ze=u[Te];if(u.hasOwnProperty(Te)&&ze!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":Q=ze;default:p.hasOwnProperty(Te)||Kt(o,a,Te,null,p,ze)}}for(var xe in p){var Te=p[xe];if(ze=u[xe],p.hasOwnProperty(xe)&&(Te!=null||ze!=null))switch(xe){case"type":S=Te;break;case"name":v=Te;break;case"checked":ce=Te;break;case"defaultChecked":Ae=Te;break;case"value":D=Te;break;case"defaultValue":q=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,a));break;default:Te!==ze&&Kt(o,a,xe,Te,p,ze)}}gu(o,D,q,Q,ce,Ae,S,v);return;case"select":Te=D=q=xe=null;for(S in u)if(Q=u[S],u.hasOwnProperty(S)&&Q!=null)switch(S){case"value":break;case"multiple":Te=Q;default:p.hasOwnProperty(S)||Kt(o,a,S,null,p,Q)}for(v in p)if(S=p[v],Q=u[v],p.hasOwnProperty(v)&&(S!=null||Q!=null))switch(v){case"value":xe=S;break;case"defaultValue":q=S;break;case"multiple":D=S;default:S!==Q&&Kt(o,a,v,S,p,Q)}a=q,u=D,p=Te,xe!=null?ao(o,!!u,xe,!1):!!p!=!!u&&(a!=null?ao(o,!!u,a,!0):ao(o,!!u,u?[]:"",!1));return;case"textarea":Te=xe=null;for(q in u)if(v=u[q],u.hasOwnProperty(q)&&v!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Kt(o,a,q,null,p,v)}for(D in p)if(v=p[D],S=u[D],p.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":xe=v;break;case"defaultValue":Te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==S&&Kt(o,a,D,v,p,S)}yu(o,xe,Te);return;case"option":for(var vt in u)if(xe=u[vt],u.hasOwnProperty(vt)&&xe!=null&&!p.hasOwnProperty(vt))switch(vt){case"selected":o.selected=!1;break;default:Kt(o,a,vt,null,p,xe)}for(Q in p)if(xe=p[Q],Te=u[Q],p.hasOwnProperty(Q)&&xe!==Te&&(xe!=null||Te!=null))switch(Q){case"selected":o.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:Kt(o,a,Q,xe,p,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in u)xe=u[zt],u.hasOwnProperty(zt)&&xe!=null&&!p.hasOwnProperty(zt)&&Kt(o,a,zt,null,p,xe);for(ce in p)if(xe=p[ce],Te=u[ce],p.hasOwnProperty(ce)&&xe!==Te&&(xe!=null||Te!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,a));break;default:Kt(o,a,ce,xe,p,Te)}return;default:if(Ur(a)){for(var fr in u)xe=u[fr],u.hasOwnProperty(fr)&&xe!==void 0&&!p.hasOwnProperty(fr)&&cr(o,a,fr,void 0,p,xe);for(Ae in p)xe=p[Ae],Te=u[Ae],!p.hasOwnProperty(Ae)||xe===Te||xe===void 0&&Te===void 0||cr(o,a,Ae,xe,p,Te);return}}for(var pe in u)xe=u[pe],u.hasOwnProperty(pe)&&xe!=null&&!p.hasOwnProperty(pe)&&Kt(o,a,pe,null,p,xe);for(ze in p)xe=p[ze],Te=u[ze],!p.hasOwnProperty(ze)||xe===Te||xe==null&&Te==null||Kt(o,a,ze,xe,p,Te)}var Yg=null,Gg=null;function vp(o){return o.nodeType===9?o:o.ownerDocument}function Iv(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function Rd(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wg=null;function Ha(){var o=window.event;return o&&o.type==="popstate"?o===Wg?!1:(Wg=o,!0):(Wg=null,!1)}var Qg=typeof setTimeout=="function"?setTimeout:void 0,bp=typeof clearTimeout=="function"?clearTimeout:void 0,er=typeof Promise=="function"?Promise:void 0,vr=typeof queueMicrotask=="function"?queueMicrotask:typeof er<"u"?function(o){return er.resolve(null).then(o).catch(Hv)}:Qg;function Hv(o){setTimeout(function(){throw o})}function Xg(o,a){var u=a,p=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){o.removeChild(v),Fd(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);Fd(a)}function Jg(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jg(u),is(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function yx(o,a,u,p){for(;o.nodeType===1;){var v=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[tl])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==v.rel||o.getAttribute("href")!==(v.href==null?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Ss(o.nextSibling),o===null)break}return null}function vx(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Ss(o.nextSibling),o===null))return null;return o}function Ss(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}function Pv(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}function Zg(o,a,u){switch(a=vp(u),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}var bi=new Map,xp=new Set;function wp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var Zs=Ge.d;Ge.d={f:Sp,r:xo,D:bx,C:xx,L:wx,m:Sx,X:Pa,S:qv,M:$t};function Sp(){var o=Zs.f(),a=dp();return o||a}function xo(o){var a=Bs(o);a!==null&&a.tag===5&&a.type==="form"?G0(a):Zs.r(o)}var Cs=typeof document>"u"?null:document;function Fv(o,a,u){var p=Cs;if(p&&typeof a=="string"&&a){var v=qr(a);v='link[rel="'+o+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),xp.has(v)||(xp.add(v),o={rel:o,crossOrigin:u,href:a},p.querySelector(v)===null&&(a=p.createElement("link"),ti(a,"link",o),En(a),p.head.appendChild(a)))}}function bx(o){Zs.D(o),Fv("dns-prefetch",o,null)}function xx(o,a){Zs.C(o,a),Fv("preconnect",o,a)}function wx(o,a,u){Zs.L(o,a,u);var p=Cs;if(p&&o&&a){var v='link[rel="preload"][as="'+qr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+qr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+qr(u.imageSizes)+'"]')):v+='[href="'+qr(o)+'"]';var S=v;switch(a){case"style":S=ni(o);break;case"script":S=ef(o)}bi.has(S)||(o=Me({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),bi.set(S,o),p.querySelector(v)!==null||a==="style"&&p.querySelector(Zc(S))||a==="script"&&p.querySelector(tf(S))||(a=p.createElement("link"),ti(a,"link",o),En(a),p.head.appendChild(a)))}}function Sx(o,a){Zs.m(o,a);var u=Cs;if(u&&o){var p=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+qr(p)+'"][href="'+qr(o)+'"]',S=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ef(o)}if(!bi.has(S)&&(o=Me({rel:"modulepreload",href:o},a),bi.set(S,o),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(tf(S)))return}p=u.createElement("link"),ti(p,"link",o),En(p),u.head.appendChild(p)}}}function qv(o,a,u){Zs.S(o,a,u);var p=Cs;if(p&&o){var v=qi(p).hoistableStyles,S=ni(o);a=a||"default";var D=v.get(S);if(!D){var q={loading:0,preload:null};if(D=p.querySelector(Zc(S)))q.loading=5;else{o=Me({rel:"stylesheet",href:o,"data-precedence":a},u),(u=bi.get(S))&&ty(o,u);var Q=D=p.createElement("link");En(Q),ti(Q,"link",o),Q._p=new Promise(function(ce,Ae){Q.onload=ce,Q.onerror=Ae}),Q.addEventListener("load",function(){q.loading|=1}),Q.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Cp(D,a,p)}D={type:"stylesheet",instance:D,count:1,state:q},v.set(S,D)}}}function Pa(o,a){Zs.X(o,a);var u=Cs;if(u&&o){var p=qi(u).hoistableScripts,v=ef(o),S=p.get(v);S||(S=u.querySelector(tf(v)),S||(o=Me({src:o,async:!0},a),(a=bi.get(v))&&ny(o,a),S=u.createElement("script"),En(S),ti(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function $t(o,a){Zs.M(o,a);var u=Cs;if(u&&o){var p=qi(u).hoistableScripts,v=ef(o),S=p.get(v);S||(S=u.querySelector(tf(v)),S||(o=Me({src:o,async:!0,type:"module"},a),(a=bi.get(v))&&ny(o,a),S=u.createElement("script"),En(S),ti(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function ey(o,a,u,p){var v=(v=Cn.current)?wp(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=ni(u.href),u=qi(v).hoistableStyles,p=u.get(a),p||(p={type:"style",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=ni(u.href);var S=qi(v).hoistableStyles,D=S.get(o);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,D),(S=v.querySelector(Zc(o)))&&!S._p&&(D.instance=S,D.state.loading=5),bi.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},bi.set(o,u),S||Mn(v,o,u,D.state))),a&&p===null)throw Error(r(528,""));return D}if(a&&p!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ef(u),u=qi(v).hoistableScripts,p=u.get(a),p||(p={type:"script",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ni(o){return'href="'+qr(o)+'"'}function Zc(o){return'link[rel="stylesheet"]['+o+"]"}function Uv(o){return Me({},o,{"data-precedence":o.precedence,precedence:null})}function Mn(o,a,u,p){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=o.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),ti(a,"link",u),En(a),o.head.appendChild(a))}function ef(o){return'[src="'+qr(o)+'"]'}function tf(o){return"script[async]"+o}function _d(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var p=o.querySelector('style[data-href~="'+qr(u.href)+'"]');if(p)return a.instance=p,En(p),p;var v=Me({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),En(p),ti(p,"style",v),Cp(p,u.precedence,o),a.instance=p;case"stylesheet":v=ni(u.href);var S=o.querySelector(Zc(v));if(S)return a.state.loading|=4,a.instance=S,En(S),S;p=Uv(u),(v=bi.get(v))&&ty(p,v),S=(o.ownerDocument||o).createElement("link"),En(S);var D=S;return D._p=new Promise(function(q,Q){D.onload=q,D.onerror=Q}),ti(S,"link",p),a.state.loading|=4,Cp(S,u.precedence,o),a.instance=S;case"script":return S=ef(u.src),(v=o.querySelector(tf(S)))?(a.instance=v,En(v),v):(p=u,(v=bi.get(S))&&(p=Me({},u),ny(p,v)),o=o.ownerDocument||o,v=o.createElement("script"),En(v),ti(v,"link",p),o.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,Cp(p,u.precedence,o));return a.instance}function Cp(o,a,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,S=v,D=0;D<p.length;D++){var q=p[D];if(q.dataset.precedence===a)S=q;else if(S!==v)break}S?S.parentNode.insertBefore(o,S.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function ty(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function ny(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var Ep=null;function Vv(o,a,u){if(Ep===null){var p=new Map,v=Ep=new Map;v.set(u,p)}else v=Ep,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(o))return p;for(p.set(o,null),u=u.getElementsByTagName(o),v=0;v<u.length;v++){var S=u[v];if(!(S[tl]||S[pr]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(a)||"";D=o+D;var q=p.get(D);q?q.push(S):p.set(D,[S])}}return p}function jv(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function Cx(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Kv(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Nd=null;function Ex(){}function Tx(o,a,u){if(Nd===null)throw Error(r(475));var p=Nd;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=ni(u.href),S=o.querySelector(Zc(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=Tp.bind(p),o.then(p,p)),a.state.loading|=4,a.instance=S,En(S);return}S=o.ownerDocument||o,u=Uv(u),(v=bi.get(v))&&ty(u,v),S=S.createElement("link"),En(S);var D=S;D._p=new Promise(function(q,Q){D.onload=q,D.onerror=Q}),ti(S,"link",u),a.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(p.count++,a=Tp.bind(p),o.addEventListener("load",a),o.addEventListener("error",a))}}function Ox(){if(Nd===null)throw Error(r(475));var o=Nd;return o.stylesheets&&o.count===0&&ry(o,o.stylesheets),0<o.count?function(a){var u=setTimeout(function(){if(o.stylesheets&&ry(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(u)}}:null}function Tp(){if(this.count--,this.count===0){if(this.stylesheets)ry(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var nf=null;function ry(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,nf=new Map,a.forEach(iy,o),nf=null,Tp.call(o))}function iy(o,a){if(!(a.state.loading&4)){var u=nf.get(o);if(u)var p=u.get(null);else{u=new Map,nf.set(o,u);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),p=D)}p&&u.set(null,p)}v=a.instance,D=v.getAttribute("data-precedence"),S=u.get(D)||p,S===p&&u.set(null,v),u.set(D,v),this.count++,p=Tp.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),S?S.parentNode.insertBefore(v,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),a.state.loading|=4}}var Ld={$$typeof:T,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Ax(o,a,u,p,v,S,D,q){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function $v(o,a,u,p,v,S,D,q,Q,ce,Ae,ze){return o=new Ax(o,a,u,D,q,Q,ce,ze),a=1,S===!0&&(a|=24),S=yo(3,null,null,a),o.current=S,S.stateNode=o,a=Im(),a.refCount++,o.pooledCache=a,a.refCount++,S.memoizedState={element:p,isDehydrated:u,cache:a},hd(S),o}function Br(o){return o?(o=ki,o):ki}function Li(o,a,u,p,v,S){v=Br(v),p.context===null?p.context=v:p.pendingContext=v,p=vs(a),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=ho(o,p,a),u!==null&&(vi(u,o,a),Ot(u,o,a))}function Yv(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function oy(o,a){Yv(o,a),(o=o.alternate)&&Yv(o,a)}function Gv(o){if(o.tag===13){var a=In(o,67108864);a!==null&&vi(a,o,67108864),oy(o,67108864)}}var Bd=!0;function kx(o,a,u,p){var v=fe.T;fe.T=null;var S=Ge.p;try{Ge.p=2,sy(o,a,u,p)}finally{Ge.p=S,fe.T=v}}function Mx(o,a,u,p){var v=fe.T;fe.T=null;var S=Ge.p;try{Ge.p=8,sy(o,a,u,p)}finally{Ge.p=S,fe.T=v}}function sy(o,a,u,p){if(Bd){var v=Op(p);if(v===null)$g(o,a,p,Ap,u),Qv(o,p);else if(Rx(v,o,a,u,p))p.stopPropagation();else if(Qv(o,p),a&4&&-1<Dx.indexOf(o)){for(;v!==null;){var S=Bs(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=gn(S.pendingLanes);if(D!==0){var q=S;for(q.pendingLanes|=2,q.entangledLanes|=2;D;){var Q=1<<31-At(D);q.entanglements[1]|=Q,D&=~Q}ws(S),(ur&6)===0&&(cp=st()+500,ju(0))}}break;case 13:q=In(S,2),q!==null&&vi(q,S,2),dp(),oy(S,2)}if(S=Op(p),S===null&&$g(o,a,p,Ap,u),S===v)break;v=S}v!==null&&p.stopPropagation()}else $g(o,a,p,null,u)}}function Op(o){return o=fc(o),ay(o)}var Ap=null;function ay(o){if(Ap=null,o=Ls(o),o!==null){var a=Ye(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=mt(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Ap=o,null}function Wv(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case sn:return 2;case Ht:return 8;case hn:case Mr:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var kp=!1,Fa=null,ql=null,Ul=null,Id=new Map,zd=new Map,wo=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(o,a){switch(o){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Id.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(a.pointerId)}}function Hd(o,a,u,p,v,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[v]},a!==null&&(a=Bs(a),a!==null&&Gv(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function Rx(o,a,u,p,v){switch(a){case"focusin":return Fa=Hd(Fa,o,a,u,p,v),!0;case"dragenter":return ql=Hd(ql,o,a,u,p,v),!0;case"mouseover":return Ul=Hd(Ul,o,a,u,p,v),!0;case"pointerover":var S=v.pointerId;return Id.set(S,Hd(Id.get(S)||null,o,a,u,p,v)),!0;case"gotpointercapture":return S=v.pointerId,zd.set(S,Hd(zd.get(S)||null,o,a,u,p,v)),!0}return!1}function Xv(o){var a=Ls(o.target);if(a!==null){var u=Ye(a);if(u!==null){if(a=u.tag,a===13){if(a=mt(u),a!==null){o.blockedOn=a,Oi(o.priority,function(){if(u.tag===13){var p=bo(),v=In(u,p);v!==null&&vi(v,u,p),oy(u,p)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pd(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=Op(o.nativeEvent);if(u===null){u=o.nativeEvent;var p=new u.constructor(u.type,u);cc=p,u.target.dispatchEvent(p),cc=null}else return a=Bs(u),a!==null&&Gv(a),o.blockedOn=u,!1;a.shift()}return!0}function ly(o,a,u){Pd(o)&&u.delete(a)}function _x(){kp=!1,Fa!==null&&Pd(Fa)&&(Fa=null),ql!==null&&Pd(ql)&&(ql=null),Ul!==null&&Pd(Ul)&&(Ul=null),Id.forEach(ly),zd.forEach(ly)}function Mp(o,a){o.blockedOn===a&&(o.blockedOn=null,kp||(kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_x)))}var Dp=null;function Jv(o){Dp!==o&&(Dp=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dp===o&&(Dp=null);for(var a=0;a<o.length;a+=3){var u=o[a],p=o[a+1],v=o[a+2];if(typeof p!="function"){if(ay(p||u)===null)continue;break}var S=Bs(u);S!==null&&(o.splice(a,3),a-=3,sd(S,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function Fd(o){function a(Q){return Mp(Q,o)}Fa!==null&&Mp(Fa,o),ql!==null&&Mp(ql,o),Ul!==null&&Mp(Ul,o),Id.forEach(a),zd.forEach(a);for(var u=0;u<wo.length;u++){var p=wo[u];p.blockedOn===o&&(p.blockedOn=null)}for(;0<wo.length&&(u=wo[0],u.blockedOn===null);)Xv(u),u.blockedOn===null&&wo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],S=u[p+1],D=v[or]||null;if(typeof S=="function")D||Jv(u);else if(D){var q=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[or]||null)q=D.formAction;else if(ay(v)!==null)continue}else q=D.action;typeof q=="function"?u[p+1]=q:(u.splice(p,3),p-=3),Jv(u)}}}function uy(o){this._internalRoot=o}Rp.prototype.render=uy.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,p=bo();Li(u,p,o,a,null,null)},Rp.prototype.unmount=uy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;o.tag===0&&za(),Li(o.current,2,null,o,null,null),dp(),a[oo]=null}};function Rp(o){this._internalRoot=o}Rp.prototype.unstable_scheduleHydration=function(o){if(o){var a=io();o={blockedOn:null,target:o,priority:a};for(var u=0;u<wo.length&&a!==0&&a<wo[u].priority;u++);wo.splice(u,0,o),u===0&&Xv(o)}};var Zv=e.version;if(Zv!=="19.0.0")throw Error(r(527,Zv,"19.0.0"));Ge.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Oe(a),o=o!==null?tt(o):null,o=o===null?null:o.stateNode,o};var Nx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:fe,findFiberByHostInstance:Ls,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Dr=_p.inject(Nx),Ce=_p}catch{}}return fy.createRoot=function(o,a){if(!i(o))throw Error(r(299));var u=!1,p="",v=Da,S=W0,D=Ra,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks)),a=$v(o,1,!1,null,null,u,p,v,S,D,q,null),o[oo]=a.current,Kg(o.nodeType===8?o.parentNode:o),new uy(a)},fy.hydrateRoot=function(o,a,u){if(!i(o))throw Error(r(299));var p=!1,v="",S=Da,D=W0,q=Ra,Q=null,ce=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ce=u.formState)),a=$v(o,1,!0,a,u??null,p,v,S,D,q,Q,ce),a.context=Br(null),u=a.current,p=bo(),v=vs(p),v.callback=null,ho(u,v,p),a.current.lanes=p,Fn(a,p),ws(a),o[oo]=a.current,Kg(o),new Rp(a)},fy.version="19.0.0",fy}var b2;function wD(){if(b2)return Ux.exports;b2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ux.exports=xD(),Ux.exports}var SD=wD();function CD(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ED(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TD=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ED(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=CD(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Qi="-ms-",N1="-moz-",_n="-webkit-",fO="comm",LS="rule",BS="decl",OD="@import",dO="@keyframes",AD="@layer",kD=Math.abs,fb=String.fromCharCode,MD=Object.assign;function DD(t,e){return Ii(t,0)^45?(((e<<2^Ii(t,0))<<2^Ii(t,1))<<2^Ii(t,2))<<2^Ii(t,3):0}function hO(t){return t.trim()}function RD(t,e){return(t=e.exec(t))?t[0]:t}function Nn(t,e,n){return t.replace(e,n)}function _w(t,e){return t.indexOf(e)}function Ii(t,e){return t.charCodeAt(e)|0}function zy(t,e,n){return t.slice(e,n)}function Ql(t){return t.length}function IS(t){return t.length}function t1(t,e){return e.push(t),t}function _D(t,e){return t.map(e).join("")}var db=1,om=1,pO=0,Jo=0,Gr=0,xm="";function hb(t,e,n,r,i,s,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:db,column:om,length:l,return:""}}function dy(t,e){return MD(hb("",null,null,"",null,null,0),t,{length:-t.length},e)}function ND(){return Gr}function LD(){return Gr=Jo>0?Ii(xm,--Jo):0,om--,Gr===10&&(om=1,db--),Gr}function Ms(){return Gr=Jo<pO?Ii(xm,Jo++):0,om++,Gr===10&&(om=1,db++),Gr}function nu(){return Ii(xm,Jo)}function g1(){return Jo}function l0(t,e){return zy(xm,t,e)}function Hy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mO(t){return db=om=1,pO=Ql(xm=t),Jo=0,[]}function gO(t){return xm="",t}function y1(t){return hO(l0(Jo-1,Nw(t===91?t+2:t===40?t+1:t)))}function BD(t){for(;(Gr=nu())&&Gr<33;)Ms();return Hy(t)>2||Hy(Gr)>3?"":" "}function ID(t,e){for(;--e&&Ms()&&!(Gr<48||Gr>102||Gr>57&&Gr<65||Gr>70&&Gr<97););return l0(t,g1()+(e<6&&nu()==32&&Ms()==32))}function Nw(t){for(;Ms();)switch(Gr){case t:return Jo;case 34:case 39:t!==34&&t!==39&&Nw(Gr);break;case 40:t===41&&Nw(t);break;case 92:Ms();break}return Jo}function zD(t,e){for(;Ms()&&t+Gr!==57;)if(t+Gr===84&&nu()===47)break;return"/*"+l0(e,Jo-1)+"*"+fb(t===47?t:Ms())}function HD(t){for(;!Hy(nu());)Ms();return l0(t,Jo)}function PD(t){return gO(v1("",null,null,null,[""],t=mO(t),0,[0],t))}function v1(t,e,n,r,i,s,l,f,d){for(var m=0,y=0,x=l,C=0,T=0,E=0,k=1,R=1,H=1,K=0,Y="",U=i,G=s,re=r,de=Y;R;)switch(E=K,K=Ms()){case 40:if(E!=108&&Ii(de,x-1)==58){_w(de+=Nn(y1(K),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:de+=y1(K);break;case 9:case 10:case 13:case 32:de+=BD(E);break;case 92:de+=ID(g1()-1,7);continue;case 47:switch(nu()){case 42:case 47:t1(FD(zD(Ms(),g1()),e,n),d);break;default:de+="/"}break;case 123*k:f[m++]=Ql(de)*H;case 125*k:case 59:case 0:switch(K){case 0:case 125:R=0;case 59+y:H==-1&&(de=Nn(de,/\f/g,"")),T>0&&Ql(de)-x&&t1(T>32?w2(de+";",r,n,x-1):w2(Nn(de," ","")+";",r,n,x-2),d);break;case 59:de+=";";default:if(t1(re=x2(de,e,n,m,y,i,f,Y,U=[],G=[],x),s),K===123)if(y===0)v1(de,e,re,re,U,s,x,f,G);else switch(C===99&&Ii(de,3)===110?100:C){case 100:case 108:case 109:case 115:v1(t,re,re,r&&t1(x2(t,re,re,0,0,i,f,Y,i,U=[],x),G),i,G,x,f,r?U:G);break;default:v1(de,re,re,re,[""],G,0,f,G)}}m=y=T=0,k=H=1,Y=de="",x=l;break;case 58:x=1+Ql(de),T=E;default:if(k<1){if(K==123)--k;else if(K==125&&k++==0&&LD()==125)continue}switch(de+=fb(K),K*k){case 38:H=y>0?1:(de+="\f",-1);break;case 44:f[m++]=(Ql(de)-1)*H,H=1;break;case 64:nu()===45&&(de+=y1(Ms())),C=nu(),y=x=Ql(Y=de+=HD(g1())),K++;break;case 45:E===45&&Ql(de)==2&&(k=0)}}return s}function x2(t,e,n,r,i,s,l,f,d,m,y){for(var x=i-1,C=i===0?s:[""],T=IS(C),E=0,k=0,R=0;E<r;++E)for(var H=0,K=zy(t,x+1,x=kD(k=l[E])),Y=t;H<T;++H)(Y=hO(k>0?C[H]+" "+K:Nn(K,/&\f/g,C[H])))&&(d[R++]=Y);return hb(t,e,n,i===0?LS:f,d,m,y)}function FD(t,e,n){return hb(t,e,n,fO,fb(ND()),zy(t,2,-2),0)}function w2(t,e,n,r){return hb(t,e,n,BS,zy(t,0,r),zy(t,r+1,-1),r)}function qp(t,e){for(var n="",r=IS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function qD(t,e,n,r){switch(t.type){case AD:if(t.children.length)break;case OD:case BS:return t.return=t.return||t.value;case fO:return"";case dO:return t.return=t.value+"{"+qp(t.children,r)+"}";case LS:t.value=t.props.join(",")}return Ql(n=qp(t.children,r))?t.return=t.value+"{"+n+"}":""}function UD(t){var e=IS(t);return function(n,r,i,s){for(var l="",f=0;f<e;f++)l+=t[f](n,r,i,s)||"";return l}}function VD(t){return function(e){e.root||(e=e.return)&&t(e)}}var S2=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function jD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KD=function(e,n,r){for(var i=0,s=0;i=s,s=nu(),i===38&&s===12&&(n[r]=1),!Hy(s);)Ms();return l0(e,Jo)},$D=function(e,n){var r=-1,i=44;do switch(Hy(i)){case 0:i===38&&nu()===12&&(n[r]=1),e[r]+=KD(Jo-1,n,r);break;case 2:e[r]+=y1(i);break;case 4:if(i===44){e[++r]=nu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fb(i)}while(i=Ms());return e},YD=function(e,n){return gO($D(mO(e),n))},C2=new WeakMap,GD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!C2.get(r))&&!i){C2.set(e,!0);for(var s=[],l=YD(n,s),f=r.props,d=0,m=0;d<l.length;d++)for(var y=0;y<f.length;y++,m++)e.props[m]=s[d]?l[d].replace(/&\f/g,f[y]):f[y]+" "+l[d]}}},WD=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function yO(t,e){switch(DD(t,e)){case 5103:return _n+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+t+N1+t+Qi+t+t;case 6828:case 4268:return _n+t+Qi+t+t;case 6165:return _n+t+Qi+"flex-"+t+t;case 5187:return _n+t+Nn(t,/(\w+).+(:[^]+)/,_n+"box-$1$2"+Qi+"flex-$1$2")+t;case 5443:return _n+t+Qi+"flex-item-"+Nn(t,/flex-|-self/,"")+t;case 4675:return _n+t+Qi+"flex-line-pack"+Nn(t,/align-content|flex-|-self/,"")+t;case 5548:return _n+t+Qi+Nn(t,"shrink","negative")+t;case 5292:return _n+t+Qi+Nn(t,"basis","preferred-size")+t;case 6060:return _n+"box-"+Nn(t,"-grow","")+_n+t+Qi+Nn(t,"grow","positive")+t;case 4554:return _n+Nn(t,/([^-])(transform)/g,"$1"+_n+"$2")+t;case 6187:return Nn(Nn(Nn(t,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),t,"")+t;case 5495:case 3959:return Nn(t,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return Nn(Nn(t,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+Qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+t+t;case 4095:case 3583:case 4068:case 2532:return Nn(t,/(.+)-inline(.+)/,_n+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ql(t)-1-e>6)switch(Ii(t,e+1)){case 109:if(Ii(t,e+4)!==45)break;case 102:return Nn(t,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+N1+(Ii(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_w(t,"stretch")?yO(Nn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ii(t,e+1)!==115)break;case 6444:switch(Ii(t,Ql(t)-3-(~_w(t,"!important")&&10))){case 107:return Nn(t,":",":"+_n)+t;case 101:return Nn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(Ii(t,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+Qi+"$2box$3")+t}break;case 5936:switch(Ii(t,e+11)){case 114:return _n+t+Qi+Nn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _n+t+Qi+Nn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _n+t+Qi+Nn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _n+t+Qi+t+t}return t}var QD=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case BS:e.return=yO(e.value,e.length);break;case dO:return qp([dy(e,{value:Nn(e.value,"@","@"+_n)})],i);case LS:if(e.length)return _D(e.props,function(s){switch(RD(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qp([dy(e,{props:[Nn(s,/:(read-\w+)/,":"+N1+"$1")]})],i);case"::placeholder":return qp([dy(e,{props:[Nn(s,/:(plac\w+)/,":"+_n+"input-$1")]}),dy(e,{props:[Nn(s,/:(plac\w+)/,":"+N1+"$1")]}),dy(e,{props:[Nn(s,/:(plac\w+)/,Qi+"input-$1")]})],i)}return""})}},XD=[QD],JD=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var R=k.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=e.stylisPlugins||XD,s={},l,f=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var R=k.getAttribute("data-emotion").split(" "),H=1;H<R.length;H++)s[R[H]]=!0;f.push(k)});var d,m=[GD,WD];{var y,x=[qD,VD(function(k){y.insert(k)})],C=UD(m.concat(i,x)),T=function(R){return qp(PD(R),C)};d=function(R,H,K,Y){y=K,T(R?R+"{"+H.styles+"}":H.styles),Y&&(E.inserted[H.name]=!0)}}var E={key:n,sheet:new TD({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return E.sheet.hydrate(f),E};function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}var $x={exports:{}},Hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function ZD(){if(E2)return Hn;E2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,x=t?Symbol.for("react.suspense"):60113,C=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,R=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,K=t?Symbol.for("react.scope"):60119;function Y(G){if(typeof G=="object"&&G!==null){var re=G.$$typeof;switch(re){case e:switch(G=G.type,G){case d:case m:case r:case s:case i:case x:return G;default:switch(G=G&&G.$$typeof,G){case f:case y:case E:case T:case l:return G;default:return re}}case n:return re}}}function U(G){return Y(G)===m}return Hn.AsyncMode=d,Hn.ConcurrentMode=m,Hn.ContextConsumer=f,Hn.ContextProvider=l,Hn.Element=e,Hn.ForwardRef=y,Hn.Fragment=r,Hn.Lazy=E,Hn.Memo=T,Hn.Portal=n,Hn.Profiler=s,Hn.StrictMode=i,Hn.Suspense=x,Hn.isAsyncMode=function(G){return U(G)||Y(G)===d},Hn.isConcurrentMode=U,Hn.isContextConsumer=function(G){return Y(G)===f},Hn.isContextProvider=function(G){return Y(G)===l},Hn.isElement=function(G){return typeof G=="object"&&G!==null&&G.$$typeof===e},Hn.isForwardRef=function(G){return Y(G)===y},Hn.isFragment=function(G){return Y(G)===r},Hn.isLazy=function(G){return Y(G)===E},Hn.isMemo=function(G){return Y(G)===T},Hn.isPortal=function(G){return Y(G)===n},Hn.isProfiler=function(G){return Y(G)===s},Hn.isStrictMode=function(G){return Y(G)===i},Hn.isSuspense=function(G){return Y(G)===x},Hn.isValidElementType=function(G){return typeof G=="string"||typeof G=="function"||G===r||G===m||G===s||G===i||G===x||G===C||typeof G=="object"&&G!==null&&(G.$$typeof===E||G.$$typeof===T||G.$$typeof===l||G.$$typeof===f||G.$$typeof===y||G.$$typeof===R||G.$$typeof===H||G.$$typeof===K||G.$$typeof===k)},Hn.typeOf=Y,Hn}var T2;function e9(){return T2||(T2=1,$x.exports=ZD()),$x.exports}var Yx,O2;function t9(){if(O2)return Yx;O2=1;var t=e9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function l(E){return t.isMemo(E)?i:s[E.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,C=Object.prototype;function T(E,k,R){if(typeof k!="string"){if(C){var H=x(k);H&&H!==C&&T(E,H,R)}var K=d(k);m&&(K=K.concat(m(k)));for(var Y=l(E),U=l(k),G=0;G<K.length;++G){var re=K[G];if(!n[re]&&!(R&&R[re])&&!(U&&U[re])&&!(Y&&Y[re])){var de=y(k,re);try{f(E,re,de)}catch{}}}}return E}return Yx=T,Yx}t9();var n9=!0;function r9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var vO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||n9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},i9=function(e,n,r){vO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function o9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var s9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a9=/[A-Z]|^ms/g,l9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bO=function(e){return e.charCodeAt(1)===45},A2=function(e){return e!=null&&typeof e!="boolean"},Gx=jD(function(t){return bO(t)?t:t.replace(a9,"-$&").toLowerCase()}),k2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(l9,function(r,i,s){return Xl={name:i,styles:s,next:Xl},i})}return s9[e]!==1&&!bO(e)&&typeof n=="number"&&n!==0?n+"px":n};function Py(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Xl={name:i.name,styles:i.styles,next:Xl},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Xl={name:l.name,styles:l.styles,next:Xl},l=l.next;var f=s.styles+";";return f}return u9(t,e,n)}case"function":{if(t!==void 0){var d=Xl,m=n(t);return Xl=d,Py(t,e,m)}break}}var y=n;return y}function u9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Py(t,e,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var f=l;A2(f)&&(r+=Gx(s)+":"+k2(s,f)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)A2(l[d])&&(r+=Gx(s)+":"+k2(s,l[d])+";");else{var m=Py(t,e,l);switch(s){case"animation":case"animationName":{r+=Gx(s)+":"+m+";";break}default:r+=s+"{"+m+"}"}}}return r}var M2=/label:\s*([^\s;{]+)\s*(;|$)/g,Xl;function xO(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Xl=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Py(n,e,s);else{var l=s;i+=l[0]}for(var f=1;f<t.length;f++)if(i+=Py(n,e,t[f]),r){var d=s;i+=d[f]}M2.lastIndex=0;for(var m="",y;(y=M2.exec(i))!==null;)m+="-"+y[1];var x=o9(i)+m;return{name:x,styles:i,next:Xl}}var c9=function(e){return e()},f9=h2.useInsertionEffect?h2.useInsertionEffect:!1,d9=f9||c9,wO=F.createContext(typeof HTMLElement<"u"?JD({key:"css"}):null);wO.Provider;var h9=function(e){return F.forwardRef(function(n,r){var i=F.useContext(wO);return e(n,i,r)})},L1=F.createContext({}),es=function(){return F.useContext(L1)},p9=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Lw({},e,n)},m9=S2(function(t){return S2(function(e){return p9(t,e)})}),g9=function(e){var n=F.useContext(L1);return e.theme!==n&&(n=m9(n)(e.theme)),F.createElement(L1.Provider,{value:n},e.children)},u0={}.hasOwnProperty,Bw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zS=function(e,n){var r={};for(var i in n)u0.call(n,i)&&(r[i]=n[i]);return r[Bw]=e,r},y9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vO(n,r,i),d9(function(){return i9(n,r,i)}),null},v9=h9(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Bw],s=[r],l="";typeof t.className=="string"?l=r9(e.registered,s,t.className):t.className!=null&&(l=t.className+" ");var f=xO(s,void 0,F.useContext(L1));l+=e.key+"-"+f.name;var d={};for(var m in t)u0.call(t,m)&&m!=="css"&&m!==Bw&&(d[m]=t[m]);return d.className=l,n&&(d.ref=n),F.createElement(F.Fragment,null,F.createElement(y9,{cache:e,serialized:f,isStringTag:typeof i=="string"}),F.createElement(i,d))}),HS=v9,D2=function(e,n){var r=arguments;if(n==null||!u0.call(n,"css"))return F.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=HS,s[1]=zS(e,n);for(var l=2;l<i;l++)s[l]=r[l];return F.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(D2||(D2={}));function b1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xO(e)}function ts(){var t=b1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ru=Bt.Fragment,L=function(e,n,r){return u0.call(n,"css")?Bt.jsx(HS,zS(e,n),r):Bt.jsx(e,n,r)},Qe=function(e,n,r){return u0.call(n,"css")?Bt.jsxs(HS,zS(e,n),r):Bt.jsxs(e,n,r)};function b9(){return L("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",fontSize:"30px"},children:L("h1",{children:"Flow-Assistant"})})}function x9({color:t="#BABDCC",size:e=24}){return Qe("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:[L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 20C11 19.4477 11.4477 19 12 19L15.2 19C16.0565 19 16.6388 18.9992 17.0889 18.9624C17.5273 18.9266 17.7515 18.8617 17.9079 18.782C18.2843 18.5903 18.5902 18.2843 18.782 17.908C18.8617 17.7516 18.9266 17.5274 18.9624 17.089C18.9992 16.6389 19 16.0566 19 15.2L19 8.8C19 7.94342 18.9992 7.36113 18.9624 6.91104C18.9266 6.47262 18.8617 6.24842 18.782 6.09202C18.5902 5.71569 18.2843 5.40973 17.9079 5.21799C17.7515 5.1383 17.5273 5.07337 17.0889 5.03755C16.6388 5.00078 16.0565 5 15.2 5L12 5C11.4477 5 11 4.55228 11 4C11 3.44772 11.4477 3 12 3L15.2413 3C16.0462 2.99999 16.7106 2.99998 17.2518 3.04419C17.8139 3.09012 18.3306 3.18868 18.8159 3.43597C19.5686 3.81947 20.1805 4.43139 20.564 5.18404C20.8113 5.66937 20.9098 6.18608 20.9558 6.74817C21 7.28937 21 7.95374 21 8.75872V15.2413C21 16.0463 21 16.7106 20.9558 17.2518C20.9098 17.8139 20.8113 18.3306 20.564 18.816C20.1805 19.5686 19.5686 20.1805 18.8159 20.564C18.3306 20.8113 17.8139 20.9099 17.2518 20.9558C16.7106 21 16.0462 21 15.2413 21H12C11.4477 21 11 20.5523 11 20Z"}),L("path",{d:"M4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H12.5858L11.2929 9.70711C10.9024 9.31658 10.9024 8.68342 11.2929 8.29289C11.6834 7.90237 12.3166 7.90237 12.7071 8.29289L15.7071 11.2929C16.0976 11.6834 16.0976 12.3166 15.7071 12.7071L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071C10.9024 15.3166 10.9024 14.6834 11.2929 14.2929L12.5858 13H4Z"})]})}function w9({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M12.7078 3.08079C12.2427 2.96786 11.7573 2.96786 11.2922 3.08079C10.7606 3.20985 10.2913 3.52879 9.75706 3.89186L4.75586 7.28024C4.32946 7.56841 3.95399 7.82215 3.67245 8.16837C3.42553 8.47201 3.24041 8.82104 3.12752 9.19578C2.9988 9.62305 2.99933 10.0762 2.99993 10.5909L3.00001 16.8389C2.99999 17.366 2.99998 17.8208 3.03058 18.1954C3.06288 18.5907 3.1342 18.9839 3.32699 19.3623C3.61461 19.9268 4.07355 20.3857 4.63804 20.6733C5.01642 20.8661 5.40964 20.9375 5.80498 20.9698C6.17955 21.0004 6.6343 21.0003 7.16144 21.0003H16.8386C17.3657 21.0003 17.8205 21.0004 18.195 20.9698C18.5904 20.9375 18.9836 20.8661 19.362 20.6733C19.9265 20.3857 20.3854 19.9268 20.673 19.3623C20.8658 18.9839 20.9371 18.5907 20.9694 18.1954C21 17.8208 21 17.366 21 16.8389L21.0001 10.5909C21.0007 10.0762 21.0012 9.62305 20.8725 9.19578C20.7596 8.82104 20.5745 8.47201 20.3276 8.16837C20.046 7.82215 19.6706 7.56841 19.2442 7.28024L14.243 3.89186C13.7087 3.52879 13.2394 3.20985 12.7078 3.08079Z",fill:t})})}function SO({color:t="currentColor",size:e=24}){return Qe("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:[L("path",{d:"M14 6C13.4477 6 13 6.44772 13 7C13 7.55228 13.4477 8 14 8H20C20.5523 8 21 7.55228 21 7C21 6.44772 20.5523 6 20 6H14Z",fill:t}),L("path",{d:"M14 16C13.4477 16 13 16.4477 13 17C13 17.5523 13.4477 18 14 18H20C20.5523 18 21 17.5523 21 17C21 16.4477 20.5523 16 20 16H14Z",fill:t}),L("path",{d:"M3.21799 4.09202C3 4.51984 3 5.0799 3 6.2V7.8C3 8.9201 3 9.48016 3.21799 9.90798C3.40973 10.2843 3.71569 10.5903 4.09202 10.782C4.51984 11 5.0799 11 6.2 11H7.8C8.92011 11 9.48016 11 9.90798 10.782C10.2843 10.5903 10.5903 10.2843 10.782 9.90798C11 9.48016 11 8.9201 11 7.8V6.2C11 5.0799 11 4.51984 10.782 4.09202C10.5903 3.71569 10.2843 3.40973 9.90798 3.21799C9.48016 3 8.9201 3 7.8 3H6.2C5.0799 3 4.51984 3 4.09202 3.21799C3.71569 3.40973 3.40973 3.71569 3.21799 4.09202Z",fill:t}),L("path",{d:"M3.21799 14.092C3 14.5198 3 15.0799 3 16.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.0799 21 6.2 21H7.8C8.92011 21 9.48016 21 9.90798 20.782C10.2843 20.5903 10.5903 20.2843 10.782 19.908C11 19.4802 11 18.9201 11 17.8V16.2C11 15.0799 11 14.5198 10.782 14.092C10.5903 13.7157 10.2843 13.4097 9.90798 13.218C9.48016 13 8.9201 13 7.8 13H6.2C5.0799 13 4.51984 13 4.09202 13.218C3.71569 13.4097 3.40973 13.7157 3.21799 14.092Z",fill:t})]})}function CO({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M8.41005 6.43934C8.95678 5.85355 9.84322 5.85355 10.3899 6.43934L14.5899 10.9393C15.1367 11.5251 15.1367 12.4749 14.5899 13.0607L10.3899 17.5607C9.84322 18.1464 8.95678 18.1464 8.41005 17.5607C7.86332 16.9749 7.86332 16.0251 8.41005 15.4393L11.6201 12L8.41005 8.56066C7.86332 7.97487 7.86332 7.02513 8.41005 6.43934Z",fill:t})})}function EO({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{transition:"fill 0s"},children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.5523 7 13 7.44772 13 8V11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H13V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V13H8C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H11V8C11 7.44772 11.4477 7 12 7Z",fill:t})})}function S9({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M10.2999 21.6001H5.49984C4.17436 21.6001 3.09984 20.5256 3.09985 19.2001L3.09995 4.80013C3.09995 3.47466 4.17447 2.40015 5.49995 2.40015H16.3002C17.6257 2.40015 18.7002 3.47466 18.7002 4.80015V11.4001M13.9002 18.2001L16.1002 20.4001L20.9002 15.6M7.30023 7.20015H14.5002M7.30023 10.8001H14.5002M7.30023 14.4001H10.9002",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function pb({color:t="currentColor",size:e=24,fill:n="none"}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:n,xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M13.0003 2.73726V1.97705M13.0003 24.0231V23.2629M23.2632 13.0001H24.0234M1.97729 13.0001H2.73751M20.2579 5.74327L20.7955 5.20572M5.20516 20.7945L5.74271 20.257M20.2579 20.2569L20.7955 20.7945M5.20516 5.20566L5.74271 5.74321M19.0672 12.9585C19.0672 16.3173 16.3443 19.0402 12.9855 19.0402C9.62667 19.0402 6.90381 16.3173 6.90381 12.9585C6.90381 9.5997 9.62667 6.87684 12.9855 6.87684C16.3443 6.87684 19.0672 9.5997 19.0672 12.9585Z",stroke:t,strokeWidth:"2",strokeLinecap:"round"})})}function PS({color:t="currentColor",size:e=24,fill:n="none"}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:n,xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M11.4951 2.71381C11.7017 2.29527 12.2985 2.29527 12.5051 2.71381L15.1791 8.13194C15.2611 8.29814 15.4196 8.41334 15.6031 8.43999L21.5823 9.30883C22.0442 9.37595 22.2286 9.94357 21.8944 10.2694L17.5678 14.4868C17.4351 14.6162 17.3745 14.8026 17.4058 14.9852L18.4272 20.9403C18.5061 21.4004 18.0233 21.7512 17.6101 21.534L12.2621 18.7224C12.0981 18.6361 11.9021 18.6361 11.738 18.7224L6.39002 21.534C5.97689 21.7512 5.49404 21.4004 5.57294 20.9403L6.59432 14.9852C6.62565 14.8026 6.56509 14.6162 6.43236 14.4868L2.10573 10.2694C1.7715 9.94357 1.95594 9.37595 2.41783 9.30883L8.39708 8.43999C8.5805 8.41334 8.73906 8.29814 8.82109 8.13194L11.4951 2.71381Z",stroke:t,strokeWidth:"2",strokeLinejoin:"round"})})}function C9({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M16.8 8.3999L9.64043 15.5999L7.19995 13.1456",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function FS({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M4 6.17647H20M9 3H15M10 16.7647V10.4118M14 16.7647V10.4118M15.5 21H8.5C7.39543 21 6.5 20.0519 6.5 18.8824L6.0434 7.27937C6.01973 6.67783 6.47392 6.17647 7.04253 6.17647H16.9575C17.5261 6.17647 17.9803 6.67783 17.9566 7.27937L17.5 18.8824C17.5 20.0519 16.6046 21 15.5 21Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function E9({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M7 10L12.0008 14.58L17 10",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function qS({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2243 6.05526C10.0208 6.00643 9.79315 6 9.01178 6H7.8C6.94342 6 6.36113 6.00078 5.91104 6.03755C5.47262 6.07337 5.24842 6.1383 5.09202 6.21799C4.7157 6.40974 4.40973 6.7157 4.21799 7.09202C4.1383 7.24842 4.07337 7.47262 4.03755 7.91104C4.00078 8.36113 4 8.94342 4 9.8V14.2C4 15.0566 4.00078 15.6389 4.03755 16.089C4.07337 16.5274 4.1383 16.7516 4.21799 16.908C4.40973 17.2843 4.7157 17.5903 5.09202 17.782C5.24842 17.8617 5.47262 17.9266 5.91104 17.9625C6.36113 17.9992 6.94342 18 7.8 18H16.2C17.0566 18 17.6389 17.9992 18.089 17.9625C18.5274 17.9266 18.7516 17.8617 18.908 17.782C19.2843 17.5903 19.5903 17.2843 19.782 16.908C19.8617 16.7516 19.9266 16.5274 19.9624 16.089C19.9992 15.6389 20 15.0566 20 14.2V11.8C20 10.9434 19.9992 10.3611 19.9624 9.91104C19.9266 9.47262 19.8617 9.24842 19.782 9.09202C19.5903 8.7157 19.2843 8.40974 18.908 8.21799C18.7516 8.1383 18.5274 8.07337 18.089 8.03755C17.6389 8.00078 17.0566 8 16.2 8H13C12.7348 8 12.4804 7.89465 12.2929 7.70711L11.6988 7.113C11.1463 6.56048 10.9807 6.40402 10.8024 6.29472C10.6234 6.18506 10.4283 6.10426 10.2243 6.05526ZM9.11366 3.99997C9.74865 3.99967 10.2284 3.99944 10.6911 4.11052C11.0993 4.20851 11.4895 4.37013 11.8474 4.58944C12.2531 4.83807 12.5922 5.17749 13.041 5.62672C13.0647 5.65043 13.0887 5.67445 13.113 5.69878L13.4142 6L16.2413 6C17.0463 5.99999 17.7106 5.99998 18.2518 6.0442C18.8139 6.09012 19.3306 6.18869 19.816 6.43598C20.5686 6.81947 21.1805 7.43139 21.564 8.18404C21.8113 8.66938 21.9099 9.18608 21.9558 9.74818C22 10.2894 22 10.9537 22 11.7587V14.2413C22 15.0463 22 15.7106 21.9558 16.2518C21.9099 16.8139 21.8113 17.3306 21.564 17.816C21.1805 18.5686 20.5686 19.1805 19.816 19.564C19.3306 19.8113 18.8139 19.9099 18.2518 19.9558C17.7106 20 17.0463 20 16.2413 20H7.75873C6.95374 20 6.28938 20 5.74817 19.9558C5.18608 19.9099 4.66937 19.8113 4.18404 19.564C3.43139 19.1805 2.81947 18.5686 2.43597 17.816C2.18868 17.3306 2.09012 16.8139 2.04419 16.2518C1.99998 15.7106 1.99999 15.0463 2 14.2413V9.7587C1.99999 8.95373 1.99998 8.28937 2.04419 7.74818C2.09012 7.18608 2.18868 6.66938 2.43597 6.18404C2.81947 5.43139 3.43139 4.81947 4.18404 4.43598C4.66937 4.18869 5.18608 4.09012 5.74817 4.0442C6.28937 3.99998 6.95373 3.99999 7.7587 4L9.01178 4C9.04618 4 9.08014 3.99999 9.11366 3.99997Z",fill:t})})}function TO({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M8.9999 2.39999V21.6M13.1999 5.99999H16.7999M13.1999 9.59999H16.7999M13.1999 13.2H13.7999M5.9999 21.6H17.9999C19.9881 21.6 21.5999 19.9882 21.5999 18V5.99999C21.5999 4.01177 19.9881 2.39999 17.9999 2.39999H5.9999C4.01168 2.39999 2.3999 4.01177 2.3999 5.99999V18C2.3999 19.9882 4.01168 21.6 5.9999 21.6Z",stroke:t,strokeWidth:"2",strokeLinecap:"round"})})}function T9({color:t="currentColor",size:e=24}){return Qe("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7929 13.7929C14.1834 13.4024 14.8166 13.4024 15.2071 13.7929L20.7071 19.2929C21.0976 19.6834 21.0976 20.3166 20.7071 20.7071C20.3166 21.0976 19.6834 21.0976 19.2929 20.7071L13.7929 15.2071C13.4024 14.8166 13.4024 14.1834 13.7929 13.7929Z",fill:t}),L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5C7.23858 5 5 7.23858 5 10C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10C15 7.23858 12.7614 5 10 5ZM3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10Z",fill:t})]})}function US({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M18 6L6 18M18 18L6 6",stroke:t,strokeWidth:"2",strokeLinecap:"round"})})}function OO({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M8.40033 7.1999H15.6003M8.40033 10.7999H15.6003M8.40033 14.3999H12.0003M6.60004 2.3999H17.4003C18.7258 2.3999 19.8003 3.47445 19.8003 4.79995L19.8 19.2C19.8 20.5254 18.7254 21.5999 17.4 21.5999L6.59994 21.5998C5.27446 21.5998 4.19994 20.5253 4.19995 19.1998L4.20004 4.79989C4.20005 3.47441 5.27457 2.3999 6.60004 2.3999Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function O9({size:t=24,color:e="currentColor"}){return L("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 7.8C3 6.11984 3 5.27976 3.32698 4.63803C3.6146 4.07354 4.07354 3.6146 4.63803 3.32698C5.27976 3 6.11984 3 7.8 3H16.2C17.8802 3 18.7202 3 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C21 5.27976 21 6.11984 21 7.8V16.2C21 17.8802 21 18.7202 20.673 19.362C20.3854 19.9265 19.9265 20.3854 19.362 20.673C18.7202 21 17.8802 21 16.2 21H7.8C6.11984 21 5.27976 21 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3 18.7202 3 17.8802 3 16.2V7.8ZM5 10C5 9.44772 5.44772 9 6 9H18C18.5523 9 19 9.44772 19 10C19 10.5523 18.5523 11 18 11H6C5.44772 11 5 10.5523 5 10ZM6 17C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17H6ZM5 6C5 5.44772 5.44772 5 6 5H18C18.5523 5 19 5.44772 19 6C19 6.55228 18.5523 7 18 7H6C5.44772 7 5 6.55228 5 6ZM6 13C5.44772 13 5 13.4477 5 14C5 14.5523 5.44772 15 6 15H18C18.5523 15 19 14.5523 19 14C19 13.4477 18.5523 13 18 13H6Z",fill:e})})}function A9({color:t="currentColor",size:e=24}){return Qe("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L("path",{d:"M15.5681 3C15.3157 2.99997 15.0699 2.99994 14.8618 3.01695C14.6332 3.03563 14.3634 3.07969 14.092 3.21799C13.7157 3.40974 13.4097 3.7157 13.218 4.09202C13.0797 4.36345 13.0356 4.63318 13.017 4.86178C12.9999 5.06993 13 5.31572 13 5.56811V10.4319C13 10.6843 12.9999 10.9301 13.017 11.1382C13.0356 11.3668 13.0797 11.6366 13.218 11.908C13.4097 12.2843 13.7157 12.5903 14.092 12.782C14.3634 12.9203 14.6332 12.9644 14.8618 12.9831C15.0699 13.0001 15.3157 13 15.5681 13H18.4319C18.6843 13 18.9301 13.0001 19.1382 12.9831C19.3668 12.9644 19.6366 12.9203 19.908 12.782C20.2843 12.5903 20.5903 12.2843 20.782 11.908C20.9203 11.6366 20.9644 11.3668 20.9831 11.1382C21.0001 10.9301 21 10.6843 21 10.4319V5.56811C21 5.31572 21.0001 5.06993 20.9831 4.86178C20.9644 4.63318 20.9203 4.36345 20.782 4.09202C20.5903 3.7157 20.2843 3.40974 19.908 3.21799C19.6366 3.07969 19.3668 3.03563 19.1382 3.01695C18.9301 2.99994 18.6843 2.99997 18.4319 3L15.5681 3Z",fill:t}),L("path",{d:"M5.56811 11C5.31573 11 5.06993 10.9999 4.86178 11.017C4.63318 11.0356 4.36345 11.0797 4.09202 11.218C3.7157 11.4097 3.40974 11.7157 3.21799 12.092C3.07969 12.3634 3.03563 12.6332 3.01695 12.8618C2.99994 13.0699 2.99997 13.3157 3 13.5681L3 18.4319C2.99997 18.6843 2.99994 18.9301 3.01695 19.1382C3.03563 19.3668 3.07969 19.6366 3.21799 19.908C3.40974 20.2843 3.7157 20.5903 4.09202 20.782C4.36345 20.9203 4.63318 20.9644 4.86178 20.9831C5.06994 21.0001 5.31574 21 5.56812 21H8.43189C8.68427 21 8.93007 21.0001 9.13824 20.9831C9.36683 20.9644 9.63656 20.9203 9.90799 20.782C10.2843 20.5903 10.5903 20.2843 10.782 19.908C10.9203 19.6366 10.9644 19.3668 10.9831 19.1382C11.0001 18.9301 11 18.6843 11 18.4319V13.5681C11 13.3157 11.0001 13.0699 10.9831 12.8618C10.9644 12.6332 10.9203 12.3634 10.782 12.092C10.5903 11.7157 10.2843 11.4097 9.90799 11.218C9.63656 11.0797 9.36683 11.0356 9.13824 11.017C8.93008 10.9999 8.68429 11 8.43192 11H5.56811Z",fill:t}),L("path",{d:"M5.56811 3C5.31573 2.99997 5.06993 2.99994 4.86178 3.01695C4.63318 3.03563 4.36345 3.07969 4.09202 3.21799C3.7157 3.40974 3.40974 3.7157 3.21799 4.09202C3.07969 4.36345 3.03563 4.63318 3.01695 4.86178C2.99994 5.06993 2.99997 5.31572 3 5.56809L3 6.4319C2.99997 6.68428 2.99994 6.93008 3.01695 7.13824C3.03563 7.36683 3.07969 7.63656 3.21799 7.90799C3.40974 8.28431 3.7157 8.59027 4.09202 8.78202C4.36345 8.92032 4.63318 8.96438 4.86178 8.98306C5.06993 9.00007 5.31572 9.00004 5.56811 9.00001H8.4319C8.68429 9.00004 8.93008 9.00007 9.13824 8.98306C9.36683 8.96438 9.63656 8.92032 9.90799 8.78202C10.2843 8.59027 10.5903 8.28431 10.782 7.90799C10.9203 7.63656 10.9644 7.36683 10.9831 7.13824C11.0001 6.93009 11 6.68431 11 6.43194V5.56811C11 5.31574 11.0001 5.06992 10.9831 4.86178C10.9644 4.63318 10.9203 4.36345 10.782 4.09202C10.5903 3.7157 10.2843 3.40974 9.90799 3.21799C9.63656 3.07969 9.36683 3.03563 9.13824 3.01695C8.93008 2.99994 8.68429 2.99997 8.43192 3L5.56811 3Z",fill:t}),L("path",{d:"M15.5681 15C15.3157 15 15.0699 14.9999 14.8618 15.017C14.6332 15.0356 14.3634 15.0797 14.092 15.218C13.7157 15.4097 13.4097 15.7157 13.218 16.092C13.0797 16.3634 13.0356 16.6332 13.017 16.8618C12.9999 17.0699 13 17.3157 13 17.5681V18.4319C13 18.6843 12.9999 18.9301 13.017 19.1382C13.0356 19.3668 13.0797 19.6366 13.218 19.908C13.4097 20.2843 13.7157 20.5903 14.092 20.782C14.3634 20.9203 14.6332 20.9644 14.8618 20.9831C15.0699 21.0001 15.3157 21 15.5681 21H18.4319C18.6843 21 18.9301 21.0001 19.1382 20.9831C19.3668 20.9644 19.6366 20.9203 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C20.9203 19.6366 20.9644 19.3668 20.9831 19.1382C21.0001 18.9301 21 18.6843 21 18.4319V17.5681C21 17.3157 21.0001 17.0699 20.9831 16.8618C20.9644 16.6332 20.9203 16.3634 20.782 16.092C20.5903 15.7157 20.2843 15.4097 19.908 15.218C19.6366 15.0797 19.3668 15.0356 19.1382 15.017C18.9301 14.9999 18.6843 15 18.4319 15H15.5681Z",fill:t})]})}function AO({color:t="currentColor",size:e=24,isFilled:n=!1}){return L(ru,{children:n?L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M7.9978 2.01416C5.4458 2.01416 3.9978 3.46246 3.9978 6.01626V21.0242C3.9978 21.7425 4.74381 22.2133 5.40381 21.9309L11.9978 19.1169L18.5918 21.9309C19.2518 22.2138 19.9978 21.7423 19.9978 21.0242V6.01626C19.9978 3.39146 18.6928 2.01416 15.9978 2.01416H7.9978Z",fill:t})}):L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M7.99781 2.01416C5.4458 2.01416 3.9978 3.46056 3.9978 6.01066V20.9975C3.9978 21.7148 4.7128 22.2167 5.3728 21.9342L11.9978 19.0929L18.5918 21.9342C19.2518 22.2167 19.9978 21.7148 19.9978 20.9975V6.01066C19.9978 3.38956 18.6928 2.01416 15.9978 2.01416H7.99781ZM7.99781 4.01236H15.9978C17.5638 4.01236 17.9978 4.46986 17.9978 6.01066V19.4988L12.3728 17.0947C12.1208 16.987 11.8428 16.987 11.5918 17.0947L5.9978 19.4988V6.01066C5.9978 4.56416 6.54981 4.01236 7.99781 4.01236Z",fill:t})})})}function k9({color:t="currentColor",size:e=24}){return L("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L("path",{d:"M21.6001 14.6396C20.6978 14.9132 19.7405 15.0603 18.7488 15.0603C13.3308 15.0603 8.93868 10.6682 8.93868 5.25018C8.93868 4.25896 9.08569 3.30208 9.35909 2.40015C5.33166 3.62153 2.40015 7.36319 2.40015 11.7895C2.40015 17.2075 6.7923 21.5997 12.2103 21.5997C16.6371 21.5997 20.379 18.6676 21.6001 14.6396Z",stroke:t,strokeWidth:"2",strokeLinejoin:"round"})})}const Wx={sm:{height:"24px",fontSize:"14px",icon:20},md:{height:"32px",fontSize:"16px",icon:30}},M9={container:t=>({display:"flex",alignItems:"center",width:"100%",padding:"10px",border:"none",background:"none",cursor:"pointer",color:t.colors.primary.normal,"&:hover":{background:t.colors.background.hover}}),button:t=>({display:"flex",border:"none",borderRadius:t.radius.small,justifyContent:"center",alignItems:"center",cursor:"pointer",color:t.colors.primary.normal,backgroundColor:"transparent","&:hover":{backgroundColor:t.colors.background.hover}}),input:t=>({marginLeft:"10px",border:"none",outline:"none",background:"none",color:t.colors.text.primary,width:"100%","&::placeholder":{color:t.colors.primary.normal}})};function c0({label:t,placeholder:e,size:n="md",onSubmit:r,...i}){const{container:s,button:l,input:f}=M9,d=es(),m=F.useRef(!1);return Qe("label",{htmlFor:`${t}-onet-ext`,css:s,children:[L("button",{onClick:y=>{y.preventDefault(),r()},css:l,children:L(EO,{color:"currentColor",size:Wx[n].icon})}),L("input",{css:{...f(d),height:Wx[n].height,fontSize:Wx[n].fontSize},id:`${t}-onet-ext`,...i,placeholder:e,onCompositionStart:()=>{m.current=!0},onCompositionEnd:()=>{m.current=!1},onKeyDown:y=>{y.key==="Enter"&&!m.current&&(y.preventDefault(),r())}})]})}const D9={container:()=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"25px",height:"25px",cursor:"pointer"}),input:()=>({position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,cursor:"pointer",opacity:0,zIndex:1}),checkmark:t=>e=>({position:"relative",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:t?e.colors.primary.normal:"none",cursor:"pointer",border:`2px solid ${e.colors.primary.normal}`,"& svg":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:t?"block":"none",color:"white"}})};function VS({checked:t=!1,onChange:e=()=>{},...n}){const{container:r,input:i,checkmark:s}=D9;return Qe("label",{css:r,onClick:l=>l.stopPropagation(),children:[L("input",{type:"checkbox",css:i,checked:t,onChange:e,...n}),L("div",{css:s(t),children:L(C9,{size:22})})]})}const R9={container:()=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"25px",height:"25px",cursor:"pointer"}),input:()=>({position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0,cursor:"pointer",opacity:0,zIndex:1}),checkmark:()=>({position:"relative",width:"24px",height:"24px",cursor:"pointer"})};function f0({checked:t=0,onChange:e=()=>{},...n}){const{container:r,input:i,checkmark:s}=R9,l=es();return Qe("label",{css:r,onClick:f=>f.stopPropagation(),children:[L("input",{type:"checkbox",css:i,checked:t===1,onChange:e,...n}),L("div",{css:s,children:L(PS,{size:18,color:t?"#FFDA36":l.colors.text.secondary,fill:t?"#FFDA36":"none"})})]})}const _9={container:t=>({maxWidth:"500px",height:"35px",backgroundColor:t.colors.background.gray,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"20px",border:`1px solid ${t.colors.border.deepGray}`,overflow:"hidden"}),input:t=>({width:"100%",height:"35px",backgroundColor:"transparent",border:"none",outline:"none",color:t.colors.text.primary,fontSize:t.typography.size.medium}),button:t=>({display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:"transparent",color:t.colors.text.secondary,cursor:"pointer","&:hover":{color:t.colors.text.primary}}),resetButton:t=>({display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:"transparent",color:t.colors.text.secondary,cursor:"pointer","&:hover":{color:t.colors.text.primary}})};function kO({value:t="",onChange:e,onSearch:n}){const{container:r,input:i,button:s,resetButton:l}=_9,[f,d]=F.useState(t),m=F.useRef(null);return Qe("form",{css:r,onSubmit:x=>{x.preventDefault(),n&&n(f)},children:[L("button",{css:s,type:"submit","aria-label":"검색",children:L(T9,{})}),L("input",{ref:m,type:"text",css:i,value:f,onChange:x=>{e&&e(x),d(x.target.value)},"aria-label":"검색어 입력"}),f.length>0&&L("button",{css:l,type:"reset",onClick:()=>{m.current&&m.current.focus(),d(""),n&&n("")},children:L(US,{size:18})})]})}const N9={container:t=>({display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"7px",padding:"7px",width:"fit-content",backgroundColor:t.colors.background.deep,borderRadius:t.radius.small,boxShadow:t.shadow.medium}),color:t=>e=>({width:"30px",height:"30px",borderRadius:e.radius.small,backgroundColor:t,transition:"transform 0.2s",cursor:"pointer","&:hover":{transform:"scale(1.1)"}})},L9=["#E52B27","#E17876","#E5A927","#FFD373","#9FE527","#4AAB1A","#27D2E5","#2783E5","#546C92","#6D4645","#DF27E5","#66117B"];function B9({onClick:t,selectedColor:e}){const{container:n,color:r}=N9,i=es();return L("div",{css:n,children:L9.map((s,l)=>L("div",{css:{...r(s)(i),border:`3px solid ${e===s?i.colors.primary.dark:"transparent"}`},onClick:f=>{f.stopPropagation(),f.preventDefault(),t(s)}},l))})}const I9={container:t=>()=>({position:"relative",width:t,height:t,zIndex:14e3}),colorDisplay:t=>e=>({width:"100%",height:"100%",borderRadius:e.radius.small,backgroundColor:t,cursor:"pointer"}),pickerWrapper:t=>({position:"absolute",top:t+5,width:"fit-content"})};function z9({size:t=40,onChange:e}){const[n,r]=F.useState("#E52B27"),[i,s]=F.useState(!1),[l,f]=F.useState(!1),d=F.useRef(null),{container:m,colorDisplay:y,pickerWrapper:x}=I9,C=F.useCallback(E=>{E&&(e&&e(E),r(E),s(!1))},[e]),T=()=>{s(E=>!E)};return F.useEffect(()=>{if(!i)return;const E=d.current;if(!E)return;requestAnimationFrame(()=>{const R=E.getBoundingClientRect(),H=window.innerWidth-R.left;f(H<200)});const k=()=>{s(!1)};return window.addEventListener("click",k),()=>{window.removeEventListener("click",k)}},[i,d]),Qe("div",{css:m(t),ref:d,children:[L("div",{css:y(n),onClick:E=>{E.stopPropagation(),E.preventDefault(),T()}}),i&&L("div",{css:{...x(t),left:l?"auto":0,right:l?0:"auto"},children:L(B9,{onClick:C,selectedColor:n})})]})}const MO={container:t=>({position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gap:"5px",width:"100%",height:"40px",padding:"0 10px",color:t.colors.text.primary,backgroundColor:t.colors.background.deep,borderRadius:t.radius.medium}),input:t=>({width:"100%",height:"100%",backgroundColor:t.colors.background.deep,color:t.colors.text.primary,outline:"none",border:"none"}),dropdown:t=>({position:"absolute",top:"calc(100% + 10px)",left:0,width:"100%",padding:"10px",backgroundColor:t.colors.background.deep,borderRadius:t.radius.medium,boxShadow:t.shadow.medium,zIndex:1}),labelItem:t=>({display:"flex",flexDirection:"row",alignItems:"center",height:"30px",gap:"10px",padding:" 0 10px",cursor:"pointer",width:"100%",fontSize:t.typography.size.medium}),labelColor:t=>()=>({width:"15px",height:"15px",borderRadius:"5px",backgroundColor:t})};function DO({labels:t,selectedLabel:e,onAddLabel:n,onDeleteLabel:r,onSelectLabel:i,onCancelLabel:s}){const l=es(),[f,d]=F.useState("#E52B27"),{container:m,input:y,dropdown:x}=MO,[C,T]=F.useState(!1),[E,k]=F.useState(""),[R,H]=F.useState(e),K=F.useRef(null),Y=t.filter(we=>we.name.toLowerCase().includes(E.toLowerCase().trim())),U=()=>{if(!E)return;n&&n({name:E,color:f}),k(""),d("#E52B27"),T(!1)},G=we=>{H(we),i&&i(we)},re=()=>{T(!0)},de=()=>{setTimeout(()=>{T(!1)},50)};return F.useEffect(()=>{const we=fe=>{K.current&&!K.current.contains(fe.target)&&de()};return window.addEventListener("click",we),()=>{window.removeEventListener("click",we)}},[K]),Qe("div",{css:m,children:[L(AO,{size:22,color:R?R.color:void 0,isFilled:!!R}),R?Qe("div",{css:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",width:"100%",color:l.colors.text.primary,paddingRight:"10px",":hover":{backgroundColor:l.colors.background.hover,borderRadius:l.radius.medium}},children:[L(R2,{label:R,isLabelColorDisplay:!1}),L("button",{css:{background:"none",border:"none",cursor:"pointer",padding:0,margin:0,color:l.colors.text.primary,":hover":{backgroundColor:l.colors.background.hover}},onClick:()=>{H(null),k(""),d("#E52B27"),s&&s()},children:L(US,{size:18})})]}):L("input",{id:"label-selector",type:"text",css:y,ref:K,value:E,onFocus:re,onChange:we=>{k(we.target.value)},autoComplete:"off",autoCorrect:"off",spellCheck:!1,placeholder:"라벨 선택"}),C&&Qe("div",{css:x,onClick:we=>{we.stopPropagation()},children:[Y.length===0&&Qe("div",{css:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",padding:"5px 0",cursor:"pointer",fontSize:l.typography.size.small,borderRadius:l.radius.small,width:"100%","&:hover":{backgroundColor:l.colors.background.hover}},onClick:()=>U(),children:[L(EO,{}),L("span",{children:"라벨 추가"}),L(z9,{size:22,onChange:we=>{d(we)}})]}),Y.length>0&&(Y==null?void 0:Y.map(we=>Qe("div",{css:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:l.radius.small,paddingRight:"10px",width:"100%","& button":{display:"none"},":hover":{backgroundColor:l.colors.background.hover,"& button":{display:"block"}}},children:[L(R2,{label:we,onClick:()=>{G(we),T(!1)}},we.id),L("button",{css:{background:"none",border:"none",cursor:"pointer",padding:0,color:l.colors.important.heigh,margin:0,":hover":{backgroundColor:l.colors.background.hover}},onClick:()=>{r&&r(we.id)},children:L(FS,{size:16})})]},we.id)))]})]})}function R2({label:t,onClick:e,isLabelColorDisplay:n=!0}){const{labelItem:r,labelColor:i}=MO;return Qe("div",{css:r,onClick:e,children:[n&&L("div",{css:i(t.color)}),L("span",{children:t.name})]})}var wm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ph=typeof window>"u"||"Deno"in globalThis;function ta(){}function H9(t,e){return typeof t=="function"?t(e):t}function Iw(t){return typeof t=="number"&&t>=0&&t!==1/0}function RO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Up(t,e){return typeof t=="function"?t(e):t}function $a(t,e){return typeof t=="function"?t(e):t}function _2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:f}=t;if(l){if(r){if(e.queryHash!==jS(l,e.options))return!1}else if(!Fy(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||i&&i!==e.state.fetchStatus||s&&!s(e))}function N2(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(mh(e.options.mutationKey)!==mh(s))return!1}else if(!Fy(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function jS(t,e){return((e==null?void 0:e.queryKeyHashFn)||mh)(t)}function mh(t){return JSON.stringify(t,(e,n)=>zw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Fy(t[n],e[n])):!1}function _O(t,e){if(t===e)return t;const n=L2(t)&&L2(e);if(n||zw(t)&&zw(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),l=s.length,f=n?[]:{};let d=0;for(let m=0;m<l;m++){const y=n?m:s[m];(!n&&r.includes(y)||n)&&t[y]===void 0&&e[y]===void 0?(f[y]=void 0,d++):(f[y]=_O(t[y],e[y]),f[y]===t[y]&&t[y]!==void 0&&d++)}return i===l&&d===i?t:f}return e}function B1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function L2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zw(t){if(!B2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B2(t){return Object.prototype.toString.call(t)==="[object Object]"}function P9(t){return new Promise(e=>{setTimeout(e,t)})}function Hw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_O(t,e):e}function F9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function q9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var KS=Symbol();function NO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===KS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zd,df,$p,eO,U9=(eO=class extends wm{constructor(){super();Mt(this,Zd);Mt(this,df);Mt(this,$p);ut(this,$p,e=>{if(!ph&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,df)||this.setEventListener(oe(this,$p))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,df))==null||e.call(this),ut(this,df,void 0))}setEventListener(e){var n;ut(this,$p,e),(n=oe(this,df))==null||n.call(this),ut(this,df,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){oe(this,Zd)!==e&&(ut(this,Zd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof oe(this,Zd)=="boolean"?oe(this,Zd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zd=new WeakMap,df=new WeakMap,$p=new WeakMap,eO),$S=new U9,Yp,hf,Gp,tO,V9=(tO=class extends wm{constructor(){super();Mt(this,Yp,!0);Mt(this,hf);Mt(this,Gp);ut(this,Gp,e=>{if(!ph&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,hf)||this.setEventListener(oe(this,Gp))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,hf))==null||e.call(this),ut(this,hf,void 0))}setEventListener(e){var n;ut(this,Gp,e),(n=oe(this,hf))==null||n.call(this),ut(this,hf,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Yp)!==e&&(ut(this,Yp,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return oe(this,Yp)}},Yp=new WeakMap,hf=new WeakMap,Gp=new WeakMap,tO),I1=new V9;function Pw(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function j9(t){return Math.min(1e3*2**t,3e4)}function LO(t){return(t??"online")==="online"?I1.isOnline():!0}var BO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Qx(t){return t instanceof BO}function IO(t){let e=!1,n=0,r=!1,i;const s=Pw(),l=k=>{var R;r||(C(new BO(k)),(R=t.abort)==null||R.call(t))},f=()=>{e=!0},d=()=>{e=!1},m=()=>$S.isFocused()&&(t.networkMode==="always"||I1.isOnline())&&t.canRun(),y=()=>LO(t.networkMode)&&t.canRun(),x=k=>{var R;r||(r=!0,(R=t.onSuccess)==null||R.call(t,k),i==null||i(),s.resolve(k))},C=k=>{var R;r||(r=!0,(R=t.onError)==null||R.call(t,k),i==null||i(),s.reject(k))},T=()=>new Promise(k=>{var R;i=H=>{(r||m())&&k(H)},(R=t.onPause)==null||R.call(t)}).then(()=>{var k;i=void 0,r||(k=t.onContinue)==null||k.call(t)}),E=()=>{if(r)return;let k;const R=n===0?t.initialPromise:void 0;try{k=R??t.fn()}catch(H){k=Promise.reject(H)}Promise.resolve(k).then(x).catch(H=>{var re;if(r)return;const K=t.retry??(ph?0:3),Y=t.retryDelay??j9,U=typeof Y=="function"?Y(n,H):Y,G=K===!0||typeof K=="number"&&n<K||typeof K=="function"&&K(n,H);if(e||!G){C(H);return}n++,(re=t.onFail)==null||re.call(t,n,H),P9(U).then(()=>m()?void 0:T()).then(()=>{e?C(H):E()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?E():T().then(E),s)}}function K9(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{e?t.push(f):i(()=>{n(f)})},l=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||l()}return d},batchCalls:f=>(...d)=>{s(()=>{f(...d)})},schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{i=f}}}var oi=K9(),eh,nO,zO=(nO=class{constructor(){Mt(this,eh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Iw(this.gcTime)&&ut(this,eh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ph?1/0:5*60*1e3))}clearGcTimeout(){oe(this,eh)&&(clearTimeout(oe(this,eh)),ut(this,eh,void 0))}},eh=new WeakMap,nO),Wp,Qp,ea,th,Xi,i0,nh,ja,Gu,rO,$9=(rO=class extends zO{constructor(e){super();Mt(this,ja);Mt(this,Wp);Mt(this,Qp);Mt(this,ea);Mt(this,th);Mt(this,Xi);Mt(this,i0);Mt(this,nh);ut(this,nh,!1),ut(this,i0,e.defaultOptions),this.setOptions(e.options),this.observers=[],ut(this,th,e.client),ut(this,ea,oe(this,th).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ut(this,Wp,Y9(this.options)),this.state=e.state??oe(this,Wp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,Xi))==null?void 0:e.promise}setOptions(e){this.options={...oe(this,i0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,ea).remove(this)}setData(e,n){const r=Hw(this.state.data,e,this.options);return nn(this,ja,Gu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){nn(this,ja,Gu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=oe(this,Xi))==null?void 0:r.promise;return(i=oe(this,Xi))==null||i.cancel(e),n?n.then(ta).catch(ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Wp))}isActive(){return this.observers.some(e=>$a(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!RO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=oe(this,Xi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=oe(this,Xi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,ea).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(oe(this,Xi)&&(oe(this,nh)?oe(this,Xi).cancel({revert:!0}):oe(this,Xi).cancelRetry()),this.scheduleGc()),oe(this,ea).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,ja,Gu).call(this,{type:"invalidate"})}fetch(e,n){var d,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Xi))return oe(this,Xi).continueRetry(),oe(this,Xi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ut(this,nh,!0),r.signal)})},s=()=>{const x=NO(this.options,n),C={client:oe(this,th),queryKey:this.queryKey,meta:this.meta};return i(C),ut(this,nh,!1),this.options.persister?this.options.persister(x,C,this):x(C)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:oe(this,th),state:this.state,fetchFn:s};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),ut(this,Qp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&nn(this,ja,Gu).call(this,{type:"fetch",meta:(y=l.fetchOptions)==null?void 0:y.meta});const f=x=>{var C,T,E,k;Qx(x)&&x.silent||nn(this,ja,Gu).call(this,{type:"error",error:x}),Qx(x)||((T=(C=oe(this,ea).config).onError)==null||T.call(C,x,this),(k=(E=oe(this,ea).config).onSettled)==null||k.call(E,this.state.data,x,this)),this.scheduleGc()};return ut(this,Xi,IO({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var C,T,E,k;if(x===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(R){f(R);return}(T=(C=oe(this,ea).config).onSuccess)==null||T.call(C,x,this),(k=(E=oe(this,ea).config).onSettled)==null||k.call(E,x,this.state.error,this),this.scheduleGc()},onError:f,onFail:(x,C)=>{nn(this,ja,Gu).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{nn(this,ja,Gu).call(this,{type:"pause"})},onContinue:()=>{nn(this,ja,Gu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),oe(this,Xi).start()}},Wp=new WeakMap,Qp=new WeakMap,ea=new WeakMap,th=new WeakMap,Xi=new WeakMap,i0=new WeakMap,nh=new WeakMap,ja=new WeakSet,Gu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HO(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Qx(i)&&i.revert&&oe(this,Qp)?{...oe(this,Qp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),oi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),oe(this,ea).notify({query:this,type:"updated",action:e})})},rO);function HO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Y9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $l,iO,G9=(iO=class extends wm{constructor(e={}){super();Mt(this,$l);this.config=e,ut(this,$l,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??jS(i,n);let l=this.get(s);return l||(l=new $9({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){oe(this,$l).has(e.queryHash)||(oe(this,$l).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=oe(this,$l).get(e.queryHash);n&&(e.destroy(),n===e&&oe(this,$l).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){oi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,$l).get(e)}getAll(){return[...oe(this,$l).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_2(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_2(e,r)):n}notify(e){oi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){oi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){oi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$l=new WeakMap,iO),Yl,Co,rh,Gl,rf,oO,W9=(oO=class extends zO{constructor(e){super();Mt(this,Gl);Mt(this,Yl);Mt(this,Co);Mt(this,rh);this.mutationId=e.mutationId,ut(this,Co,e.mutationCache),ut(this,Yl,[]),this.state=e.state||PO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Yl).includes(e)||(oe(this,Yl).push(e),this.clearGcTimeout(),oe(this,Co).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ut(this,Yl,oe(this,Yl).filter(n=>n!==e)),this.scheduleGc(),oe(this,Co).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Yl).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Co).remove(this))}continue(){var e;return((e=oe(this,rh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,l,f,d,m,y,x,C,T,E,k,R,H,K,Y,U,G,re,de;ut(this,rh,IO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(we,fe)=>{nn(this,Gl,rf).call(this,{type:"failed",failureCount:we,error:fe})},onPause:()=>{nn(this,Gl,rf).call(this,{type:"pause"})},onContinue:()=>{nn(this,Gl,rf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Co).canRun(this)}));const n=this.state.status==="pending",r=!oe(this,rh).canStart();try{if(!n){nn(this,Gl,rf).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=oe(this,Co).config).onMutate)==null?void 0:s.call(i,e,this));const fe=await((f=(l=this.options).onMutate)==null?void 0:f.call(l,e));fe!==this.state.context&&nn(this,Gl,rf).call(this,{type:"pending",context:fe,variables:e,isPaused:r})}const we=await oe(this,rh).start();return await((m=(d=oe(this,Co).config).onSuccess)==null?void 0:m.call(d,we,e,this.state.context,this)),await((x=(y=this.options).onSuccess)==null?void 0:x.call(y,we,e,this.state.context)),await((T=(C=oe(this,Co).config).onSettled)==null?void 0:T.call(C,we,null,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,we,null,e,this.state.context)),nn(this,Gl,rf).call(this,{type:"success",data:we}),we}catch(we){try{throw await((H=(R=oe(this,Co).config).onError)==null?void 0:H.call(R,we,e,this.state.context,this)),await((Y=(K=this.options).onError)==null?void 0:Y.call(K,we,e,this.state.context)),await((G=(U=oe(this,Co).config).onSettled)==null?void 0:G.call(U,void 0,we,this.state.variables,this.state.context,this)),await((de=(re=this.options).onSettled)==null?void 0:de.call(re,void 0,we,e,this.state.context)),we}finally{nn(this,Gl,rf).call(this,{type:"error",error:we})}}finally{oe(this,Co).runNext(this)}}},Yl=new WeakMap,Co=new WeakMap,rh=new WeakMap,Gl=new WeakSet,rf=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),oi.batch(()=>{oe(this,Yl).forEach(r=>{r.onMutationUpdate(e)}),oe(this,Co).notify({mutation:this,type:"updated",action:e})})},oO);function PO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qu,Ka,o0,sO,Q9=(sO=class extends wm{constructor(e={}){super();Mt(this,Qu);Mt(this,Ka);Mt(this,o0);this.config=e,ut(this,Qu,new Set),ut(this,Ka,new Map),ut(this,o0,0)}build(e,n,r){const i=new W9({mutationCache:this,mutationId:++e1(this,o0)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){oe(this,Qu).add(e);const n=n1(e);if(typeof n=="string"){const r=oe(this,Ka).get(n);r?r.push(e):oe(this,Ka).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(oe(this,Qu).delete(e)){const n=n1(e);if(typeof n=="string"){const r=oe(this,Ka).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&oe(this,Ka).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=n1(e);if(typeof n=="string"){const r=oe(this,Ka).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=n1(e);if(typeof n=="string"){const i=(r=oe(this,Ka).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oi.batch(()=>{oe(this,Qu).forEach(e=>{this.notify({type:"removed",mutation:e})}),oe(this,Qu).clear(),oe(this,Ka).clear()})}getAll(){return Array.from(oe(this,Qu))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>N2(n,r))}findAll(e={}){return this.getAll().filter(n=>N2(e,n))}notify(e){oi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return oi.batch(()=>Promise.all(e.map(n=>n.continue().catch(ta))))}},Qu=new WeakMap,Ka=new WeakMap,o0=new WeakMap,sO);function n1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function I2(t){return{onFetch:(e,n)=>{var y,x,C,T,E;const r=e.options,i=(C=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:C.direction,s=((T=e.state.data)==null?void 0:T.pages)||[],l=((E=e.state.data)==null?void 0:E.pageParams)||[];let f={pages:[],pageParams:[]},d=0;const m=async()=>{let k=!1;const R=Y=>{Object.defineProperty(Y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},H=NO(e.options,e.fetchOptions),K=async(Y,U,G)=>{if(k)return Promise.reject();if(U==null&&Y.pages.length)return Promise.resolve(Y);const re={client:e.client,queryKey:e.queryKey,pageParam:U,direction:G?"backward":"forward",meta:e.options.meta};R(re);const de=await H(re),{maxPages:we}=e.options,fe=G?q9:F9;return{pages:fe(Y.pages,de,we),pageParams:fe(Y.pageParams,U,we)}};if(i&&s.length){const Y=i==="backward",U=Y?X9:z2,G={pages:s,pageParams:l},re=U(r,G);f=await K(G,re,Y)}else{const Y=t??s.length;do{const U=d===0?l[0]??r.initialPageParam:z2(r,f);if(d>0&&U==null)break;f=await K(f,U),d++}while(d<Y)}return f};e.options.persister?e.fetchFn=()=>{var k,R;return(R=(k=e.options).persister)==null?void 0:R.call(k,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function z2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function X9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ar,pf,mf,Xp,Jp,gf,Zp,em,aO,J9=(aO=class{constructor(t={}){Mt(this,Ar);Mt(this,pf);Mt(this,mf);Mt(this,Xp);Mt(this,Jp);Mt(this,gf);Mt(this,Zp);Mt(this,em);ut(this,Ar,t.queryCache||new G9),ut(this,pf,t.mutationCache||new Q9),ut(this,mf,t.defaultOptions||{}),ut(this,Xp,new Map),ut(this,Jp,new Map),ut(this,gf,0)}mount(){e1(this,gf)._++,oe(this,gf)===1&&(ut(this,Zp,$S.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Ar).onFocus())})),ut(this,em,I1.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Ar).onOnline())})))}unmount(){var t,e;e1(this,gf)._--,oe(this,gf)===0&&((t=oe(this,Zp))==null||t.call(this),ut(this,Zp,void 0),(e=oe(this,em))==null||e.call(this),ut(this,em,void 0))}isFetching(t){return oe(this,Ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,pf).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Ar).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=oe(this,Ar).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Up(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return oe(this,Ar).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=oe(this,Ar).get(r.queryHash),s=i==null?void 0:i.state.data,l=H9(e,s);if(l!==void 0)return oe(this,Ar).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return oi.batch(()=>oe(this,Ar).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Ar).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=oe(this,Ar);oi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=oe(this,Ar);return oi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=oi.batch(()=>oe(this,Ar).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ta).catch(ta)}invalidateQueries(t,e={}){return oi.batch(()=>(oe(this,Ar).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=oi.batch(()=>oe(this,Ar).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ta)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ta)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=oe(this,Ar).build(this,e);return n.isStaleByTime(Up(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ta).catch(ta)}fetchInfiniteQuery(t){return t.behavior=I2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ta).catch(ta)}ensureInfiniteQueryData(t){return t.behavior=I2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return I1.isOnline()?oe(this,pf).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Ar)}getMutationCache(){return oe(this,pf)}getDefaultOptions(){return oe(this,mf)}setDefaultOptions(t){ut(this,mf,t)}setQueryDefaults(t,e){oe(this,Xp).set(mh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,Xp).values()],n={};return e.forEach(r=>{Fy(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){oe(this,Jp).set(mh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,Jp).values()],n={};return e.forEach(r=>{Fy(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,mf).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===KS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,mf).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,Ar).clear(),oe(this,pf).clear()}},Ar=new WeakMap,pf=new WeakMap,mf=new WeakMap,Xp=new WeakMap,Jp=new WeakMap,gf=new WeakMap,Zp=new WeakMap,em=new WeakMap,aO),$o,bn,s0,Eo,ih,tm,yf,Wl,a0,nm,rm,oh,sh,vf,im,Pn,xy,Fw,qw,Uw,Vw,jw,Kw,$w,FO,lO,Z9=(lO=class extends wm{constructor(e,n){super();Mt(this,Pn);Mt(this,$o);Mt(this,bn);Mt(this,s0);Mt(this,Eo);Mt(this,ih);Mt(this,tm);Mt(this,yf);Mt(this,Wl);Mt(this,a0);Mt(this,nm);Mt(this,rm);Mt(this,oh);Mt(this,sh);Mt(this,vf);Mt(this,im,new Set);this.options=n,ut(this,$o,e),ut(this,Wl,null),ut(this,yf,Pw()),this.options.experimental_prefetchInRender||oe(this,yf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,bn).addObserver(this),H2(oe(this,bn),this.options)?nn(this,Pn,xy).call(this):this.updateResult(),nn(this,Pn,Vw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yw(oe(this,bn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yw(oe(this,bn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,nn(this,Pn,jw).call(this),nn(this,Pn,Kw).call(this),oe(this,bn).removeObserver(this)}setOptions(e,n){const r=this.options,i=oe(this,bn);if(this.options=oe(this,$o).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $a(this.options.enabled,oe(this,bn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");nn(this,Pn,$w).call(this),oe(this,bn).setOptions(this.options),r._defaulted&&!B1(this.options,r)&&oe(this,$o).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,bn),observer:this});const s=this.hasListeners();s&&P2(oe(this,bn),i,this.options,r)&&nn(this,Pn,xy).call(this),this.updateResult(n),s&&(oe(this,bn)!==i||$a(this.options.enabled,oe(this,bn))!==$a(r.enabled,oe(this,bn))||Up(this.options.staleTime,oe(this,bn))!==Up(r.staleTime,oe(this,bn)))&&nn(this,Pn,Fw).call(this);const l=nn(this,Pn,qw).call(this);s&&(oe(this,bn)!==i||$a(this.options.enabled,oe(this,bn))!==$a(r.enabled,oe(this,bn))||l!==oe(this,vf))&&nn(this,Pn,Uw).call(this,l)}getOptimisticResult(e){const n=oe(this,$o).getQueryCache().build(oe(this,$o),e),r=this.createResult(n,e);return tR(this,r)&&(ut(this,Eo,r),ut(this,tm,this.options),ut(this,ih,oe(this,bn).state)),r}getCurrentResult(){return oe(this,Eo)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){oe(this,im).add(e)}getCurrentQuery(){return oe(this,bn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=oe(this,$o).defaultQueryOptions(e),r=oe(this,$o).getQueryCache().build(oe(this,$o),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return nn(this,Pn,xy).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),oe(this,Eo)))}createResult(e,n){var we;const r=oe(this,bn),i=this.options,s=oe(this,Eo),l=oe(this,ih),f=oe(this,tm),m=e!==r?e.state:oe(this,s0),{state:y}=e;let x={...y},C=!1,T;if(n._optimisticResults){const fe=this.hasListeners(),Me=!fe&&H2(e,n),et=fe&&P2(e,r,n,i);(Me||et)&&(x={...x,...HO(y.data,e.options)}),n._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:E,errorUpdatedAt:k,status:R}=x;if(n.select&&x.data!==void 0)if(s&&x.data===(l==null?void 0:l.data)&&n.select===oe(this,a0))T=oe(this,nm);else try{ut(this,a0,n.select),T=n.select(x.data),T=Hw(s==null?void 0:s.data,T,n),ut(this,nm,T),ut(this,Wl,null)}catch(fe){ut(this,Wl,fe)}else T=x.data;if(n.placeholderData!==void 0&&T===void 0&&R==="pending"){let fe;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(f==null?void 0:f.placeholderData))fe=s.data;else if(fe=typeof n.placeholderData=="function"?n.placeholderData((we=oe(this,rm))==null?void 0:we.state.data,oe(this,rm)):n.placeholderData,n.select&&fe!==void 0)try{fe=n.select(fe),ut(this,Wl,null)}catch(Me){ut(this,Wl,Me)}fe!==void 0&&(R="success",T=Hw(s==null?void 0:s.data,fe,n),C=!0)}oe(this,Wl)&&(E=oe(this,Wl),T=oe(this,nm),k=Date.now(),R="error");const H=x.fetchStatus==="fetching",K=R==="pending",Y=R==="error",U=K&&H,G=T!==void 0,de={status:R,fetchStatus:x.fetchStatus,isPending:K,isSuccess:R==="success",isError:Y,isInitialLoading:U,isLoading:U,data:T,dataUpdatedAt:x.dataUpdatedAt,error:E,errorUpdatedAt:k,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:H,isRefetching:H&&!K,isLoadingError:Y&&!G,isPaused:x.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:Y&&G,isStale:YS(e,n),refetch:this.refetch,promise:oe(this,yf)};if(this.options.experimental_prefetchInRender){const fe=Ve=>{de.status==="error"?Ve.reject(de.error):de.data!==void 0&&Ve.resolve(de.data)},Me=()=>{const Ve=ut(this,yf,de.promise=Pw());fe(Ve)},et=oe(this,yf);switch(et.status){case"pending":e.queryHash===r.queryHash&&fe(et);break;case"fulfilled":(de.status==="error"||de.data!==et.value)&&Me();break;case"rejected":(de.status!=="error"||de.error!==et.reason)&&Me();break}}return de}updateResult(e){const n=oe(this,Eo),r=this.createResult(oe(this,bn),this.options);if(ut(this,ih,oe(this,bn).state),ut(this,tm,this.options),oe(this,ih).data!==void 0&&ut(this,rm,oe(this,bn)),B1(r,n))return;ut(this,Eo,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:l}=this.options,f=typeof l=="function"?l():l;if(f==="all"||!f&&!oe(this,im).size)return!0;const d=new Set(f??oe(this,im));return this.options.throwOnError&&d.add("error"),Object.keys(oe(this,Eo)).some(m=>{const y=m;return oe(this,Eo)[y]!==n[y]&&d.has(y)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),nn(this,Pn,FO).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&nn(this,Pn,Vw).call(this)}},$o=new WeakMap,bn=new WeakMap,s0=new WeakMap,Eo=new WeakMap,ih=new WeakMap,tm=new WeakMap,yf=new WeakMap,Wl=new WeakMap,a0=new WeakMap,nm=new WeakMap,rm=new WeakMap,oh=new WeakMap,sh=new WeakMap,vf=new WeakMap,im=new WeakMap,Pn=new WeakSet,xy=function(e){nn(this,Pn,$w).call(this);let n=oe(this,bn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ta)),n},Fw=function(){nn(this,Pn,jw).call(this);const e=Up(this.options.staleTime,oe(this,bn));if(ph||oe(this,Eo).isStale||!Iw(e))return;const r=RO(oe(this,Eo).dataUpdatedAt,e)+1;ut(this,oh,setTimeout(()=>{oe(this,Eo).isStale||this.updateResult()},r))},qw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,bn)):this.options.refetchInterval)??!1},Uw=function(e){nn(this,Pn,Kw).call(this),ut(this,vf,e),!(ph||$a(this.options.enabled,oe(this,bn))===!1||!Iw(oe(this,vf))||oe(this,vf)===0)&&ut(this,sh,setInterval(()=>{(this.options.refetchIntervalInBackground||$S.isFocused())&&nn(this,Pn,xy).call(this)},oe(this,vf)))},Vw=function(){nn(this,Pn,Fw).call(this),nn(this,Pn,Uw).call(this,nn(this,Pn,qw).call(this))},jw=function(){oe(this,oh)&&(clearTimeout(oe(this,oh)),ut(this,oh,void 0))},Kw=function(){oe(this,sh)&&(clearInterval(oe(this,sh)),ut(this,sh,void 0))},$w=function(){const e=oe(this,$o).getQueryCache().build(oe(this,$o),this.options);if(e===oe(this,bn))return;const n=oe(this,bn);ut(this,bn,e),ut(this,s0,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},FO=function(e){oi.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(oe(this,Eo))}),oe(this,$o).getQueryCache().notify({query:oe(this,bn),type:"observerResultsUpdated"})})},lO);function eR(t,e){return $a(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function H2(t,e){return eR(t,e)||t.state.data!==void 0&&Yw(t,e,e.refetchOnMount)}function Yw(t,e,n){if($a(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&YS(t,e)}return!1}function P2(t,e,n,r){return(t!==e||$a(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&YS(t,n)}function YS(t,e){return $a(e.enabled,t)!==!1&&t.isStaleByTime(Up(e.staleTime,t))}function tR(t,e){return!B1(t.getCurrentResult(),e)}var bf,xf,Yo,Xu,rc,x1,Gw,uO,nR=(uO=class extends wm{constructor(n,r){super();Mt(this,rc);Mt(this,bf);Mt(this,xf);Mt(this,Yo);Mt(this,Xu);ut(this,bf,n),this.setOptions(r),this.bindMethods(),nn(this,rc,x1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=oe(this,bf).defaultMutationOptions(n),B1(this.options,r)||oe(this,bf).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,Yo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mh(r.mutationKey)!==mh(this.options.mutationKey)?this.reset():((i=oe(this,Yo))==null?void 0:i.state.status)==="pending"&&oe(this,Yo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=oe(this,Yo))==null||n.removeObserver(this)}onMutationUpdate(n){nn(this,rc,x1).call(this),nn(this,rc,Gw).call(this,n)}getCurrentResult(){return oe(this,xf)}reset(){var n;(n=oe(this,Yo))==null||n.removeObserver(this),ut(this,Yo,void 0),nn(this,rc,x1).call(this),nn(this,rc,Gw).call(this)}mutate(n,r){var i;return ut(this,Xu,r),(i=oe(this,Yo))==null||i.removeObserver(this),ut(this,Yo,oe(this,bf).getMutationCache().build(oe(this,bf),this.options)),oe(this,Yo).addObserver(this),oe(this,Yo).execute(n)}},bf=new WeakMap,xf=new WeakMap,Yo=new WeakMap,Xu=new WeakMap,rc=new WeakSet,x1=function(){var r;const n=((r=oe(this,Yo))==null?void 0:r.state)??PO();ut(this,xf,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Gw=function(n){oi.batch(()=>{var r,i,s,l,f,d,m,y;if(oe(this,Xu)&&this.hasListeners()){const x=oe(this,xf).variables,C=oe(this,xf).context;(n==null?void 0:n.type)==="success"?((i=(r=oe(this,Xu)).onSuccess)==null||i.call(r,n.data,x,C),(l=(s=oe(this,Xu)).onSettled)==null||l.call(s,n.data,null,x,C)):(n==null?void 0:n.type)==="error"&&((d=(f=oe(this,Xu)).onError)==null||d.call(f,n.error,x,C),(y=(m=oe(this,Xu)).onSettled)==null||y.call(m,void 0,n.error,x,C))}this.listeners.forEach(x=>{x(oe(this,xf))})})},uO),qO=F.createContext(void 0),ai=t=>{const e=F.useContext(qO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rR=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Bt.jsx(qO.Provider,{value:t,children:e})),UO=F.createContext(!1),iR=()=>F.useContext(UO);UO.Provider;function oR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sR=F.createContext(oR()),aR=()=>F.useContext(sR);function VO(t,e){return typeof t=="function"?t(...e):!!t}function Ww(){}var lR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},uR=t=>{F.useEffect(()=>{t.clearReset()},[t])},cR=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||VO(n,[t.error,r])),fR=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},dR=(t,e)=>t.isLoading&&t.isFetching&&!e,hR=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,F2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function pR(t,e,n){var x,C,T,E,k;const r=ai(),i=iR(),s=aR(),l=r.defaultQueryOptions(t);(C=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||C.call(x,l),l._optimisticResults=i?"isRestoring":"optimistic",fR(l),lR(l,s),uR(s);const f=!r.getQueryCache().get(l.queryHash),[d]=F.useState(()=>new e(r,l)),m=d.getOptimisticResult(l),y=!i&&t.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(R=>{const H=y?d.subscribe(oi.batchCalls(R)):Ww;return d.updateResult(),H},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),F.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),hR(l,m))throw F2(l,d,s);if(cR({result:m,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw m.error;if((E=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||E.call(T,l,m),l.experimental_prefetchInRender&&!ph&&dR(m,i)){const R=f?F2(l,d,s):(k=r.getQueryCache().get(l.queryHash))==null?void 0:k.promise;R==null||R.catch(Ww).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?m:d.trackResult(m)}function Ti(t,e){return pR(t,Z9)}function no(t,e){const n=ai(),[r]=F.useState(()=>new nR(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const i=F.useSyncExternalStore(F.useCallback(l=>r.subscribe(oi.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=F.useCallback((l,f)=>{r.mutate(l,f).catch(Ww)},[r]);if(i.error&&VO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var w1={exports:{}},mR=w1.exports,q2;function gR(){return q2||(q2=1,function(t,e){(function(n,r){t.exports=r()})(mR,function(){var n=function(g,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,M){O.__proto__=M}||function(O,M){for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(O[_]=M[_])})(g,w)},r=function(){return(r=Object.assign||function(g){for(var w,O=1,M=arguments.length;O<M;O++)for(var _ in w=arguments[O])Object.prototype.hasOwnProperty.call(w,_)&&(g[_]=w[_]);return g}).apply(this,arguments)};function i(g,w,O){for(var M,_=0,z=w.length;_<z;_++)!M&&_ in w||((M=M||Array.prototype.slice.call(w,0,_))[_]=w[_]);return g.concat(M||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:by,l=Object.keys,f=Array.isArray;function d(g,w){return typeof w!="object"||l(w).forEach(function(O){g[O]=w[O]}),g}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var m=Object.getPrototypeOf,y={}.hasOwnProperty;function x(g,w){return y.call(g,w)}function C(g,w){typeof w=="function"&&(w=w(m(g))),(typeof Reflect>"u"?l:Reflect.ownKeys)(w).forEach(function(O){E(g,O,w[O])})}var T=Object.defineProperty;function E(g,w,O,M){T(g,w,d(O&&x(O,"get")&&typeof O.get=="function"?{get:O.get,set:O.set,configurable:!0}:{value:O,configurable:!0,writable:!0},M))}function k(g){return{from:function(w){return g.prototype=Object.create(w.prototype),E(g.prototype,"constructor",g),{extend:C.bind(null,g.prototype)}}}}var R=Object.getOwnPropertyDescriptor,H=[].slice;function K(g,w,O){return H.call(g,w,O)}function Y(g,w){return w(g)}function U(g){if(!g)throw new Error("Assertion Failed")}function G(g){s.setImmediate?setImmediate(g):setTimeout(g,0)}function re(g,w){if(typeof w=="string"&&x(g,w))return g[w];if(!w)return g;if(typeof w!="string"){for(var O=[],M=0,_=w.length;M<_;++M){var z=re(g,w[M]);O.push(z)}return O}var $=w.indexOf(".");if($!==-1){var J=g[w.substr(0,$)];return J==null?void 0:re(J,w.substr($+1))}}function de(g,w,O){if(g&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof w!="string"&&"length"in w){U(typeof O!="string"&&"length"in O);for(var M=0,_=w.length;M<_;++M)de(g,w[M],O[M])}else{var z,$,J=w.indexOf(".");J!==-1?(z=w.substr(0,J),($=w.substr(J+1))===""?O===void 0?f(g)&&!isNaN(parseInt(z))?g.splice(z,1):delete g[z]:g[z]=O:de(J=!(J=g[z])||!x(g,z)?g[z]={}:J,$,O)):O===void 0?f(g)&&!isNaN(parseInt(w))?g.splice(w,1):delete g[w]:g[w]=O}}function we(g){var w,O={};for(w in g)x(g,w)&&(O[w]=g[w]);return O}var fe=[].concat;function Me(g){return fe.apply([],g)}var sn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Me([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(w){return w+g+"Array"})}))).filter(function(g){return s[g]}),et=new Set(sn.map(function(g){return s[g]})),Ve=null;function Je(g){return Ve=new WeakMap,g=function w(O){if(!O||typeof O!="object")return O;var M=Ve.get(O);if(M)return M;if(f(O)){M=[],Ve.set(O,M);for(var _=0,z=O.length;_<z;++_)M.push(w(O[_]))}else if(et.has(O.constructor))M=O;else{var $,J=m(O);for($ in M=J===Object.prototype?{}:Object.create(J),Ve.set(O,M),O)x(O,$)&&(M[$]=w(O[$]))}return M}(g),Ve=null,g}var wt={}.toString;function Et(g){return wt.call(g).slice(8,-1)}var Ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",$e=typeof Ne=="symbol"?function(g){var w;return g!=null&&(w=g[Ne])&&w.apply(g)}:function(){return null};function Ye(g,w){return w=g.indexOf(w),0<=w&&g.splice(w,1),0<=w}var mt={};function ee(g){var w,O,M,_;if(arguments.length===1){if(f(g))return g.slice();if(this===mt&&typeof g=="string")return[g];if(_=$e(g)){for(O=[];!(M=_.next()).done;)O.push(M.value);return O}if(g==null)return[g];if(typeof(w=g.length)!="number")return[g];for(O=new Array(w);w--;)O[w]=g[w];return O}for(w=arguments.length,O=new Array(w);w--;)O[w]=arguments[w];return O}var Oe=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},St=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ai=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(St),tt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function it(g,w){this.name=g,this.message=w}function Ge(g,w){return g+". Errors: "+Object.keys(w).map(function(O){return w[O].toString()}).filter(function(O,M,_){return _.indexOf(O)===M}).join(`
`)}function ht(g,w,O,M){this.failures=w,this.failedKeys=M,this.successCount=O,this.message=Ge(g,w)}function ot(g,w){this.name="BulkError",this.failures=Object.keys(w).map(function(O){return w[O]}),this.failuresByPos=w,this.message=Ge(g,this.failures)}k(it).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(ht).from(it),k(ot).from(it);var cn=Ai.reduce(function(g,w){return g[w]=w+"Error",g},{}),yt=it,Pe=Ai.reduce(function(g,w){var O=w+"Error";function M(_,z){this.name=O,_?typeof _=="string"?(this.message="".concat(_).concat(z?`
 `+z:""),this.inner=z||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=tt[w]||O,this.inner=null)}return k(M).from(yt),g[w]=M,g},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ft=St.reduce(function(g,w){return g[w+"Error"]=Pe[w],g},{}),fn=Ai.reduce(function(g,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(g[w+"Error"]=Pe[w]),g},{});function Tt(){}function Cn(g){return g}function dn(g,w){return g==null||g===Cn?w:function(O){return w(g(O))}}function Rn(g,w){return function(){g.apply(this,arguments),w.apply(this,arguments)}}function dr(g,w){return g===Tt?w:function(){var O=g.apply(this,arguments);O!==void 0&&(arguments[0]=O);var M=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var z=w.apply(this,arguments);return M&&(this.onsuccess=this.onsuccess?Rn(M,this.onsuccess):M),_&&(this.onerror=this.onerror?Rn(_,this.onerror):_),z!==void 0?z:O}}function tr(g,w){return g===Tt?w:function(){g.apply(this,arguments);var O=this.onsuccess,M=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?Rn(O,this.onsuccess):O),M&&(this.onerror=this.onerror?Rn(M,this.onerror):M)}}function te(g,w){return g===Tt?w:function(O){var M=g.apply(this,arguments);d(O,M);var _=this.onsuccess,z=this.onerror;return this.onsuccess=null,this.onerror=null,O=w.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?Rn(_,this.onsuccess):_),z&&(this.onerror=this.onerror?Rn(z,this.onerror):z),M===void 0?O===void 0?void 0:O:d(M,O)}}function ge(g,w){return g===Tt?w:function(){return w.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function be(g,w){return g===Tt?w:function(){var O=g.apply(this,arguments);if(O&&typeof O.then=="function"){for(var M=this,_=arguments.length,z=new Array(_);_--;)z[_]=arguments[_];return O.then(function(){return w.apply(M,z)})}return w.apply(this,arguments)}}fn.ModifyError=ht,fn.DexieError=it,fn.BulkError=ot;var Le=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qe(g){Le=g}var Ie={},st=100,sn=typeof Promise>"u"?[]:function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,m(g),g];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,m(w),g]}(),St=sn[0],Ai=sn[1],sn=sn[2],Ai=Ai&&Ai.then,Ht=St&&St.constructor,hn=!!sn,Mr=function(g,w){At.push([g,w]),nr&&(queueMicrotask(br),nr=!1)},Qr=!0,nr=!0,Pr=[],Dr=[],Ce=Cn,nt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},ke=nt,At=[],It=0,Qn=[];function We(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=ke;if(typeof g!="function"){if(g!==Ie)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gn(this,this._value))}this._state=null,this._value=null,++w.ref,function O(M,_){try{_(function(z){if(M._state===null){if(z===M)throw new TypeError("A promise cannot be resolved with itself.");var $=M._lib&&Xn();z&&typeof z.then=="function"?O(M,function(J,se){z instanceof We?z._then(J,se):z.then(J,se)}):(M._state=!0,M._value=z,Kn(M)),$&&hr()}},gn.bind(null,M))}catch(z){gn(M,z)}}(this,g)}var Fr={get:function(){var g=ke,w=Rr;function O(M,_){var z=this,$=!g.global&&(g!==ke||w!==Rr),J=$&&!Do(),se=new We(function(B,j){rr(z,new Bn(Ls(M,g,$,J),Ls(_,g,$,J),B,j,g))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return O.prototype=Ie,O},set:function(g){E(this,"then",g&&g.prototype===Ie?Fr:{get:function(){return g},set:Fr.set})}};function Bn(g,w,O,M,_){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof w=="function"?w:null,this.resolve=O,this.reject=M,this.psd=_}function gn(g,w){var O,M;Dr.push(w),g._state===null&&(O=g._lib&&Xn(),w=Ce(w),g._state=!1,g._value=w,M=g,Pr.some(function(_){return _._value===M._value})||Pr.push(M),Kn(g),O&&hr())}function Kn(g){var w=g._listeners;g._listeners=[];for(var O=0,M=w.length;O<M;++O)rr(g,w[O]);var _=g._PSD;--_.ref||_.finalize(),It===0&&(++It,Mr(function(){--It==0&&Fn()},[]))}function rr(g,w){if(g._state!==null){var O=g._state?w.onFulfilled:w.onRejected;if(O===null)return(g._state?w.resolve:w.reject)(g._value);++w.psd.ref,++It,Mr(ir,[O,g,w])}else g._listeners.push(w)}function ir(g,w,O){try{var M,_=w._value;!w._state&&Dr.length&&(Dr=[]),M=Le&&w._consoleTask?w._consoleTask.run(function(){return g(_)}):g(_),w._state||Dr.indexOf(_)!==-1||function(z){for(var $=Pr.length;$;)if(Pr[--$]._value===z._value)return Pr.splice($,1)}(w),O.resolve(M)}catch(z){O.reject(z)}finally{--It==0&&Fn(),--O.psd.ref||O.psd.finalize()}}function br(){is(nt,function(){Xn()&&hr()})}function Xn(){var g=Qr;return nr=Qr=!1,g}function hr(){var g,w,O;do for(;0<At.length;)for(g=At,At=[],O=g.length,w=0;w<O;++w){var M=g[w];M[0].apply(null,M[1])}while(0<At.length);nr=Qr=!0}function Fn(){var g=Pr;Pr=[],g.forEach(function(M){M._PSD.onunhandled.call(null,M._value,M)});for(var w=Qn.slice(0),O=w.length;O;)w[--O]()}function Xr(g){return new We(Ie,!1,g)}function Zt(g,w){var O=ke;return function(){var M=Xn(),_=ke;try{return rs(O,!0),g.apply(this,arguments)}catch(z){w&&w(z)}finally{rs(_,!1),M&&hr()}}}C(We.prototype,{then:Fr,_then:function(g,w){rr(this,new Bn(null,null,g,w,ke))},catch:function(g){if(arguments.length===1)return this.then(null,g);var w=g,O=arguments[1];return typeof w=="function"?this.then(null,function(M){return(M instanceof w?O:Xr)(M)}):this.then(null,function(M){return(M&&M.name===w?O:Xr)(M)})},finally:function(g){return this.then(function(w){return We.resolve(g()).then(function(){return w})},function(w){return We.resolve(g()).then(function(){return Xr(w)})})},timeout:function(g,w){var O=this;return g<1/0?new We(function(M,_){var z=setTimeout(function(){return _(new Pe.Timeout(w))},g);O.then(M,_).finally(clearTimeout.bind(null,z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(We.prototype,Symbol.toStringTag,"Dexie.Promise"),nt.env=tl(),C(We,{all:function(){var g=ee.apply(null,arguments).map(hu);return new We(function(w,O){g.length===0&&w([]);var M=g.length;g.forEach(function(_,z){return We.resolve(_).then(function($){g[z]=$,--M||w(g)},O)})})},resolve:function(g){return g instanceof We?g:g&&typeof g.then=="function"?new We(function(w,O){g.then(w,O)}):new We(Ie,!0,g)},reject:Xr,race:function(){var g=ee.apply(null,arguments).map(hu);return new We(function(w,O){g.map(function(M){return We.resolve(M).then(w,O)})})},PSD:{get:function(){return ke},set:function(g){return ke=g}},totalEchoes:{get:function(){return Rr}},newPSD:or,usePSD:is,scheduler:{get:function(){return Mr},set:function(g){Mr=g}},rejectionMapper:{get:function(){return Ce},set:function(g){Ce=g}},follow:function(g,w){return new We(function(O,M){return or(function(_,z){var $=ke;$.unhandleds=[],$.onunhandled=z,$.finalize=Rn(function(){var J,se=this;J=function(){se.unhandleds.length===0?_():z(se.unhandleds[0])},Qn.push(function B(){J(),Qn.splice(Qn.indexOf(B),1)}),++It,Mr(function(){--It==0&&Fn()},[])},$.finalize),g()},w,O,M)})}}),Ht&&(Ht.allSettled&&E(We,"allSettled",function(){var g=ee.apply(null,arguments).map(hu);return new We(function(w){g.length===0&&w([]);var O=g.length,M=new Array(O);g.forEach(function(_,z){return We.resolve(_).then(function($){return M[z]={status:"fulfilled",value:$}},function($){return M[z]={status:"rejected",reason:$}}).then(function(){return--O||w(M)})})})}),Ht.any&&typeof AggregateError<"u"&&E(We,"any",function(){var g=ee.apply(null,arguments).map(hu);return new We(function(w,O){g.length===0&&O(new AggregateError([]));var M=g.length,_=new Array(M);g.forEach(function(z,$){return We.resolve(z).then(function(J){return w(J)},function(J){_[$]=J,--M||O(new AggregateError(_))})})})}),Ht.withResolvers&&(We.withResolvers=Ht.withResolvers));var yn={awaits:0,echoes:0,id:0},Ns=0,io=[],Oi=0,Rr=0,pr=0;function or(g,w,O,M){var _=ke,z=Object.create(_);return z.parent=_,z.ref=0,z.global=!1,z.id=++pr,nt.env,z.env=hn?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,allSettled:We.allSettled,any:We.any,resolve:We.resolve,reject:We.reject}:{},w&&d(z,w),++_.ref,z.finalize=function(){--this.parent.ref||this.parent.finalize()},M=is(z,g,O,M),z.ref===0&&z.finalize(),M}function oo(){return yn.id||(yn.id=++Ns),++yn.awaits,yn.echoes+=st,yn.id}function Do(){return!!yn.awaits&&(--yn.awaits==0&&(yn.id=0),yn.echoes=yn.awaits*st,!0)}function hu(g){return yn.echoes&&g&&g.constructor===Ht?(oo(),g.then(function(w){return Do(),w},function(w){return Do(),On(w)})):g}function Rm(){var g=io[io.length-1];io.pop(),rs(g,!1)}function rs(g,w){var O,M=ke;(w?!yn.echoes||Oi++&&g===ke:!Oi||--Oi&&g===ke)||queueMicrotask(w?(function(_){++Rr,yn.echoes&&--yn.echoes!=0||(yn.echoes=yn.awaits=yn.id=0),io.push(ke),rs(_,!0)}).bind(null,g):Rm),g!==ke&&(ke=g,M===nt&&(nt.env=tl()),hn&&(O=nt.env.Promise,w=g.env,(M.global||g.global)&&(Object.defineProperty(s,"Promise",w.PromiseProp),O.all=w.all,O.race=w.race,O.resolve=w.resolve,O.reject=w.reject,w.allSettled&&(O.allSettled=w.allSettled),w.any&&(O.any=w.any))))}function tl(){var g=s.Promise;return hn?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function is(g,w,O,M,_){var z=ke;try{return rs(g,!0),w(O,M,_)}finally{rs(z,!1)}}function Ls(g,w,O,M){return typeof g!="function"?g:function(){var _=ke;O&&oo(),rs(w,!0);try{return g.apply(this,arguments)}finally{rs(_,!1),M&&queueMicrotask(Do)}}}function Bs(g){Promise===Ht&&yn.echoes===0?Oi===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+Ai).indexOf("[native code]")===-1&&(oo=Do=Tt);var On=We.reject,qi="￿",En="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",If="String expected.",ca=[],Ro="__dbnames",ss="readonly",Ui="readwrite";function Is(g,w){return g?w?function(){return g.apply(this,arguments)&&w.apply(this,arguments)}:g:w}var zf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function pu(g){return typeof g!="string"||/\./.test(g)?function(w){return w}:function(w){return w[g]===void 0&&g in w&&delete(w=Je(w))[g],w}}function kh(){throw Pe.Type()}function Yt(g,w){try{var O=nl(g),M=nl(w);if(O!==M)return O==="Array"?1:M==="Array"?-1:O==="binary"?1:M==="binary"?-1:O==="string"?1:M==="string"?-1:O==="Date"?1:M!=="Date"?NaN:-1;switch(O){case"number":case"Date":case"string":return w<g?1:g<w?-1:0;case"binary":return function(_,z){for(var $=_.length,J=z.length,se=$<J?$:J,B=0;B<se;++B)if(_[B]!==z[B])return _[B]<z[B]?-1:1;return $===J?0:$<J?-1:1}(so(g),so(w));case"Array":return function(_,z){for(var $=_.length,J=z.length,se=$<J?$:J,B=0;B<se;++B){var j=Yt(_[B],z[B]);if(j!==0)return j}return $===J?0:$<J?-1:1}(g,w)}}catch{}return NaN}function nl(g){var w=typeof g;return w!="object"?w:ArrayBuffer.isView(g)?"binary":(g=Et(g),g==="ArrayBuffer"?"binary":g)}function so(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}var li=(An.prototype._trans=function(g,w,O){var M=this._tx||ke.trans,_=this.name,z=Le&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function $(B,j,I){if(!I.schema[_])throw new Pe.NotFound("Table "+_+" not part of transaction");return w(I.idbtrans,I)}var J=Xn();try{var se=M&&M.db._novip===this.db._novip?M===ke.trans?M._promise(g,$,O):or(function(){return M._promise(g,$,O)},{trans:M,transless:ke.transless||ke}):function B(j,I,Z,W){if(j.idbdb&&(j._state.openComplete||ke.letThrough||j._vip)){var ne=j._createTransaction(I,Z,j._dbSchema);try{ne.create(),j._state.PR1398_maxLoop=3}catch(le){return le.name===cn.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return B(j,I,Z,W)})):On(le)}return ne._promise(I,function(le,ie){return or(function(){return ke.trans=ne,W(le,ie,ne)})}).then(function(le){if(I==="readwrite")try{ne.idbtrans.commit()}catch{}return I==="readonly"?le:ne._completion.then(function(){return le})})}if(j._state.openComplete)return On(new Pe.DatabaseClosed(j._state.dbOpenError));if(!j._state.isBeingOpened){if(!j._state.autoOpen)return On(new Pe.DatabaseClosed);j.open().catch(Tt)}return j._state.dbReadyPromise.then(function(){return B(j,I,Z,W)})}(this.db,g,[this.name],$);return z&&(se._consoleTask=z,se=se.catch(function(B){return console.trace(B),On(B)})),se}finally{J&&hr()}},An.prototype.get=function(g,w){var O=this;return g&&g.constructor===Object?this.where(g).first(w):g==null?On(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(M){return O.core.get({trans:M,key:g}).then(function(_){return O.hook.reading.fire(_)})}).then(w)},An.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(f(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var w=l(g);if(w.length===1)return this.where(w[0]).equals(g[w[0]]);var O=this.schema.indexes.concat(this.schema.primKey).filter(function(J){if(J.compound&&w.every(function(B){return 0<=J.keyPath.indexOf(B)})){for(var se=0;se<w.length;++se)if(w.indexOf(J.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(J,se){return J.keyPath.length-se.keyPath.length})[0];if(O&&this.db._maxKey!==qi){var z=O.keyPath.slice(0,w.length);return this.where(z).equals(z.map(function(se){return g[se]}))}!O&&Le&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var M=this.schema.idxByName;function _(J,se){return Yt(J,se)===0}var $=w.reduce(function(I,se){var B=I[0],j=I[1],I=M[se],Z=g[se];return[B||I,B||!I?Is(j,I&&I.multi?function(W){return W=re(W,se),f(W)&&W.some(function(ne){return _(Z,ne)})}:function(W){return _(Z,re(W,se))}):j]},[null,null]),z=$[0],$=$[1];return z?this.where(z.name).equals(g[z.keyPath]).filter($):O?this.filter($):this.where(w).equals("")},An.prototype.filter=function(g){return this.toCollection().and(g)},An.prototype.count=function(g){return this.toCollection().count(g)},An.prototype.offset=function(g){return this.toCollection().offset(g)},An.prototype.limit=function(g){return this.toCollection().limit(g)},An.prototype.each=function(g){return this.toCollection().each(g)},An.prototype.toArray=function(g){return this.toCollection().toArray(g)},An.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},An.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,f(g)?"[".concat(g.join("+"),"]"):g))},An.prototype.reverse=function(){return this.toCollection().reverse()},An.prototype.mapToClass=function(g){var w,O=this.db,M=this.name;function _(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof kh&&(function(se,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function j(){this.constructor=se}n(se,B),se.prototype=B===null?Object.create(B):(j.prototype=B.prototype,new j)}(_,w=g),Object.defineProperty(_.prototype,"db",{get:function(){return O},enumerable:!1,configurable:!0}),_.prototype.table=function(){return M},g=_);for(var z=new Set,$=g.prototype;$;$=m($))Object.getOwnPropertyNames($).forEach(function(se){return z.add(se)});function J(se){if(!se)return se;var B,j=Object.create(g.prototype);for(B in se)if(!z.has(B))try{j[B]=se[B]}catch{}return j}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=J,this.hook("reading",J),g},An.prototype.defineClass=function(){return this.mapToClass(function(g){d(this,g)})},An.prototype.add=function(g,w){var O=this,M=this.schema.primKey,_=M.auto,z=M.keyPath,$=g;return z&&_&&($=pu(z)(g)),this._trans("readwrite",function(J){return O.core.mutate({trans:J,type:"add",keys:w!=null?[w]:null,values:[$]})}).then(function(J){return J.numFailures?We.reject(J.failures[0]):J.lastResult}).then(function(J){if(z)try{de(g,z,J)}catch{}return J})},An.prototype.update=function(g,w){return typeof g!="object"||f(g)?this.where(":id").equals(g).modify(w):(g=re(g,this.schema.primKey.keyPath),g===void 0?On(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(w))},An.prototype.put=function(g,w){var O=this,M=this.schema.primKey,_=M.auto,z=M.keyPath,$=g;return z&&_&&($=pu(z)(g)),this._trans("readwrite",function(J){return O.core.mutate({trans:J,type:"put",values:[$],keys:w!=null?[w]:null})}).then(function(J){return J.numFailures?We.reject(J.failures[0]):J.lastResult}).then(function(J){if(z)try{de(g,z,J)}catch{}return J})},An.prototype.delete=function(g){var w=this;return this._trans("readwrite",function(O){return w.core.mutate({trans:O,type:"delete",keys:[g]})}).then(function(O){return O.numFailures?We.reject(O.failures[0]):void 0})},An.prototype.clear=function(){var g=this;return this._trans("readwrite",function(w){return g.core.mutate({trans:w,type:"deleteRange",range:zf})}).then(function(w){return w.numFailures?We.reject(w.failures[0]):void 0})},An.prototype.bulkGet=function(g){var w=this;return this._trans("readonly",function(O){return w.core.getMany({keys:g,trans:O}).then(function(M){return M.map(function(_){return w.hook.reading.fire(_)})})})},An.prototype.bulkAdd=function(g,w,O){var M=this,_=Array.isArray(w)?w:void 0,z=(O=O||(_?void 0:w))?O.allKeys:void 0;return this._trans("readwrite",function($){var B=M.schema.primKey,J=B.auto,B=B.keyPath;if(B&&_)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==g.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var se=g.length,B=B&&J?g.map(pu(B)):g;return M.core.mutate({trans:$,type:"add",keys:_,values:B,wantResults:z}).then(function(ne){var I=ne.numFailures,Z=ne.results,W=ne.lastResult,ne=ne.failures;if(I===0)return z?Z:W;throw new ot("".concat(M.name,".bulkAdd(): ").concat(I," of ").concat(se," operations failed"),ne)})})},An.prototype.bulkPut=function(g,w,O){var M=this,_=Array.isArray(w)?w:void 0,z=(O=O||(_?void 0:w))?O.allKeys:void 0;return this._trans("readwrite",function($){var B=M.schema.primKey,J=B.auto,B=B.keyPath;if(B&&_)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==g.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var se=g.length,B=B&&J?g.map(pu(B)):g;return M.core.mutate({trans:$,type:"put",keys:_,values:B,wantResults:z}).then(function(ne){var I=ne.numFailures,Z=ne.results,W=ne.lastResult,ne=ne.failures;if(I===0)return z?Z:W;throw new ot("".concat(M.name,".bulkPut(): ").concat(I," of ").concat(se," operations failed"),ne)})})},An.prototype.bulkUpdate=function(g){var w=this,O=this.core,M=g.map(function($){return $.key}),_=g.map(function($){return $.changes}),z=[];return this._trans("readwrite",function($){return O.getMany({trans:$,keys:M,cache:"clone"}).then(function(J){var se=[],B=[];g.forEach(function(I,Z){var W=I.key,ne=I.changes,le=J[Z];if(le){for(var ie=0,me=Object.keys(ne);ie<me.length;ie++){var Se=me[ie],ve=ne[Se];if(Se===w.schema.primKey.keyPath){if(Yt(ve,W)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else de(le,Se,ve)}z.push(Z),se.push(W),B.push(le)}});var j=se.length;return O.mutate({trans:$,type:"put",keys:se,values:B,updates:{keys:M,changeSpecs:_}}).then(function(I){var Z=I.numFailures,W=I.failures;if(Z===0)return j;for(var ne=0,le=Object.keys(W);ne<le.length;ne++){var ie,me=le[ne],Se=z[Number(me)];Se!=null&&(ie=W[me],delete W[me],W[Se]=ie)}throw new ot("".concat(w.name,".bulkUpdate(): ").concat(Z," of ").concat(j," operations failed"),W)})})})},An.prototype.bulkDelete=function(g){var w=this,O=g.length;return this._trans("readwrite",function(M){return w.core.mutate({trans:M,type:"delete",keys:g})}).then(function($){var _=$.numFailures,z=$.lastResult,$=$.failures;if(_===0)return z;throw new ot("".concat(w.name,".bulkDelete(): ").concat(_," of ").concat(O," operations failed"),$)})},An);function An(){}function mu(g){function w($,J){if(J){for(var se=arguments.length,B=new Array(se-1);--se;)B[se-1]=arguments[se];return O[$].subscribe.apply(null,B),g}if(typeof $=="string")return O[$]}var O={};w.addEventType=z;for(var M=1,_=arguments.length;M<_;++M)z(arguments[M]);return w;function z($,J,se){if(typeof $!="object"){var B;J=J||ge;var j={subscribers:[],fire:se=se||Tt,subscribe:function(I){j.subscribers.indexOf(I)===-1&&(j.subscribers.push(I),j.fire=J(j.fire,I))},unsubscribe:function(I){j.subscribers=j.subscribers.filter(function(Z){return Z!==I}),j.fire=j.subscribers.reduce(J,se)}};return O[$]=w[$]=j}l(B=$).forEach(function(I){var Z=B[I];if(f(Z))z(I,B[I][0],B[I][1]);else{if(Z!=="asap")throw new Pe.InvalidArgument("Invalid event config");var W=z(I,Cn,function(){for(var ne=arguments.length,le=new Array(ne);ne--;)le[ne]=arguments[ne];W.subscribers.forEach(function(ie){G(function(){ie.apply(null,le)})})})}})}}function as(g,w){return k(w).from({prototype:g}),w}function _o(g,w){return!(g.filter||g.algorithm||g.or)&&(w?g.justLimit:!g.replayFilter)}function fa(g,w){g.filter=Is(g.filter,w)}function Hf(g,w,O){var M=g.replayFilter;g.replayFilter=M?function(){return Is(M(),w())}:w,g.justLimit=O&&!M}function qr(g,w){if(g.isPrimKey)return w.primaryKey;var O=w.getIndexByKeyPath(g.index);if(!O)throw new Pe.Schema("KeyPath "+g.index+" on object store "+w.name+" is not indexed");return O}function gu(g,w,O){var M=qr(g,w.schema);return w.openCursor({trans:O,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:M,range:g.range}})}function da(g,w,O,M){var _=g.replayFilter?Is(g.filter,g.replayFilter()):g.filter;if(g.or){var z={},$=function(J,se,B){var j,I;_&&!_(se,B,function(Z){return se.stop(Z)},function(Z){return se.fail(Z)})||((I=""+(j=se.primaryKey))=="[object ArrayBuffer]"&&(I=""+new Uint8Array(j)),x(z,I)||(z[I]=!0,w(J,se,B)))};return Promise.all([g.or._iterate($,O),ac(gu(g,M,O),g.algorithm,$,!g.keysOnly&&g.valueMapper)])}return ac(gu(g,M,O),Is(g.algorithm,_),w,!g.keysOnly&&g.valueMapper)}function ac(g,w,O,M){var _=Zt(M?function(z,$,J){return O(M(z),$,J)}:O);return g.then(function(z){if(z)return z.start(function(){var $=function(){return z.continue()};w&&!w(z,function(J){return $=J},function(J){z.stop(J),$=Tt},function(J){z.fail(J),$=Tt})||_(z.value,z,function(J){return $=J}),$()})})}var ao=(yu.prototype.execute=function(g){var w=this["@@propmod"];if(w.add!==void 0){var O=w.add;if(f(O))return i(i([],f(g)?g:[],!0),O).sort();if(typeof O=="number")return(Number(g)||0)+O;if(typeof O=="bigint")try{return BigInt(g)+O}catch{return BigInt(0)+O}throw new TypeError("Invalid term ".concat(O))}if(w.remove!==void 0){var M=w.remove;if(f(M))return f(g)?g.filter(function(_){return!M.includes(_)}).sort():[];if(typeof M=="number")return Number(g)-M;if(typeof M=="bigint")try{return BigInt(g)-M}catch{return BigInt(0)-M}throw new TypeError("Invalid subtrahend ".concat(M))}return O=(O=w.replacePrefix)===null||O===void 0?void 0:O[0],O&&typeof g=="string"&&g.startsWith(O)?w.replacePrefix[1]+g.substring(O.length):g},yu);function yu(g){this["@@propmod"]=g}var lc=(Ft.prototype._read=function(g,w){var O=this._ctx;return O.error?O.table._trans(null,On.bind(null,O.error)):O.table._trans("readonly",g).then(w)},Ft.prototype._write=function(g){var w=this._ctx;return w.error?w.table._trans(null,On.bind(null,w.error)):w.table._trans("readwrite",g,"locked")},Ft.prototype._addAlgorithm=function(g){var w=this._ctx;w.algorithm=Is(w.algorithm,g)},Ft.prototype._iterate=function(g,w){return da(this._ctx,g,w,this._ctx.table.core)},Ft.prototype.clone=function(g){var w=Object.create(this.constructor.prototype),O=Object.create(this._ctx);return g&&d(O,g),w._ctx=O,w},Ft.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ft.prototype.each=function(g){var w=this._ctx;return this._read(function(O){return da(w,g,O,w.table.core)})},Ft.prototype.count=function(g){var w=this;return this._read(function(O){var M=w._ctx,_=M.table.core;if(_o(M,!0))return _.count({trans:O,query:{index:qr(M,_.schema),range:M.range}}).then(function($){return Math.min($,M.limit)});var z=0;return da(M,function(){return++z,!1},O,_).then(function(){return z})}).then(g)},Ft.prototype.sortBy=function(g,w){var O=g.split(".").reverse(),M=O[0],_=O.length-1;function z(se,B){return B?z(se[O[B]],B-1):se[M]}var $=this._ctx.dir==="next"?1:-1;function J(se,B){return Yt(z(se,_),z(B,_))*$}return this.toArray(function(se){return se.sort(J)}).then(w)},Ft.prototype.toArray=function(g){var w=this;return this._read(function(O){var M=w._ctx;if(M.dir==="next"&&_o(M,!0)&&0<M.limit){var _=M.valueMapper,z=qr(M,M.table.core.schema);return M.table.core.query({trans:O,limit:M.limit,values:!0,query:{index:z,range:M.range}}).then(function(J){return J=J.result,_?J.map(_):J})}var $=[];return da(M,function(J){return $.push(J)},O,M.table.core).then(function(){return $})},g)},Ft.prototype.offset=function(g){var w=this._ctx;return g<=0||(w.offset+=g,_o(w)?Hf(w,function(){var O=g;return function(M,_){return O===0||(O===1?--O:_(function(){M.advance(O),O=0}),!1)}}):Hf(w,function(){var O=g;return function(){return--O<0}})),this},Ft.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),Hf(this._ctx,function(){var w=g;return function(O,M,_){return--w<=0&&M(_),0<=w}},!0),this},Ft.prototype.until=function(g,w){return fa(this._ctx,function(O,M,_){return!g(O.value)||(M(_),w)}),this},Ft.prototype.first=function(g){return this.limit(1).toArray(function(w){return w[0]}).then(g)},Ft.prototype.last=function(g){return this.reverse().first(g)},Ft.prototype.filter=function(g){var w;return fa(this._ctx,function(O){return g(O.value)}),(w=this._ctx).isMatch=Is(w.isMatch,g),this},Ft.prototype.and=function(g){return this.filter(g)},Ft.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},Ft.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ft.prototype.desc=function(){return this.reverse()},Ft.prototype.eachKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(O,M){g(M.key,M)})},Ft.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},Ft.prototype.eachPrimaryKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(O,M){g(M.primaryKey,M)})},Ft.prototype.keys=function(g){var w=this._ctx;w.keysOnly=!w.isMatch;var O=[];return this.each(function(M,_){O.push(_.key)}).then(function(){return O}).then(g)},Ft.prototype.primaryKeys=function(g){var w=this._ctx;if(w.dir==="next"&&_o(w,!0)&&0<w.limit)return this._read(function(M){var _=qr(w,w.table.core.schema);return w.table.core.query({trans:M,values:!1,limit:w.limit,query:{index:_,range:w.range}})}).then(function(M){return M.result}).then(g);w.keysOnly=!w.isMatch;var O=[];return this.each(function(M,_){O.push(_.primaryKey)}).then(function(){return O}).then(g)},Ft.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},Ft.prototype.firstKey=function(g){return this.limit(1).keys(function(w){return w[0]}).then(g)},Ft.prototype.lastKey=function(g){return this.reverse().firstKey(g)},Ft.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var w={};return fa(this._ctx,function(_){var M=_.primaryKey.toString(),_=x(w,M);return w[M]=!0,!_}),this},Ft.prototype.modify=function(g){var w=this,O=this._ctx;return this._write(function(M){var _,z,$;$=typeof g=="function"?g:(_=l(g),z=_.length,function(ie){for(var me=!1,Se=0;Se<z;++Se){var ve=_[Se],Ee=g[ve],je=re(ie,ve);Ee instanceof ao?(de(ie,ve,Ee.execute(je)),me=!0):je!==Ee&&(de(ie,ve,Ee),me=!0)}return me});var J=O.table.core,I=J.schema.primaryKey,se=I.outbound,B=I.extractKey,j=200,I=w.db._options.modifyChunkSize;I&&(j=typeof I=="object"?I[J.name]||I["*"]||200:I);function Z(ie,ve){var Se=ve.failures,ve=ve.numFailures;ne+=ie-ve;for(var Ee=0,je=l(Se);Ee<je.length;Ee++){var Xe=je[Ee];W.push(Se[Xe])}}var W=[],ne=0,le=[];return w.clone().primaryKeys().then(function(ie){function me(ve){var Ee=Math.min(j,ie.length-ve);return J.getMany({trans:M,keys:ie.slice(ve,ve+Ee),cache:"immutable"}).then(function(je){for(var Xe=[],Ue=[],Ke=se?[]:null,Be=[],Ze=0;Ze<Ee;++Ze){var rt=je[Ze],bt={value:Je(rt),primKey:ie[ve+Ze]};$.call(bt,bt.value,bt)!==!1&&(bt.value==null?Be.push(ie[ve+Ze]):se||Yt(B(rt),B(bt.value))===0?(Ue.push(bt.value),se&&Ke.push(ie[ve+Ze])):(Be.push(ie[ve+Ze]),Xe.push(bt.value)))}return Promise.resolve(0<Xe.length&&J.mutate({trans:M,type:"add",values:Xe}).then(function(Pt){for(var Vt in Pt.failures)Be.splice(parseInt(Vt),1);Z(Xe.length,Pt)})).then(function(){return(0<Ue.length||Se&&typeof g=="object")&&J.mutate({trans:M,type:"put",keys:Ke,values:Ue,criteria:Se,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<ve}).then(function(Pt){return Z(Ue.length,Pt)})}).then(function(){return(0<Be.length||Se&&g===uc)&&J.mutate({trans:M,type:"delete",keys:Be,criteria:Se,isAdditionalChunk:0<ve}).then(function(Pt){return Z(Be.length,Pt)})}).then(function(){return ie.length>ve+Ee&&me(ve+j)})})}var Se=_o(O)&&O.limit===1/0&&(typeof g!="function"||g===uc)&&{index:O.index,range:O.range};return me(0).then(function(){if(0<W.length)throw new ht("Error modifying one or more objects",W,ne,le);return ie.length})})})},Ft.prototype.delete=function(){var g=this._ctx,w=g.range;return _o(g)&&(g.isPrimKey||w.type===3)?this._write(function(O){var M=g.table.core.schema.primaryKey,_=w;return g.table.core.count({trans:O,query:{index:M,range:_}}).then(function(z){return g.table.core.mutate({trans:O,type:"deleteRange",range:_}).then(function($){var J=$.failures;if($.lastResult,$.results,$=$.numFailures,$)throw new ht("Could not delete some values",Object.keys(J).map(function(se){return J[se]}),z-$);return z-$})})}):this.modify(uc)},Ft);function Ft(){}var uc=function(g,w){return w.value=null};function Pf(g,w){return g<w?-1:g===w?0:1}function Mh(g,w){return w<g?-1:g===w?0:1}function Ur(g,w,O){return g=g instanceof fc?new g.Collection(g):g,g._ctx.error=new(O||TypeError)(w),g}function ha(g){return new g.Collection(g,function(){return cc("")}).limit(0)}function vu(g,w,O,M){var _,z,$,J,se,B,j,I=O.length;if(!O.every(function(ne){return typeof ne=="string"}))return Ur(g,If);function Z(ne){_=ne==="next"?function(ie){return ie.toUpperCase()}:function(ie){return ie.toLowerCase()},z=ne==="next"?function(ie){return ie.toLowerCase()}:function(ie){return ie.toUpperCase()},$=ne==="next"?Pf:Mh;var le=O.map(function(ie){return{lower:z(ie),upper:_(ie)}}).sort(function(ie,me){return $(ie.lower,me.lower)});J=le.map(function(ie){return ie.upper}),se=le.map(function(ie){return ie.lower}),j=(B=ne)==="next"?"":M}Z("next"),g=new g.Collection(g,function(){return Vi(J[0],se[I-1]+M)}),g._ondirectionchange=function(ne){Z(ne)};var W=0;return g._addAlgorithm(function(ne,le,ie){var me=ne.key;if(typeof me!="string")return!1;var Se=z(me);if(w(Se,se,W))return!0;for(var ve=null,Ee=W;Ee<I;++Ee){var je=function(Xe,Ue,Ke,Be,Ze,rt){for(var bt=Math.min(Xe.length,Be.length),Pt=-1,Vt=0;Vt<bt;++Vt){var $r=Ue[Vt];if($r!==Be[Vt])return Ze(Xe[Vt],Ke[Vt])<0?Xe.substr(0,Vt)+Ke[Vt]+Ke.substr(Vt+1):Ze(Xe[Vt],Be[Vt])<0?Xe.substr(0,Vt)+Be[Vt]+Ke.substr(Vt+1):0<=Pt?Xe.substr(0,Pt)+Ue[Pt]+Ke.substr(Pt+1):null;Ze(Xe[Vt],$r)<0&&(Pt=Vt)}return bt<Be.length&&rt==="next"?Xe+Ke.substr(Xe.length):bt<Xe.length&&rt==="prev"?Xe.substr(0,Ke.length):Pt<0?null:Xe.substr(0,Pt)+Be[Pt]+Ke.substr(Pt+1)}(me,Se,J[Ee],se[Ee],$,B);je===null&&ve===null?W=Ee+1:(ve===null||0<$(ve,je))&&(ve=je)}return le(ve!==null?function(){ne.continue(ve+j)}:ie),!1}),g}function Vi(g,w,O,M){return{type:2,lower:g,upper:w,lowerOpen:O,upperOpen:M}}function cc(g){return{type:1,lower:g,upper:g}}var fc=(Object.defineProperty($n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$n.prototype.between=function(g,w,O,M){O=O!==!1,M=M===!0;try{return 0<this._cmp(g,w)||this._cmp(g,w)===0&&(O||M)&&(!O||!M)?ha(this):new this.Collection(this,function(){return Vi(g,w,!O,!M)})}catch{return Ur(this,En)}},$n.prototype.equals=function(g){return g==null?Ur(this,En):new this.Collection(this,function(){return cc(g)})},$n.prototype.above=function(g){return g==null?Ur(this,En):new this.Collection(this,function(){return Vi(g,void 0,!0)})},$n.prototype.aboveOrEqual=function(g){return g==null?Ur(this,En):new this.Collection(this,function(){return Vi(g,void 0,!1)})},$n.prototype.below=function(g){return g==null?Ur(this,En):new this.Collection(this,function(){return Vi(void 0,g,!1,!0)})},$n.prototype.belowOrEqual=function(g){return g==null?Ur(this,En):new this.Collection(this,function(){return Vi(void 0,g)})},$n.prototype.startsWith=function(g){return typeof g!="string"?Ur(this,If):this.between(g,g+qi,!0,!0)},$n.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):vu(this,function(w,O){return w.indexOf(O[0])===0},[g],qi)},$n.prototype.equalsIgnoreCase=function(g){return vu(this,function(w,O){return w===O[0]},[g],"")},$n.prototype.anyOfIgnoreCase=function(){var g=ee.apply(mt,arguments);return g.length===0?ha(this):vu(this,function(w,O){return O.indexOf(w)!==-1},g,"")},$n.prototype.startsWithAnyOfIgnoreCase=function(){var g=ee.apply(mt,arguments);return g.length===0?ha(this):vu(this,function(w,O){return O.some(function(M){return w.indexOf(M)===0})},g,qi)},$n.prototype.anyOf=function(){var g=this,w=ee.apply(mt,arguments),O=this._cmp;try{w.sort(O)}catch{return Ur(this,En)}if(w.length===0)return ha(this);var M=new this.Collection(this,function(){return Vi(w[0],w[w.length-1])});M._ondirectionchange=function(z){O=z==="next"?g._ascending:g._descending,w.sort(O)};var _=0;return M._addAlgorithm(function(z,$,J){for(var se=z.key;0<O(se,w[_]);)if(++_===w.length)return $(J),!1;return O(se,w[_])===0||($(function(){z.continue(w[_])}),!1)}),M},$n.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$n.prototype.noneOf=function(){var g=ee.apply(mt,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return Ur(this,En)}var w=g.reduce(function(O,M){return O?O.concat([[O[O.length-1][1],M]]):[[-1/0,M]]},null);return w.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},$n.prototype.inAnyRange=function(me,w){var O=this,M=this._cmp,_=this._ascending,z=this._descending,$=this._min,J=this._max;if(me.length===0)return ha(this);if(!me.every(function(Se){return Se[0]!==void 0&&Se[1]!==void 0&&_(Se[0],Se[1])<=0}))return Ur(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var se=!w||w.includeLowers!==!1,B=w&&w.includeUppers===!0,j,I=_;function Z(Se,ve){return I(Se[0],ve[0])}try{(j=me.reduce(function(Se,ve){for(var Ee=0,je=Se.length;Ee<je;++Ee){var Xe=Se[Ee];if(M(ve[0],Xe[1])<0&&0<M(ve[1],Xe[0])){Xe[0]=$(Xe[0],ve[0]),Xe[1]=J(Xe[1],ve[1]);break}}return Ee===je&&Se.push(ve),Se},[])).sort(Z)}catch{return Ur(this,En)}var W=0,ne=B?function(Se){return 0<_(Se,j[W][1])}:function(Se){return 0<=_(Se,j[W][1])},le=se?function(Se){return 0<z(Se,j[W][0])}:function(Se){return 0<=z(Se,j[W][0])},ie=ne,me=new this.Collection(this,function(){return Vi(j[0][0],j[j.length-1][1],!se,!B)});return me._ondirectionchange=function(Se){I=Se==="next"?(ie=ne,_):(ie=le,z),j.sort(Z)},me._addAlgorithm(function(Se,ve,Ee){for(var je,Xe=Se.key;ie(Xe);)if(++W===j.length)return ve(Ee),!1;return!ne(je=Xe)&&!le(je)||(O._cmp(Xe,j[W][1])===0||O._cmp(Xe,j[W][0])===0||ve(function(){I===_?Se.continue(j[W][0]):Se.continue(j[W][1])}),!1)}),me},$n.prototype.startsWithAnyOf=function(){var g=ee.apply(mt,arguments);return g.every(function(w){return typeof w=="string"})?g.length===0?ha(this):this.inAnyRange(g.map(function(w){return[w,w+qi]})):Ur(this,"startsWithAnyOf() only works with strings")},$n);function $n(){}function Vr(g){return Zt(function(w){return rl(w),g(w.target.error),!1})}function rl(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var pa="storagemutated",dc="x-storagemutated-1",ji=mu(null,pa),bu=(ui.prototype._lock=function(){return U(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},ui.prototype._unlock=function(){if(U(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{is(g[1],g[0])}catch{}}return this},ui.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},ui.prototype.create=function(g){var w=this;if(!this.mode)return this;var O=this.db.idbdb,M=this.db._state.dbOpenError;if(U(!this.idbtrans),!g&&!O)switch(M&&M.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(M);case"MissingAPIError":throw new Pe.MissingAPI(M.message,M);default:throw new Pe.OpenFailed(M)}if(!this.active)throw new Pe.TransactionInactive;return U(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||O).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Zt(function(_){rl(_),w._reject(g.error)}),g.onabort=Zt(function(_){rl(_),w.active&&w._reject(new Pe.Abort(g.error)),w.active=!1,w.on("abort").fire(_)}),g.oncomplete=Zt(function(){w.active=!1,w._resolve(),"mutatedParts"in g&&ji.storagemutated.fire(g.mutatedParts)}),this},ui.prototype._promise=function(g,w,O){var M=this;if(g==="readwrite"&&this.mode!=="readwrite")return On(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return On(new Pe.TransactionInactive);if(this._locked())return new We(function(z,$){M._blockedFuncs.push([function(){M._promise(g,w,O).then(z,$)},ke])});if(O)return or(function(){var z=new We(function($,J){M._lock();var se=w($,J,M);se&&se.then&&se.then($,J)});return z.finally(function(){return M._unlock()}),z._lib=!0,z});var _=new We(function(z,$){var J=w(z,$,M);J&&J.then&&J.then(z,$)});return _._lib=!0,_},ui.prototype._root=function(){return this.parent?this.parent._root():this},ui.prototype.waitFor=function(g){var w,O=this._root(),M=We.resolve(g);O._waitingFor?O._waitingFor=O._waitingFor.then(function(){return M}):(O._waitingFor=M,O._waitingQueue=[],w=O.idbtrans.objectStore(O.storeNames[0]),function z(){for(++O._spinCount;O._waitingQueue.length;)O._waitingQueue.shift()();O._waitingFor&&(w.get(-1/0).onsuccess=z)}());var _=O._waitingFor;return new We(function(z,$){M.then(function(J){return O._waitingQueue.push(Zt(z.bind(null,J)))},function(J){return O._waitingQueue.push(Zt($.bind(null,J)))}).finally(function(){O._waitingFor===_&&(O._waitingFor=null)})})},ui.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},ui.prototype.table=function(g){var w=this._memoizedTables||(this._memoizedTables={});if(x(w,g))return w[g];var O=this.schema[g];if(!O)throw new Pe.NotFound("Table "+g+" not part of transaction");return O=new this.db.Table(g,O,this),O.core=this.db.core.table(g),w[g]=O},ui);function ui(){}function No(g,w,O,M,_,z,$){return{name:g,keyPath:w,unique:O,multi:M,auto:_,compound:z,src:(O&&!$?"&":"")+(M?"*":"")+(_?"++":"")+hc(w)}}function hc(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function il(g,w,O){return{name:g,primKey:w,indexes:O,mappedClass:null,idxByName:(M=function(_){return[_.name,_]},O.reduce(function(_,z,$){return $=M(z,$),$&&(_[$[0]]=$[1]),_},{}))};var M}var ol=function(g){try{return g.only([[]]),ol=function(){return[[]]},[[]]}catch{return ol=function(){return qi},qi}};function xn(g){return g==null?function(){}:typeof g=="string"?(w=g).split(".").length===1?function(O){return O[w]}:function(O){return re(O,w)}:function(O){return re(O,g)};var w}function wn(g){return[].slice.call(g)}var Dh=0;function Cr(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function ma(g,w,se){function M(ie){if(ie.type===3)return null;if(ie.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var W=ie.lower,ne=ie.upper,le=ie.lowerOpen,ie=ie.upperOpen;return W===void 0?ne===void 0?null:w.upperBound(ne,!!ie):ne===void 0?w.lowerBound(W,!!le):w.bound(W,ne,!!le,!!ie)}function _(Z){var W,ne=Z.name;return{name:ne,schema:Z,mutate:function(le){var ie=le.trans,me=le.type,Se=le.keys,ve=le.values,Ee=le.range;return new Promise(function(je,Xe){je=Zt(je);var Ue=ie.objectStore(ne),Ke=Ue.keyPath==null,Be=me==="put"||me==="add";if(!Be&&me!=="delete"&&me!=="deleteRange")throw new Error("Invalid operation type: "+me);var Ze,rt=(Se||ve||{length:1}).length;if(Se&&ve&&Se.length!==ve.length)throw new Error("Given keys array must have same length as given values array.");if(rt===0)return je({numFailures:0,failures:{},results:[],lastResult:void 0});function bt(ar){++$r,rl(ar)}var Pt=[],Vt=[],$r=0;if(me==="deleteRange"){if(Ee.type===4)return je({numFailures:$r,failures:Vt,results:[],lastResult:void 0});Ee.type===3?Pt.push(Ze=Ue.clear()):Pt.push(Ze=Ue.delete(M(Ee)))}else{var Ke=Be?Ke?[ve,Se]:[ve,null]:[Se,null],kt=Ke[0],Un=Ke[1];if(Be)for(var In=0;In<rt;++In)Pt.push(Ze=Un&&Un[In]!==void 0?Ue[me](kt[In],Un[In]):Ue[me](kt[In])),Ze.onerror=bt;else for(In=0;In<rt;++In)Pt.push(Ze=Ue[me](kt[In])),Ze.onerror=bt}function bl(ar){ar=ar.target.result,Pt.forEach(function(ki,Ou){return ki.error!=null&&(Vt[Ou]=ki.error)}),je({numFailures:$r,failures:Vt,results:me==="delete"?Se:Pt.map(function(ki){return ki.result}),lastResult:ar})}Ze.onerror=function(ar){bt(ar),bl(ar)},Ze.onsuccess=bl})},getMany:function(le){var ie=le.trans,me=le.keys;return new Promise(function(Se,ve){Se=Zt(Se);for(var Ee,je=ie.objectStore(ne),Xe=me.length,Ue=new Array(Xe),Ke=0,Be=0,Ze=function(Pt){Pt=Pt.target,Ue[Pt._pos]=Pt.result,++Be===Ke&&Se(Ue)},rt=Vr(ve),bt=0;bt<Xe;++bt)me[bt]!=null&&((Ee=je.get(me[bt]))._pos=bt,Ee.onsuccess=Ze,Ee.onerror=rt,++Ke);Ke===0&&Se(Ue)})},get:function(le){var ie=le.trans,me=le.key;return new Promise(function(Se,ve){Se=Zt(Se);var Ee=ie.objectStore(ne).get(me);Ee.onsuccess=function(je){return Se(je.target.result)},Ee.onerror=Vr(ve)})},query:(W=B,function(le){return new Promise(function(ie,me){ie=Zt(ie);var Se,ve,Ee,Ke=le.trans,je=le.values,Xe=le.limit,Ze=le.query,Ue=Xe===1/0?void 0:Xe,Be=Ze.index,Ze=Ze.range,Ke=Ke.objectStore(ne),Be=Be.isPrimaryKey?Ke:Ke.index(Be.name),Ze=M(Ze);if(Xe===0)return ie({result:[]});W?((Ue=je?Be.getAll(Ze,Ue):Be.getAllKeys(Ze,Ue)).onsuccess=function(rt){return ie({result:rt.target.result})},Ue.onerror=Vr(me)):(Se=0,ve=!je&&"openKeyCursor"in Be?Be.openKeyCursor(Ze):Be.openCursor(Ze),Ee=[],ve.onsuccess=function(rt){var bt=ve.result;return bt?(Ee.push(je?bt.value:bt.primaryKey),++Se===Xe?ie({result:Ee}):void bt.continue()):ie({result:Ee})},ve.onerror=Vr(me))})}),openCursor:function(le){var ie=le.trans,me=le.values,Se=le.query,ve=le.reverse,Ee=le.unique;return new Promise(function(je,Xe){je=Zt(je);var Be=Se.index,Ue=Se.range,Ke=ie.objectStore(ne),Ke=Be.isPrimaryKey?Ke:Ke.index(Be.name),Be=ve?Ee?"prevunique":"prev":Ee?"nextunique":"next",Ze=!me&&"openKeyCursor"in Ke?Ke.openKeyCursor(M(Ue),Be):Ke.openCursor(M(Ue),Be);Ze.onerror=Vr(Xe),Ze.onsuccess=Zt(function(rt){var bt,Pt,Vt,$r,kt=Ze.result;kt?(kt.___id=++Dh,kt.done=!1,bt=kt.continue.bind(kt),Pt=(Pt=kt.continuePrimaryKey)&&Pt.bind(kt),Vt=kt.advance.bind(kt),$r=function(){throw new Error("Cursor not stopped")},kt.trans=ie,kt.stop=kt.continue=kt.continuePrimaryKey=kt.advance=function(){throw new Error("Cursor not started")},kt.fail=Zt(Xe),kt.next=function(){var Un=this,In=1;return this.start(function(){return In--?Un.continue():Un.stop()}).then(function(){return Un})},kt.start=function(Un){function In(){if(Ze.result)try{Un()}catch(ar){kt.fail(ar)}else kt.done=!0,kt.start=function(){throw new Error("Cursor behind last entry")},kt.stop()}var bl=new Promise(function(ar,ki){ar=Zt(ar),Ze.onerror=Vr(ki),kt.fail=ki,kt.stop=function(Ou){kt.stop=kt.continue=kt.continuePrimaryKey=kt.advance=$r,ar(Ou)}});return Ze.onsuccess=Zt(function(ar){Ze.onsuccess=In,In()}),kt.continue=bt,kt.continuePrimaryKey=Pt,kt.advance=Vt,In(),bl},je(kt)):je(null)},Xe)})},count:function(le){var ie=le.query,me=le.trans,Se=ie.index,ve=ie.range;return new Promise(function(Ee,je){var Xe=me.objectStore(ne),Ue=Se.isPrimaryKey?Xe:Xe.index(Se.name),Xe=M(ve),Ue=Xe?Ue.count(Xe):Ue.count();Ue.onsuccess=Zt(function(Ke){return Ee(Ke.target.result)}),Ue.onerror=Vr(je)})}}}var z,$,J,j=($=se,J=wn((z=g).objectStoreNames),{schema:{name:z.name,tables:J.map(function(Z){return $.objectStore(Z)}).map(function(Z){var W=Z.keyPath,ie=Z.autoIncrement,ne=f(W),le={},ie={name:Z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:W==null,compound:ne,keyPath:W,autoIncrement:ie,unique:!0,extractKey:xn(W)},indexes:wn(Z.indexNames).map(function(me){return Z.index(me)}).map(function(Ee){var Se=Ee.name,ve=Ee.unique,je=Ee.multiEntry,Ee=Ee.keyPath,je={name:Se,compound:f(Ee),keyPath:Ee,unique:ve,multiEntry:je,extractKey:xn(Ee)};return le[Cr(Ee)]=je}),getIndexByKeyPath:function(me){return le[Cr(me)]}};return le[":id"]=ie.primaryKey,W!=null&&(le[Cr(W)]=ie.primaryKey),ie})},hasGetAll:0<J.length&&"getAll"in $.objectStore(J[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=j.schema,B=j.hasGetAll,j=se.tables.map(_),I={};return j.forEach(function(Z){return I[Z.name]=Z}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(Z){if(!I[Z])throw new Error("Table '".concat(Z,"' not found"));return I[Z]},MIN_KEY:-1/0,MAX_KEY:ol(w),schema:se}}function pc(g,w,O,M){var _=O.IDBKeyRange;return O.indexedDB,{dbcore:(M=ma(w,_,M),g.dbcore.reduce(function(z,$){return $=$.create,r(r({},z),$(z))},M))}}function zs(g,M){var O=M.db,M=pc(g._middlewares,O,g._deps,M);g.core=M.dbcore,g.tables.forEach(function(_){var z=_.name;g.core.schema.tables.some(function($){return $.name===z})&&(_.core=g.core.table(z),g[z]instanceof g.Table&&(g[z].core=_.core))})}function mc(g,w,O,M){O.forEach(function(_){var z=M[_];w.forEach(function($){var J=function se(B,j){return R(B,j)||(B=m(B))&&se(B,j)}($,_);(!J||"value"in J&&J.value===void 0)&&($===g.Transaction.prototype||$ instanceof g.Transaction?E($,_,{get:function(){return this.table(_)},set:function(se){T(this,_,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):$[_]=new g.Table(_,z))})})}function sl(g,w){w.forEach(function(O){for(var M in O)O[M]instanceof g.Table&&delete O[M]})}function Ff(g,w){return g._cfg.version-w._cfg.version}function sr(g,w,O,M){var _=g._dbSchema;O.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=il("$meta",qf("")[0],[]),g._storeNames.push("$meta"));var z=g._createTransaction("readwrite",g._storeNames,_);z.create(O),z._completion.catch(M);var $=z._reject.bind(z),J=ke.transless||ke;or(function(){return ke.trans=z,ke.transless=J,w!==0?(zs(g,O),B=w,((se=z).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(j){return j??B}):We.resolve(B)).then(function(j){return Z=j,W=z,ne=O,le=[],j=(I=g)._versions,ie=I._dbSchema=ga(0,I.idbdb,ne),(j=j.filter(function(me){return me._cfg.version>=Z})).length!==0?(j.forEach(function(me){le.push(function(){var Se=ie,ve=me._cfg.dbschema;xu(I,Se,ne),xu(I,ve,ne),ie=I._dbSchema=ve;var Ee=Lo(Se,ve);Ee.add.forEach(function(Be){gc(ne,Be[0],Be[1].primKey,Be[1].indexes)}),Ee.change.forEach(function(Be){if(Be.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var Ze=ne.objectStore(Be.name);Be.add.forEach(function(rt){return Jr(Ze,rt)}),Be.change.forEach(function(rt){Ze.deleteIndex(rt.name),Jr(Ze,rt)}),Be.del.forEach(function(rt){return Ze.deleteIndex(rt)})});var je=me._cfg.contentUpgrade;if(je&&me._cfg.version>Z){zs(I,ne),W._memoizedTables={};var Xe=we(ve);Ee.del.forEach(function(Be){Xe[Be]=Se[Be]}),sl(I,[I.Transaction.prototype]),mc(I,[I.Transaction.prototype],l(Xe),Xe),W.schema=Xe;var Ue,Ke=Oe(je);return Ke&&oo(),Ee=We.follow(function(){var Be;(Ue=je(W))&&Ke&&(Be=Do.bind(null,null),Ue.then(Be,Be))}),Ue&&typeof Ue.then=="function"?We.resolve(Ue):Ee.then(function(){return Ue})}}),le.push(function(Se){var ve,Ee,je=me._cfg.dbschema;ve=je,Ee=Se,[].slice.call(Ee.db.objectStoreNames).forEach(function(Xe){return ve[Xe]==null&&Ee.db.deleteObjectStore(Xe)}),sl(I,[I.Transaction.prototype]),mc(I,[I.Transaction.prototype],I._storeNames,I._dbSchema),W.schema=I._dbSchema}),le.push(function(Se){I.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(I.idbdb.version/10)===me._cfg.version?(I.idbdb.deleteObjectStore("$meta"),delete I._dbSchema.$meta,I._storeNames=I._storeNames.filter(function(ve){return ve!=="$meta"})):Se.objectStore("$meta").put(me._cfg.version,"version"))})}),function me(){return le.length?We.resolve(le.shift()(W.idbtrans)).then(me):We.resolve()}().then(function(){yc(ie,ne)})):We.resolve();var I,Z,W,ne,le,ie}).catch($)):(l(_).forEach(function(j){gc(O,j,_[j].primKey,_[j].indexes)}),zs(g,O),void We.follow(function(){return g.on.populate.fire(z)}).catch($));var se,B})}function al(g,w){yc(g._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var O=ga(0,g.idbdb,w);xu(g,g._dbSchema,w);for(var M=0,_=Lo(O,g._dbSchema).change;M<_.length;M++){var z=function($){if($.change.length||$.recreate)return console.warn("Unable to patch indexes of table ".concat($.name," because it has changes on the type of index or primary key.")),{value:void 0};var J=w.objectStore($.name);$.add.forEach(function(se){Le&&console.debug("Dexie upgrade patch: Creating missing index ".concat($.name,".").concat(se.src)),Jr(J,se)})}(_[M]);if(typeof z=="object")return z.value}}function Lo(g,w){var O,M={del:[],add:[],change:[]};for(O in g)w[O]||M.del.push(O);for(O in w){var _=g[O],z=w[O];if(_){var $={name:O,def:z,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(z.primKey.keyPath||"")||_.primKey.auto!==z.primKey.auto)$.recreate=!0,M.change.push($);else{var J=_.idxByName,se=z.idxByName,B=void 0;for(B in J)se[B]||$.del.push(B);for(B in se){var j=J[B],I=se[B];j?j.src!==I.src&&$.change.push(I):$.add.push(I)}(0<$.del.length||0<$.add.length||0<$.change.length)&&M.change.push($)}}else M.add.push([O,z])}return M}function gc(g,w,O,M){var _=g.db.createObjectStore(w,O.keyPath?{keyPath:O.keyPath,autoIncrement:O.auto}:{autoIncrement:O.auto});return M.forEach(function(z){return Jr(_,z)}),_}function yc(g,w){l(g).forEach(function(O){w.db.objectStoreNames.contains(O)||(Le&&console.debug("Dexie: Creating missing table",O),gc(w,O,g[O].primKey,g[O].indexes))})}function Jr(g,w){g.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function ga(g,w,O){var M={};return K(w.objectStoreNames,0).forEach(function(_){for(var z=O.objectStore(_),$=No(hc(B=z.keyPath),B||"",!0,!1,!!z.autoIncrement,B&&typeof B!="string",!0),J=[],se=0;se<z.indexNames.length;++se){var j=z.index(z.indexNames[se]),B=j.keyPath,j=No(j.name,B,!!j.unique,!!j.multiEntry,!1,B&&typeof B!="string",!1);J.push(j)}M[_]=il(_,$,J)}),M}function xu(g,w,O){for(var M=O.db.objectStoreNames,_=0;_<M.length;++_){var z=M[_],$=O.objectStore(z);g._hasGetAll="getAll"in $;for(var J=0;J<$.indexNames.length;++J){var se=$.indexNames[J],B=$.index(se).keyPath,j=typeof B=="string"?B:"["+K(B).join("+")+"]";!w[z]||(B=w[z].idxByName[j])&&(B.name=se,delete w[z].idxByName[j],w[z].idxByName[se]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function qf(g){return g.split(",").map(function(w,O){var M=(w=w.trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(M)?M.match(/^\[(.*)\]$/)[1].split("+"):M;return No(M,_||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),f(_),O===0)})}var Rh=(wu.prototype._parseStoresSpec=function(g,w){l(g).forEach(function(O){if(g[O]!==null){var M=qf(g[O]),_=M.shift();if(_.unique=!0,_.multi)throw new Pe.Schema("Primary key cannot be multi-valued");M.forEach(function(z){if(z.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!z.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),w[O]=il(O,_,M)}})},wu.prototype.stores=function(O){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,O):O;var O=w._versions,M={},_={};return O.forEach(function(z){d(M,z._cfg.storesSource),_=z._cfg.dbschema={},z._parseStoresSpec(M,_)}),w._dbSchema=_,sl(w,[w._allTables,w,w.Transaction.prototype]),mc(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],l(_),_),w._storeNames=l(_),this},wu.prototype.upgrade=function(g){return this._cfg.contentUpgrade=be(this._cfg.contentUpgrade||Tt,g),this},wu);function wu(){}function vc(g,w){var O=g._dbNamesDB;return O||(O=g._dbNamesDB=new Io(Ro,{addons:[],indexedDB:g,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),O.table("dbnames")}function jr(g){return g&&typeof g.databases=="function"}function Uf(g){return or(function(){return ke.letThrough=!0,g()})}function ci(g){return!("from"in g)}var Kr=function(g,w){if(!this){var O=new Kr;return g&&"d"in g&&d(O,g),O}d(this,arguments.length?{d:1,from:g,to:1<arguments.length?w:g}:{d:0})};function ll(g,w,O){var M=Yt(w,O);if(!isNaN(M)){if(0<M)throw RangeError();if(ci(g))return d(g,{from:w,to:O,d:1});var _=g.l,M=g.r;if(Yt(O,g.from)<0)return _?ll(_,w,O):g.l={from:w,to:O,d:1,l:null,r:null},qn(g);if(0<Yt(w,g.to))return M?ll(M,w,O):g.r={from:w,to:O,d:1,l:null,r:null},qn(g);Yt(w,g.from)<0&&(g.from=w,g.l=null,g.d=M?M.d+1:1),0<Yt(O,g.to)&&(g.to=O,g.r=null,g.d=g.l?g.l.d+1:1),O=!g.r,_&&!g.l&&fi(g,_),M&&O&&fi(g,M)}}function fi(g,w){ci(w)||function O(M,se){var z=se.from,$=se.to,J=se.l,se=se.r;ll(M,z,$),J&&O(M,J),se&&O(M,se)}(g,w)}function Su(g,w){var O=ul(w),M=O.next();if(M.done)return!1;for(var _=M.value,z=ul(g),$=z.next(_.from),J=$.value;!M.done&&!$.done;){if(Yt(J.from,_.to)<=0&&0<=Yt(J.to,_.from))return!0;Yt(_.from,J.from)<0?_=(M=O.next(J.from)).value:J=($=z.next(_.from)).value}return!1}function ul(g){var w=ci(g)?null:{s:0,n:g};return{next:function(O){for(var M=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,M)for(;w.n.l&&Yt(O,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!M||Yt(O,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function qn(g){var w,O,M=(((w=g.r)===null||w===void 0?void 0:w.d)||0)-(((O=g.l)===null||O===void 0?void 0:O.d)||0),_=1<M?"r":M<-1?"l":"";_&&(w=_=="r"?"l":"r",O=r({},g),M=g[_],g.from=M.from,g.to=M.to,g[_]=M[_],O[_]=M[w],(g[w]=O).d=Bo(O)),g.d=Bo(g)}function Bo(O){var w=O.r,O=O.l;return(w?O?Math.max(w.d,O.d):w.d:O?O.d:0)+1}function cl(g,w){return l(w).forEach(function(O){g[O]?fi(g[O],w[O]):g[O]=function M(_){var z,$,J={};for(z in _)x(_,z)&&($=_[z],J[z]=!$||typeof $!="object"||et.has($.constructor)?$:M($));return J}(w[O])}),g}function Vf(g,w){return g.all||w.all||Object.keys(g).some(function(O){return w[O]&&Su(w[O],g[O])})}C(Kr.prototype,((Ai={add:function(g){return fi(this,g),this},addKey:function(g){return ll(this,g,g),this},addKeys:function(g){var w=this;return g.forEach(function(O){return ll(w,O,O)}),this},hasKey:function(g){var w=ul(this).next(g).value;return w&&Yt(w.from,g)<=0&&0<=Yt(w.to,g)}})[Ne]=function(){return ul(this)},Ai));var ls={},jf={},Kf=!1;function bc(g){cl(jf,g),Kf||(Kf=!0,setTimeout(function(){Kf=!1,xc(jf,!(jf={}))},0))}function xc(g,w){w===void 0&&(w=!1);var O=new Set;if(g.all)for(var M=0,_=Object.values(ls);M<_.length;M++)Cu($=_[M],g,O,w);else for(var z in g){var $,J=/^idb\:\/\/(.*)\/(.*)\//.exec(z);J&&(z=J[1],J=J[2],($=ls["idb://".concat(z,"/").concat(J)])&&Cu($,g,O,w))}O.forEach(function(se){return se()})}function Cu(g,w,O,M){for(var _=[],z=0,$=Object.entries(g.queries.query);z<$.length;z++){for(var J=$[z],se=J[0],B=[],j=0,I=J[1];j<I.length;j++){var Z=I[j];Vf(w,Z.obsSet)?Z.subscribers.forEach(function(ie){return O.add(ie)}):M&&B.push(Z)}M&&_.push([se,B])}if(M)for(var W=0,ne=_;W<ne.length;W++){var le=ne[W],se=le[0],B=le[1];g.queries.query[se]=B}}function fl(g){var w=g._state,O=g._deps.indexedDB;if(w.isBeingOpened||g.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?On(w.dbOpenError):g});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var M=w.openCanceller,_=Math.round(10*g.verno),z=!1;function $(){if(w.openCanceller!==M)throw new Pe.DatabaseClosed("db.open() was cancelled")}function J(){return new We(function(Z,W){if($(),!O)throw new Pe.MissingAPI;var ne=g.name,le=w.autoSchema||!_?O.open(ne):O.open(ne,_);if(!le)throw new Pe.MissingAPI;le.onerror=Vr(W),le.onblocked=Zt(g._fireOnBlocked),le.onupgradeneeded=Zt(function(ie){var me;j=le.transaction,w.autoSchema&&!g._options.allowEmptyDB?(le.onerror=rl,j.abort(),le.result.close(),(me=O.deleteDatabase(ne)).onsuccess=me.onerror=Zt(function(){W(new Pe.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(j.onerror=Vr(W),ie=ie.oldVersion>Math.pow(2,62)?0:ie.oldVersion,I=ie<1,g.idbdb=le.result,z&&al(g,j),sr(g,ie/10,j,W))},W),le.onsuccess=Zt(function(){j=null;var ie,me,Se,ve,Ee,je=g.idbdb=le.result,Xe=K(je.objectStoreNames);if(0<Xe.length)try{var Ue=je.transaction((ve=Xe).length===1?ve[0]:ve,"readonly");if(w.autoSchema)me=je,Se=Ue,(ie=g).verno=me.version/10,Se=ie._dbSchema=ga(0,me,Se),ie._storeNames=K(me.objectStoreNames,0),mc(ie,[ie._allTables],l(Se),Se);else if(xu(g,g._dbSchema,Ue),((Ee=Lo(ga(0,(Ee=g).idbdb,Ue),Ee._dbSchema)).add.length||Ee.change.some(function(Ke){return Ke.add.length||Ke.change.length}))&&!z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),je.close(),_=je.version+1,z=!0,Z(J());zs(g,Ue)}catch{}ca.push(g),je.onversionchange=Zt(function(Ke){w.vcFired=!0,g.on("versionchange").fire(Ke)}),je.onclose=Zt(function(Ke){g.on("close").fire(Ke)}),I&&(Ee=g._deps,Ue=ne,je=Ee.indexedDB,Ee=Ee.IDBKeyRange,jr(je)||Ue===Ro||vc(je,Ee).put({name:Ue}).catch(Tt)),Z()},W)}).catch(function(Z){switch(Z==null?void 0:Z.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),J();break;case"VersionError":if(0<_)return _=0,J()}return We.reject(Z)})}var se,B=w.dbReadyResolve,j=null,I=!1;return We.race([M,(typeof navigator>"u"?We.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Z){function W(){return indexedDB.databases().finally(Z)}se=setInterval(W,100),W()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(J)]).then(function(){return $(),w.onReadyBeingFired=[],We.resolve(Uf(function(){return g.on.ready.fire(g.vip)})).then(function Z(){if(0<w.onReadyBeingFired.length){var W=w.onReadyBeingFired.reduce(be,Tt);return w.onReadyBeingFired=[],We.resolve(Uf(function(){return W(g.vip)})).then(Z)}})}).finally(function(){w.openCanceller===M&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(Z){w.dbOpenError=Z;try{j&&j.abort()}catch{}return M===w.openCanceller&&g._close(),On(Z)}).finally(function(){w.openComplete=!0,B()}).then(function(){var Z;return I&&(Z={},g.tables.forEach(function(W){W.schema.indexes.forEach(function(ne){ne.name&&(Z["idb://".concat(g.name,"/").concat(W.name,"/").concat(ne.name)]=new Kr(-1/0,[[[]]]))}),Z["idb://".concat(g.name,"/").concat(W.name,"/")]=Z["idb://".concat(g.name,"/").concat(W.name,"/:dels")]=new Kr(-1/0,[[[]]])}),ji(pa).fire(Z),xc(Z,!0)),g})}function Eu(g){function w(z){return g.next(z)}var O=_(w),M=_(function(z){return g.throw(z)});function _(z){return function(se){var J=z(se),se=J.value;return J.done?se:se&&typeof se.then=="function"?se.then(O,M):f(se)?Promise.all(se).then(O,M):O(se)}}return _(w)()}function us(g,w,O){for(var M=f(g)?g.slice():[g],_=0;_<O;++_)M.push(w);return M}var _h={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return r(r({},g),{table:function(w){var O=g.table(w),M=O.schema,_={},z=[];function $(I,Z,W){var ne=Cr(I),le=_[ne]=_[ne]||[],ie=I==null?0:typeof I=="string"?1:I.length,me=0<Z,me=r(r({},W),{name:me?"".concat(ne,"(virtual-from:").concat(W.name,")"):W.name,lowLevelIndex:W,isVirtual:me,keyTail:Z,keyLength:ie,extractKey:xn(I),unique:!me&&W.unique});return le.push(me),me.isPrimaryKey||z.push(me),1<ie&&$(ie===2?I[0]:I.slice(0,ie-1),Z+1,W),le.sort(function(Se,ve){return Se.keyTail-ve.keyTail}),me}w=$(M.primaryKey.keyPath,0,M.primaryKey),_[":id"]=[w];for(var J=0,se=M.indexes;J<se.length;J++){var B=se[J];$(B.keyPath,0,B)}function j(I){var Z,W=I.query.index;return W.isVirtual?r(r({},I),{query:{index:W.lowLevelIndex,range:(Z=I.query.range,W=W.keyTail,{type:Z.type===1?2:Z.type,lower:us(Z.lower,Z.lowerOpen?g.MAX_KEY:g.MIN_KEY,W),lowerOpen:!0,upper:us(Z.upper,Z.upperOpen?g.MIN_KEY:g.MAX_KEY,W),upperOpen:!0})}}):I}return r(r({},O),{schema:r(r({},M),{primaryKey:w,indexes:z,getIndexByKeyPath:function(I){return(I=_[Cr(I)])&&I[0]}}),count:function(I){return O.count(j(I))},query:function(I){return O.query(j(I))},openCursor:function(I){var Z=I.query.index,W=Z.keyTail,ne=Z.isVirtual,le=Z.keyLength;return ne?O.openCursor(j(I)).then(function(me){return me&&ie(me)}):O.openCursor(I);function ie(me){return Object.create(me,{continue:{value:function(Se){Se!=null?me.continue(us(Se,I.reverse?g.MAX_KEY:g.MIN_KEY,W)):I.unique?me.continue(me.key.slice(0,le).concat(I.reverse?g.MIN_KEY:g.MAX_KEY,W)):me.continue()}},continuePrimaryKey:{value:function(Se,ve){me.continuePrimaryKey(us(Se,g.MAX_KEY,W),ve)}},primaryKey:{get:function(){return me.primaryKey}},key:{get:function(){var Se=me.key;return le===1?Se[0]:Se.slice(0,le)}},value:{get:function(){return me.value}}})}}})}})}};function dl(g,w,O,M){return O=O||{},M=M||"",l(g).forEach(function(_){var z,$,J;x(w,_)?(z=g[_],$=w[_],typeof z=="object"&&typeof $=="object"&&z&&$?(J=Et(z))!==Et($)?O[M+_]=w[_]:J==="Object"?dl(z,$,O,M+_+"."):z!==$&&(O[M+_]=w[_]):z!==$&&(O[M+_]=w[_])):O[M+_]=void 0}),l(w).forEach(function(_){x(g,_)||(O[M+_]=w[_])}),O}function hl(g,w){return w.type==="delete"?w.keys:w.keys||w.values.map(g.extractKey)}var $f={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return r(r({},g),{table:function(w){var O=g.table(w),M=O.schema.primaryKey;return r(r({},O),{mutate:function(_){var z=ke.trans,$=z.table(w).hook,J=$.deleting,se=$.creating,B=$.updating;switch(_.type){case"add":if(se.fire===Tt)break;return z._promise("readwrite",function(){return j(_)},!0);case"put":if(se.fire===Tt&&B.fire===Tt)break;return z._promise("readwrite",function(){return j(_)},!0);case"delete":if(J.fire===Tt)break;return z._promise("readwrite",function(){return j(_)},!0);case"deleteRange":if(J.fire===Tt)break;return z._promise("readwrite",function(){return function I(Z,W,ne){return O.query({trans:Z,values:!1,query:{index:M,range:W},limit:ne}).then(function(le){var ie=le.result;return j({type:"delete",keys:ie,trans:Z}).then(function(me){return 0<me.numFailures?Promise.reject(me.failures[0]):ie.length<ne?{failures:[],numFailures:0,lastResult:void 0}:I(Z,r(r({},W),{lower:ie[ie.length-1],lowerOpen:!0}),ne)})})}(_.trans,_.range,1e4)},!0)}return O.mutate(_);function j(I){var Z,W,ne,le=ke.trans,ie=I.keys||hl(M,I);if(!ie)throw new Error("Keys missing");return(I=I.type==="add"||I.type==="put"?r(r({},I),{keys:ie}):r({},I)).type!=="delete"&&(I.values=i([],I.values)),I.keys&&(I.keys=i([],I.keys)),Z=O,ne=ie,((W=I).type==="add"?Promise.resolve([]):Z.getMany({trans:W.trans,keys:ne,cache:"immutable"})).then(function(me){var Se=ie.map(function(ve,Ee){var je,Xe,Ue,Ke=me[Ee],Be={onerror:null,onsuccess:null};return I.type==="delete"?J.fire.call(Be,ve,Ke,le):I.type==="add"||Ke===void 0?(je=se.fire.call(Be,ve,I.values[Ee],le),ve==null&&je!=null&&(I.keys[Ee]=ve=je,M.outbound||de(I.values[Ee],M.keyPath,ve))):(je=dl(Ke,I.values[Ee]),(Xe=B.fire.call(Be,je,ve,Ke,le))&&(Ue=I.values[Ee],Object.keys(Xe).forEach(function(Ze){x(Ue,Ze)?Ue[Ze]=Xe[Ze]:de(Ue,Ze,Xe[Ze])}))),Be});return O.mutate(I).then(function(ve){for(var Ee=ve.failures,je=ve.results,Xe=ve.numFailures,ve=ve.lastResult,Ue=0;Ue<ie.length;++Ue){var Ke=(je||ie)[Ue],Be=Se[Ue];Ke==null?Be.onerror&&Be.onerror(Ee[Ue]):Be.onsuccess&&Be.onsuccess(I.type==="put"&&me[Ue]?I.values[Ue]:Ke)}return{failures:Ee,results:je,numFailures:Xe,lastResult:ve}}).catch(function(ve){return Se.forEach(function(Ee){return Ee.onerror&&Ee.onerror(ve)}),Promise.reject(ve)})})}}})}})}};function Yf(g,w,O){try{if(!w||w.keys.length<g.length)return null;for(var M=[],_=0,z=0;_<w.keys.length&&z<g.length;++_)Yt(w.keys[_],g[z])===0&&(M.push(O?Je(w.values[_]):w.values[_]),++z);return M.length===g.length?M:null}catch{return null}}var wc={stack:"dbcore",level:-1,create:function(g){return{table:function(w){var O=g.table(w);return r(r({},O),{getMany:function(M){if(!M.cache)return O.getMany(M);var _=Yf(M.keys,M.trans._cache,M.cache==="clone");return _?We.resolve(_):O.getMany(M).then(function(z){return M.trans._cache={keys:M.keys,values:M.cache==="clone"?Je(z):z},z})},mutate:function(M){return M.type!=="add"&&(M.trans._cache=null),O.mutate(M)}})}}}};function cs(g,w){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function Nh(g,w){switch(g){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Lh={stack:"dbcore",level:0,name:"Observability",create:function(g){var w=g.schema.name,O=new Kr(g.MIN_KEY,g.MAX_KEY);return r(r({},g),{transaction:function(M,_,z){if(ke.subscr&&_!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return g.transaction(M,_,z)},table:function(M){var _=g.table(M),z=_.schema,$=z.primaryKey,I=z.indexes,J=$.extractKey,se=$.outbound,B=$.autoIncrement&&I.filter(function(W){return W.compound&&W.keyPath.includes($.keyPath)}),j=r(r({},_),{mutate:function(W){function ne(Ze){return Ze="idb://".concat(w,"/").concat(M,"/").concat(Ze),ve[Ze]||(ve[Ze]=new Kr)}var le,ie,me,Se=W.trans,ve=W.mutatedParts||(W.mutatedParts={}),Ee=ne(""),je=ne(":dels"),Xe=W.type,Be=W.type==="deleteRange"?[W.range]:W.type==="delete"?[W.keys]:W.values.length<50?[hl($,W).filter(function(Ze){return Ze}),W.values]:[],Ue=Be[0],Ke=Be[1],Be=W.trans._cache;return f(Ue)?(Ee.addKeys(Ue),(Be=Xe==="delete"||Ue.length===Ke.length?Yf(Ue,Be):null)||je.addKeys(Ue),(Be||Ke)&&(le=ne,ie=Be,me=Ke,z.indexes.forEach(function(Ze){var rt=le(Ze.name||"");function bt(Vt){return Vt!=null?Ze.extractKey(Vt):null}function Pt(Vt){return Ze.multiEntry&&f(Vt)?Vt.forEach(function($r){return rt.addKey($r)}):rt.addKey(Vt)}(ie||me).forEach(function(Vt,Un){var kt=ie&&bt(ie[Un]),Un=me&&bt(me[Un]);Yt(kt,Un)!==0&&(kt!=null&&Pt(kt),Un!=null&&Pt(Un))})}))):Ue?(Ke={from:(Ke=Ue.lower)!==null&&Ke!==void 0?Ke:g.MIN_KEY,to:(Ke=Ue.upper)!==null&&Ke!==void 0?Ke:g.MAX_KEY},je.add(Ke),Ee.add(Ke)):(Ee.add(O),je.add(O),z.indexes.forEach(function(Ze){return ne(Ze.name).add(O)})),_.mutate(W).then(function(Ze){return!Ue||W.type!=="add"&&W.type!=="put"||(Ee.addKeys(Ze.results),B&&B.forEach(function(rt){for(var bt=W.values.map(function(kt){return rt.extractKey(kt)}),Pt=rt.keyPath.findIndex(function(kt){return kt===$.keyPath}),Vt=0,$r=Ze.results.length;Vt<$r;++Vt)bt[Vt][Pt]=Ze.results[Vt];ne(rt.name).addKeys(bt)})),Se.mutatedParts=cl(Se.mutatedParts||{},ve),Ze})}}),I=function(ne){var le=ne.query,ne=le.index,le=le.range;return[ne,new Kr((ne=le.lower)!==null&&ne!==void 0?ne:g.MIN_KEY,(le=le.upper)!==null&&le!==void 0?le:g.MAX_KEY)]},Z={get:function(W){return[$,new Kr(W.key)]},getMany:function(W){return[$,new Kr().addKeys(W.keys)]},count:I,query:I,openCursor:I};return l(Z).forEach(function(W){j[W]=function(ne){var le=ke.subscr,ie=!!le,me=cs(ke,_)&&Nh(W,ne)?ne.obsSet={}:le;if(ie){var Se=function(Ke){return Ke="idb://".concat(w,"/").concat(M,"/").concat(Ke),me[Ke]||(me[Ke]=new Kr)},ve=Se(""),Ee=Se(":dels"),le=Z[W](ne),ie=le[0],le=le[1];if((W==="query"&&ie.isPrimaryKey&&!ne.values?Ee:Se(ie.name||"")).add(le),!ie.isPrimaryKey){if(W!=="count"){var je=W==="query"&&se&&ne.values&&_.query(r(r({},ne),{values:!1}));return _[W].apply(this,arguments).then(function(Ke){if(W==="query"){if(se&&ne.values)return je.then(function(bt){return bt=bt.result,ve.addKeys(bt),Ke});var Be=ne.values?Ke.result.map(J):Ke.result;(ne.values?ve:Ee).addKeys(Be)}else if(W==="openCursor"){var Ze=Ke,rt=ne.values;return Ze&&Object.create(Ze,{key:{get:function(){return Ee.addKey(Ze.primaryKey),Ze.key}},primaryKey:{get:function(){var bt=Ze.primaryKey;return Ee.addKey(bt),bt}},value:{get:function(){return rt&&ve.addKey(Ze.primaryKey),Ze.value}}})}return Ke})}Ee.add(O)}}return _[W].apply(this,arguments)}}),j}})}};function di(g,w,O){if(O.numFailures===0)return w;if(w.type==="deleteRange")return null;var M=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return O.numFailures===M?null:(w=r({},w),f(w.keys)&&(w.keys=w.keys.filter(function(_,z){return!(z in O.failures)})),"values"in w&&f(w.values)&&(w.values=w.values.filter(function(_,z){return!(z in O.failures)})),w)}function pl(g,w){return O=g,((M=w).lower===void 0||(M.lowerOpen?0<Yt(O,M.lower):0<=Yt(O,M.lower)))&&(g=g,(w=w).upper===void 0||(w.upperOpen?Yt(g,w.upper)<0:Yt(g,w.upper)<=0));var O,M}function ya(g,w,Z,M,_,z){if(!Z||Z.length===0)return g;var $=w.query.index,J=$.multiEntry,se=w.query.range,B=M.schema.primaryKey.extractKey,j=$.extractKey,I=($.lowLevelIndex||$).extractKey,Z=Z.reduce(function(W,ne){var le=W,ie=[];if(ne.type==="add"||ne.type==="put")for(var me=new Kr,Se=ne.values.length-1;0<=Se;--Se){var ve,Ee=ne.values[Se],je=B(Ee);me.hasKey(je)||(ve=j(Ee),(J&&f(ve)?ve.some(function(Ze){return pl(Ze,se)}):pl(ve,se))&&(me.addKey(je),ie.push(Ee)))}switch(ne.type){case"add":var Xe=new Kr().addKeys(w.values?W.map(function(rt){return B(rt)}):W),le=W.concat(w.values?ie.filter(function(rt){return rt=B(rt),!Xe.hasKey(rt)&&(Xe.addKey(rt),!0)}):ie.map(function(rt){return B(rt)}).filter(function(rt){return!Xe.hasKey(rt)&&(Xe.addKey(rt),!0)}));break;case"put":var Ue=new Kr().addKeys(ne.values.map(function(rt){return B(rt)}));le=W.filter(function(rt){return!Ue.hasKey(w.values?B(rt):rt)}).concat(w.values?ie:ie.map(function(rt){return B(rt)}));break;case"delete":var Ke=new Kr().addKeys(ne.keys);le=W.filter(function(rt){return!Ke.hasKey(w.values?B(rt):rt)});break;case"deleteRange":var Be=ne.range;le=W.filter(function(rt){return!pl(B(rt),Be)})}return le},g);return Z===g?g:(Z.sort(function(W,ne){return Yt(I(W),I(ne))||Yt(B(W),B(ne))}),w.limit&&w.limit<1/0&&(Z.length>w.limit?Z.length=w.limit:g.length===w.limit&&Z.length<w.limit&&(_.dirty=!0)),z?Object.freeze(Z):Z)}function va(g,w){return Yt(g.lower,w.lower)===0&&Yt(g.upper,w.upper)===0&&!!g.lowerOpen==!!w.lowerOpen&&!!g.upperOpen==!!w.upperOpen}function ml(g,w){return function(O,M,_,z){if(O===void 0)return M!==void 0?-1:0;if(M===void 0)return 1;if((M=Yt(O,M))===0){if(_&&z)return 0;if(_)return 1;if(z)return-1}return M}(g.lower,w.lower,g.lowerOpen,w.lowerOpen)<=0&&0<=function(O,M,_,z){if(O===void 0)return M!==void 0?1:0;if(M===void 0)return-1;if((M=Yt(O,M))===0){if(_&&z)return 0;if(_)return-1;if(z)return 1}return M}(g.upper,w.upper,g.upperOpen,w.upperOpen)}function _m(g,w,O,M){g.subscribers.add(O),M.addEventListener("abort",function(){var _,z;g.subscribers.delete(O),g.subscribers.size===0&&(_=g,z=w,setTimeout(function(){_.subscribers.size===0&&Ye(z,_)},3e3))})}var Sc={stack:"dbcore",level:0,name:"Cache",create:function(g){var w=g.schema.name;return r(r({},g),{transaction:function(O,M,_){var z,$,J=g.transaction(O,M,_);return M==="readwrite"&&($=(z=new AbortController).signal,_=function(se){return function(){if(z.abort(),M==="readwrite"){for(var B=new Set,j=0,I=O;j<I.length;j++){var Z=I[j],W=ls["idb://".concat(w,"/").concat(Z)];if(W){var ne=g.table(Z),le=W.optimisticOps.filter(function(rt){return rt.trans===J});if(J._explicit&&se&&J.mutatedParts)for(var ie=0,me=Object.values(W.queries.query);ie<me.length;ie++)for(var Se=0,ve=(Xe=me[ie]).slice();Se<ve.length;Se++)Vf((Ue=ve[Se]).obsSet,J.mutatedParts)&&(Ye(Xe,Ue),Ue.subscribers.forEach(function(rt){return B.add(rt)}));else if(0<le.length){W.optimisticOps=W.optimisticOps.filter(function(rt){return rt.trans!==J});for(var Ee=0,je=Object.values(W.queries.query);Ee<je.length;Ee++)for(var Xe,Ue,Ke,Be=0,Ze=(Xe=je[Ee]).slice();Be<Ze.length;Be++)(Ue=Ze[Be]).res!=null&&J.mutatedParts&&(se&&!Ue.dirty?(Ke=Object.isFrozen(Ue.res),Ke=ya(Ue.res,Ue.req,le,ne,Ue,Ke),Ue.dirty?(Ye(Xe,Ue),Ue.subscribers.forEach(function(rt){return B.add(rt)})):Ke!==Ue.res&&(Ue.res=Ke,Ue.promise=We.resolve({result:Ke}))):(Ue.dirty&&Ye(Xe,Ue),Ue.subscribers.forEach(function(rt){return B.add(rt)})))}}}B.forEach(function(rt){return rt()})}}},J.addEventListener("abort",_(!1),{signal:$}),J.addEventListener("error",_(!1),{signal:$}),J.addEventListener("complete",_(!0),{signal:$})),J},table:function(O){var M=g.table(O),_=M.schema.primaryKey;return r(r({},M),{mutate:function(z){var $=ke.trans;if(_.outbound||$.db._options.cache==="disabled"||$.explicit||$.idbtrans.mode!=="readwrite")return M.mutate(z);var J=ls["idb://".concat(w,"/").concat(O)];return J?($=M.mutate(z),z.type!=="add"&&z.type!=="put"||!(50<=z.values.length||hl(_,z).some(function(se){return se==null}))?(J.optimisticOps.push(z),z.mutatedParts&&bc(z.mutatedParts),$.then(function(se){0<se.numFailures&&(Ye(J.optimisticOps,z),(se=di(0,z,se))&&J.optimisticOps.push(se),z.mutatedParts&&bc(z.mutatedParts))}),$.catch(function(){Ye(J.optimisticOps,z),z.mutatedParts&&bc(z.mutatedParts)})):$.then(function(se){var B=di(0,r(r({},z),{values:z.values.map(function(j,I){var Z;return se.failures[I]?j:(j=(Z=_.keyPath)!==null&&Z!==void 0&&Z.includes(".")?Je(j):r({},j),de(j,_.keyPath,se.results[I]),j)})}),se);J.optimisticOps.push(B),queueMicrotask(function(){return z.mutatedParts&&bc(z.mutatedParts)})}),$):M.mutate(z)},query:function(z){if(!cs(ke,M)||!Nh("query",z))return M.query(z);var $=((B=ke.trans)===null||B===void 0?void 0:B.db._options.cache)==="immutable",I=ke,J=I.requery,se=I.signal,B=function(ne,le,ie,me){var Se=ls["idb://".concat(ne,"/").concat(le)];if(!Se)return[];if(!(le=Se.queries[ie]))return[null,!1,Se,null];var ve=le[(me.query?me.query.index.name:null)||""];if(!ve)return[null,!1,Se,null];switch(ie){case"query":var Ee=ve.find(function(je){return je.req.limit===me.limit&&je.req.values===me.values&&va(je.req.query.range,me.query.range)});return Ee?[Ee,!0,Se,ve]:[ve.find(function(je){return("limit"in je.req?je.req.limit:1/0)>=me.limit&&(!me.values||je.req.values)&&ml(je.req.query.range,me.query.range)}),!1,Se,ve];case"count":return Ee=ve.find(function(je){return va(je.req.query.range,me.query.range)}),[Ee,!!Ee,Se,ve]}}(w,O,"query",z),j=B[0],I=B[1],Z=B[2],W=B[3];return j&&I?j.obsSet=z.obsSet:(I=M.query(z).then(function(ne){var le=ne.result;if(j&&(j.res=le),$){for(var ie=0,me=le.length;ie<me;++ie)Object.freeze(le[ie]);Object.freeze(le)}else ne.result=Je(le);return ne}).catch(function(ne){return W&&j&&Ye(W,j),Promise.reject(ne)}),j={obsSet:z.obsSet,promise:I,subscribers:new Set,type:"query",req:z,dirty:!1},W?W.push(j):(W=[j],(Z=Z||(ls["idb://".concat(w,"/").concat(O)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[z.query.index.name||""]=W)),_m(j,W,J,se),j.promise.then(function(ne){return{result:ya(ne.result,z,Z==null?void 0:Z.optimisticOps,M,j,$)}})}})}})}};function Tu(g,w){return new Proxy(g,{get:function(O,M,_){return M==="db"?w:Reflect.get(O,M,_)}})}var Io=(Yn.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Pe.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var w=this._versions,O=w.filter(function(M){return M._cfg.version===g})[0];return O||(O=new this.Version(g),w.push(O),w.sort(Ff),O.stores({}),this._state.autoSchema=!1,O)},Yn.prototype._whenReady=function(g){var w=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?g():new We(function(O,M){if(w._state.openComplete)return M(new Pe.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void M(new Pe.DatabaseClosed);w.open().catch(Tt)}w._state.dbReadyPromise.then(O,M)}).then(g)},Yn.prototype.use=function(g){var w=g.stack,O=g.create,M=g.level,_=g.name;return _&&this.unuse({stack:w,name:_}),g=this._middlewares[w]||(this._middlewares[w]=[]),g.push({stack:w,create:O,level:M??10,name:_}),g.sort(function(z,$){return z.level-$.level}),this},Yn.prototype.unuse=function(g){var w=g.stack,O=g.name,M=g.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(_){return M?_.create!==M:!!O&&_.name!==O})),this},Yn.prototype.open=function(){var g=this;return is(nt,function(){return fl(g)})},Yn.prototype._close=function(){var g=this._state,w=ca.indexOf(this);if(0<=w&&ca.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new We(function(O){g.dbReadyResolve=O}),g.openCanceller=new We(function(O,M){g.cancelOpen=M}))},Yn.prototype.close=function(O){var w=(O===void 0?{disableAutoOpen:!0}:O).disableAutoOpen,O=this._state;w?(O.isBeingOpened&&O.cancelOpen(new Pe.DatabaseClosed),this._close(),O.autoOpen=!1,O.dbOpenError=new Pe.DatabaseClosed):(this._close(),O.autoOpen=this._options.autoOpen||O.isBeingOpened,O.openComplete=!1,O.dbOpenError=null)},Yn.prototype.delete=function(g){var w=this;g===void 0&&(g={disableAutoOpen:!0});var O=0<arguments.length&&typeof arguments[0]!="object",M=this._state;return new We(function(_,z){function $(){w.close(g);var J=w._deps.indexedDB.deleteDatabase(w.name);J.onsuccess=Zt(function(){var se,B,j;se=w._deps,B=w.name,j=se.indexedDB,se=se.IDBKeyRange,jr(j)||B===Ro||vc(j,se).delete(B).catch(Tt),_()}),J.onerror=Vr(z),J.onblocked=w._fireOnBlocked}if(O)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");M.isBeingOpened?M.dbReadyPromise.then($):$()})},Yn.prototype.backendDB=function(){return this.idbdb},Yn.prototype.isOpen=function(){return this.idbdb!==null},Yn.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},Yn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Yn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Yn.prototype,"tables",{get:function(){var g=this;return l(this._allTables).map(function(w){return g._allTables[w]})},enumerable:!1,configurable:!0}),Yn.prototype.transaction=function(){var g=(function(w,O,M){var _=arguments.length;if(_<2)throw new Pe.InvalidArgument("Too few arguments");for(var z=new Array(_-1);--_;)z[_-1]=arguments[_];return M=z.pop(),[w,Me(z),M]}).apply(this,arguments);return this._transaction.apply(this,g)},Yn.prototype._transaction=function(g,w,O){var M=this,_=ke.trans;_&&_.db===this&&g.indexOf("!")===-1||(_=null);var z,$,J=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if($=w.map(function(B){if(B=B instanceof M.Table?B.name:B,typeof B!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return B}),g=="r"||g===ss)z=ss;else{if(g!="rw"&&g!=Ui)throw new Pe.InvalidArgument("Invalid transaction mode: "+g);z=Ui}if(_){if(_.mode===ss&&z===Ui){if(!J)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&$.forEach(function(B){if(_&&_.storeNames.indexOf(B)===-1){if(!J)throw new Pe.SubTransaction("Table "+B+" not included in parent transaction.");_=null}}),J&&_&&!_.active&&(_=null)}}catch(B){return _?_._promise(null,function(j,I){I(B)}):On(B)}var se=(function B(j,I,Z,W,ne){return We.resolve().then(function(){var le=ke.transless||ke,ie=j._createTransaction(I,Z,j._dbSchema,W);if(ie.explicit=!0,le={trans:ie,transless:le},W)ie.idbtrans=W.idbtrans;else try{ie.create(),ie.idbtrans._explicit=!0,j._state.PR1398_maxLoop=3}catch(ve){return ve.name===cn.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return B(j,I,Z,null,ne)})):On(ve)}var me,Se=Oe(ne);return Se&&oo(),le=We.follow(function(){var ve;(me=ne.call(ie,ie))&&(Se?(ve=Do.bind(null,null),me.then(ve,ve)):typeof me.next=="function"&&typeof me.throw=="function"&&(me=Eu(me)))},le),(me&&typeof me.then=="function"?We.resolve(me).then(function(ve){return ie.active?ve:On(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):le.then(function(){return me})).then(function(ve){return W&&ie._resolve(),ie._completion.then(function(){return ve})}).catch(function(ve){return ie._reject(ve),On(ve)})})}).bind(null,this,z,$,_,O);return _?_._promise(z,se,"lock"):ke.trans?is(ke.transless,function(){return M._whenReady(se)}):this._whenReady(se)},Yn.prototype.table=function(g){if(!x(this._allTables,g))throw new Pe.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},Yn);function Yn(g,w){var O=this;this._middlewares={},this.verno=0;var M=Yn.dependencies;this._options=w=r({addons:Yn.addons,autoOpen:!0,indexedDB:M.indexedDB,IDBKeyRange:M.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},M=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,z,$,J,se,B={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};B.dbReadyPromise=new We(function(I){B.dbReadyResolve=I}),B.openCanceller=new We(function(I,Z){B.cancelOpen=Z}),this._state=B,this.name=g,this.on=mu(this,"populate","blocked","versionchange","close",{ready:[be,Tt]}),this.on.ready.subscribe=Y(this.on.ready.subscribe,function(I){return function(Z,W){Yn.vip(function(){var ne,le=O._state;le.openComplete?(le.dbOpenError||We.resolve().then(Z),W&&I(Z)):le.onReadyBeingFired?(le.onReadyBeingFired.push(Z),W&&I(Z)):(I(Z),ne=O,W||I(function ie(){ne.on.ready.unsubscribe(Z),ne.on.ready.unsubscribe(ie)}))})}}),this.Collection=(_=this,as(lc.prototype,function(me,ie){this.db=_;var W=zf,ne=null;if(ie)try{W=ie()}catch(Se){ne=Se}var le=me._ctx,ie=le.table,me=ie.hook.reading.fire;this._ctx={table:ie,index:le.index,isPrimKey:!le.index||ie.schema.primKey.keyPath&&le.index===ie.schema.primKey.name,range:W,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:le.or,valueMapper:me!==Cn?me:null}})),this.Table=(z=this,as(li.prototype,function(I,Z,W){this.db=z,this._tx=W,this.name=I,this.schema=Z,this.hook=z._allTables[I]?z._allTables[I].hook:mu(null,{creating:[dr,Tt],reading:[dn,Cn],updating:[te,Tt],deleting:[tr,Tt]})})),this.Transaction=($=this,as(bu.prototype,function(I,Z,W,ne,le){var ie=this;this.db=$,this.mode=I,this.storeNames=Z,this.schema=W,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=mu(this,"complete","error","abort"),this.parent=le||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We(function(me,Se){ie._resolve=me,ie._reject=Se}),this._completion.then(function(){ie.active=!1,ie.on.complete.fire()},function(me){var Se=ie.active;return ie.active=!1,ie.on.error.fire(me),ie.parent?ie.parent._reject(me):Se&&ie.idbtrans&&ie.idbtrans.abort(),On(me)})})),this.Version=(J=this,as(Rh.prototype,function(I){this.db=J,this._cfg={version:I,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,as(fc.prototype,function(I,Z,W){if(this.db=se,this._ctx={table:I,index:Z===":id"?null:Z,or:W},this._cmp=this._ascending=Yt,this._descending=function(ne,le){return Yt(le,ne)},this._max=function(ne,le){return 0<Yt(ne,le)?ne:le},this._min=function(ne,le){return Yt(ne,le)<0?ne:le},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(I){0<I.newVersion?console.warn("Another connection wants to upgrade database '".concat(O.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(O.name,"'. Closing db now to resume the delete request.")),O.close({disableAutoOpen:!1})}),this.on("blocked",function(I){!I.newVersion||I.newVersion<I.oldVersion?console.warn("Dexie.delete('".concat(O.name,"') was blocked")):console.warn("Upgrade '".concat(O.name,"' blocked by other connection holding version ").concat(I.oldVersion/10))}),this._maxKey=ol(w.IDBKeyRange),this._createTransaction=function(I,Z,W,ne){return new O.Transaction(I,Z,W,O._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function(I){O.on("blocked").fire(I),ca.filter(function(Z){return Z.name===O.name&&Z!==O&&!Z._state.vcFired}).map(function(Z){return Z.on("versionchange").fire(I)})},this.use(wc),this.use(Sc),this.use(Lh),this.use(_h),this.use($f);var j=new Proxy(this,{get:function(I,Z,W){if(Z==="_vip")return!0;if(Z==="table")return function(le){return Tu(O.table(le),j)};var ne=Reflect.get(I,Z,W);return ne instanceof li?Tu(ne,j):Z==="tables"?ne.map(function(le){return Tu(le,j)}):Z==="_createTransaction"?function(){return Tu(ne.apply(this,arguments),j)}:ne}});this.vip=j,M.forEach(function(I){return I(O)})}var lo,Ai=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Bh=(gl.prototype.subscribe=function(g,w,O){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:w,complete:O})},gl.prototype[Ai]=function(){return this},gl);function gl(g){this._subscribe=g}try{lo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{lo={indexedDB:null,IDBKeyRange:null}}function Gf(g){var w,O=!1,M=new Bh(function(_){var z=Oe(g),$,J=!1,se={},B={},j={get closed(){return J},unsubscribe:function(){J||(J=!0,$&&$.abort(),I&&ji.storagemutated.unsubscribe(W))}};_.start&&_.start(j);var I=!1,Z=function(){return Bs(ne)},W=function(le){cl(se,le),Vf(B,se)&&Z()},ne=function(){var le,ie,me;!J&&lo.indexedDB&&(se={},le={},$&&$.abort(),$=new AbortController,me=function(Se){var ve=Xn();try{z&&oo();var Ee=or(g,Se);return Ee=z?Ee.finally(Do):Ee}finally{ve&&hr()}}(ie={subscr:le,signal:$.signal,requery:Z,querier:g,trans:null}),Promise.resolve(me).then(function(Se){O=!0,w=Se,J||ie.signal.aborted||(se={},function(ve){for(var Ee in ve)if(x(ve,Ee))return;return 1}(B=le)||I||(ji(pa,W),I=!0),Bs(function(){return!J&&_.next&&_.next(Se)}))},function(Se){O=!1,["DatabaseClosedError","AbortError"].includes(Se==null?void 0:Se.name)||J||Bs(function(){J||_.error&&_.error(Se)})}))};return setTimeout(Z,0),j});return M.hasValue=function(){return O},M.getValue=function(){return w},M}var hi=Io;function yl(g){var w=Hs;try{Hs=!0,ji.storagemutated.fire(g),xc(g,!0)}finally{Hs=w}}C(hi,r(r({},fn),{delete:function(g){return new hi(g,{addons:[]}).delete()},exists:function(g){return new hi(g,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return w=hi.dependencies,O=w.indexedDB,w=w.IDBKeyRange,(jr(O)?Promise.resolve(O.databases()).then(function(M){return M.map(function(_){return _.name}).filter(function(_){return _!==Ro})}):vc(O,w).toCollection().primaryKeys()).then(g)}catch{return On(new Pe.MissingAPI)}var w,O},defineClass:function(){return function(g){d(this,g)}},ignoreTransaction:function(g){return ke.trans?is(ke.transless,g):g()},vip:Uf,async:function(g){return function(){try{var w=Eu(g.apply(this,arguments));return w&&typeof w.then=="function"?w:We.resolve(w)}catch(O){return On(O)}}},spawn:function(g,w,O){try{var M=Eu(g.apply(O,w||[]));return M&&typeof M.then=="function"?M:We.resolve(M)}catch(_){return On(_)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(g,w){return w=We.resolve(typeof g=="function"?hi.ignoreTransaction(g):g).timeout(w||6e4),ke.trans?ke.trans.waitFor(w):w},Promise:We,debug:{get:function(){return Le},set:function(g){qe(g)}},derive:k,extend:d,props:C,override:Y,Events:mu,on:ji,liveQuery:Gf,extendObservabilitySet:cl,getByKeyPath:re,setByKeyPath:de,delByKeyPath:function(g,w){typeof w=="string"?de(g,w,void 0):"length"in w&&[].map.call(w,function(O){de(g,O,void 0)})},shallowClone:we,deepClone:Je,getObjectDiff:dl,cmp:Yt,asap:G,minKey:-1/0,addons:[],connections:ca,errnames:cn,dependencies:lo,cache:ls,semVer:"4.0.11",version:"4.0.11".split(".").map(function(g){return parseInt(g)}).reduce(function(g,w,O){return g+w/Math.pow(10,2*O)})})),hi.maxKey=ol(hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ji(pa,function(g){Hs||(g=new CustomEvent(dc,{detail:g}),Hs=!0,dispatchEvent(g),Hs=!1)}),addEventListener(dc,function(g){g=g.detail,Hs||yl(g)}));var vl,Hs=!1,pi=function(){};return typeof BroadcastChannel<"u"&&((pi=function(){(vl=new BroadcastChannel(dc)).onmessage=function(g){return g.data&&yl(g.data)}})(),typeof vl.unref=="function"&&vl.unref(),ji(pa,function(g){Hs||vl.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!Io.disableBfCache&&g.persisted){Le&&console.debug("Dexie: handling persisted pagehide"),vl!=null&&vl.close();for(var w=0,O=ca;w<O.length;w++)O[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!Io.disableBfCache&&g.persisted&&(Le&&console.debug("Dexie: handling persisted pageshow"),pi(),yl({all:new Kr(-1/0,[[]])}))})),We.rejectionMapper=function(g,w){return!g||g instanceof it||g instanceof TypeError||g instanceof SyntaxError||!g.name||!ft[g.name]?g:(w=new ft[g.name](w||g.message,g),"stack"in g&&E(w,"stack",{get:function(){return this.inner.stack}}),w)},qe(Le),r(Io,Object.freeze({__proto__:null,Dexie:Io,liveQuery:Gf,Entity:kh,cmp:Yt,PropModification:ao,replacePrefix:function(g,w){return new ao({replacePrefix:[g,w]})},add:function(g){return new ao({add:g})},remove:function(g){return new ao({remove:g})},default:Io,RangeSet:Kr,mergeRanges:fi,rangesOverlap:Su}),{default:Io}),Io})}(w1)),w1.exports}var yR=gR();const Qw=_S(yR),U2=Symbol.for("Dexie"),z1=globalThis[U2]||(globalThis[U2]=Qw);if(Qw.semVer!==z1.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qw.semVer} and ${z1.semVer}`);const{liveQuery:Yq,mergeRanges:Gq,rangesOverlap:Wq,RangeSet:Qq,cmp:Xq,Entity:Jq,PropModification:Zq,replacePrefix:eU,add:tU,remove:nU}=z1,Xt=new z1("flowaDb");Xt.version(1).stores({todoCate:"++id, name, order",todo:"++id, title, isDone, sub, order, isImportant, startDate, endDate, isToday, repeatType, repeatDate, memo, cateId, doneDate",todoLabel:"++id, name, order, color",noteCate:"++id, name, order",noteLabel:"++id, name, order, color",note:"++id, title, order, isImportant, content, labelId, cateId, createdAt, updatedAt"});class vR{async getAll(){return await Xt.todoCate.toArray()}async save(e){return"id"in e?await Xt.todoCate.update(e.id,e):await Xt.todoCate.add(e),e}async delete(e){await Xt.todoCate.delete(e)}async get(e){return await Xt.todoCate.get(e)}}const jl=(t,e)=>{const n=new Date(t),r=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),l=n.getHours(),f=n.getMinutes(),d=n.getSeconds();return e.replace(/yyyy/g,r.toString()).replace(/MM/g,i.toString().padStart(2,"0")).replace(/dd/g,s.toString().padStart(2,"0")).replace(/HH/g,l.toString().padStart(2,"0")).replace(/mm/g,f.toString().padStart(2,"0")).replace(/ss/g,d.toString().padStart(2,"0"))},S1=t=>{if(!t)return!1;const e=new Date,n=new Date(t);return jl(e,"yyyy-MM-dd")===jl(n,"yyyy-MM-dd")};class bR{async getAll(){return await Xt.todo.toArray()}async getAllByIsDone(){return(await Xt.todo.toArray()).filter(e=>e.isDone&&!S1(e.doneDate))}async save(e){const n={...e,isImportant:e.isImportant?1:0};return"id"in n?await Xt.todo.update(n.id,n):await Xt.todo.add(n),n}async findByImportant(){return await Xt.todo.where("isImportant").equals(1).toArray()}async findByImportantAndIsDone(){return(await Xt.todo.where("isImportant").equals(1).toArray()).filter(e=>e.isDone&&!S1(e.doneDate))}async findExistedToday(){return await Xt.todo.filter(e=>{const{isToday:n}=e;return!!n}).toArray()}async findByCateId(e){return await Xt.todo.where({cateId:e}).toArray()}async findByCateIdAndIsDone(e){return(await Xt.todo.where({cateId:e}).toArray()).filter(n=>n.isDone&&!S1(n.doneDate))}async delete(e){await Xt.todo.delete(e)}async get(e){return await Xt.todo.get(e)}}class jO{async getAll(){return await Xt.todoLabel.toArray()}async save(e){return"id"in e?await Xt.todoLabel.update(e.id,e):await Xt.todoLabel.add(e),e}async delete(e){await Xt.todoLabel.delete(e)}async get(e){return await Xt.todoLabel.get(e)}}class KO{constructor(){wr(this,"todoRepository",new bR);wr(this,"todoLabelRepository",new jO)}async getAll(){const e=await this.todoLabelRepository.getAll();return(await this.todoRepository.getAll()).filter(n=>{const{doneDate:r}=n;return!r||jl(r,"yyyy-MM-dd")===jl(new Date,"yyyy-MM-dd")}).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async getAllByIsDone(){const e=await this.todoLabelRepository.getAll();return(await this.todoRepository.getAllByIsDone()).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async findByCateId(e){const n=await this.todoLabelRepository.getAll();return(await this.todoRepository.findByCateId(e)).filter(r=>{const{doneDate:i}=r;return!i||jl(i,"yyyy-MM-dd")===jl(new Date,"yyyy-MM-dd")}).map(r=>{const i=r==null?void 0:r.labelId;if(delete r.labelId,!i)return r;const s=n.find(f=>f.id===i);if(!s)return r;const l={...r,label:s};return delete l.labelId,l}).sort((r,i)=>r.order-i.order)}async findByCateIdAndIsDone(e){const n=await this.todoLabelRepository.getAll();return(await this.todoRepository.findByCateIdAndIsDone(e)).map(r=>{const i=r==null?void 0:r.labelId;if(delete r.labelId,!i)return r;const s=n.find(f=>f.id===i);if(!s)return r;const l={...r,label:s};return delete l.labelId,l}).sort((r,i)=>r.order-i.order)}async findByIsToday(){const e=await this.todoLabelRepository.getAll();return(await this.todoRepository.findExistedToday()).filter(n=>{const{doneDate:r,isToday:i}=n;return S1(i)?!r||jl(r,"yyyy-MM-dd")===jl(new Date,"yyyy-MM-dd"):!1}).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async save(e){var n,r;if("id"in e){const i=(n=e.label)==null?void 0:n.id,s=e;i?s.labelId=i:s.labelId=void 0,delete e.label;const l=await this.todoRepository.save(s),f=await this.todoLabelRepository.getAll(),d=l==null?void 0:l.labelId;if(delete l.labelId,!d)return l;const m=f.find(x=>x.id===d);if(!m)return l;const y={...l,label:m};return delete y.labelId,y}else{const i=(await this.todoRepository.getAll()).sort((d,m)=>d.order-m.order),s=i.length>0?i[i.length-1].order+1e3:1e3,l=(r=e.label)==null?void 0:r.id,f=e;return f.order=s,l&&(f.labelId=l),delete e.label,await this.todoRepository.save(f)}}async findByImportant(){const e=await this.todoLabelRepository.getAll();return(await this.todoRepository.findByImportant()).filter(n=>{const{doneDate:r}=n;return r==null||jl(r,"yyyy-MM-dd")===jl(new Date,"yyyy-MM-dd")}).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async findByImportantAndIsDone(){const e=await this.todoLabelRepository.getAll();return(await this.todoRepository.findByImportantAndIsDone()).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async updateDone(e,n){const r=await this.todoRepository.get(e);return r.isDone=n,await this.todoRepository.save(r)}async delete(e){return await this.todoRepository.delete(e)}async get(e){const n=await this.todoLabelRepository.getAll(),r=await this.todoRepository.get(e),i=r==null?void 0:r.labelId;if(delete r.labelId,!i)return r;const s=n.find(f=>f.id===i);if(!s)return r;const l={...r,label:s};return delete l.labelId,l}}class xR{constructor(){wr(this,"todoCateRepository",new vR);wr(this,"todoBackService",new KO)}async getAll(){return(await this.todoCateRepository.getAll()).sort((e,n)=>e.order-n.order)}async save(e){if("id"in e)return await this.todoCateRepository.save(e);{const n=(await this.todoCateRepository.getAll()).sort((i,s)=>i.order-s.order),r=n.length>0?n[n.length-1].order+1e3:1e3;return e.order=r,await this.todoCateRepository.save(e)}}async delete(e){const n=await this.todoBackService.findByCateId(e);if(n.length>0)for(const r of n)await this.todoBackService.delete(r.id);return await this.todoCateRepository.delete(e)}async get(e){return await this.todoCateRepository.get(e)}}const jd=class jd{constructor(){wr(this,"todoCateService");this.todoCateService=new xR}static getInstance(){return jd.instance||(jd.instance=new jd),jd.instance}async getAll(){return await this.todoCateService.getAll()}async create(e){return await this.todoCateService.save(e)}async update(e){return await this.todoCateService.save(e)}async delete(e){await this.todoCateService.delete(e)}async get(e){return await this.todoCateService.get(e)}};wr(jd,"instance");let gh=jd;async function wR(t){return await gh.getInstance().get(t)}async function SR(){const t=await gh.getInstance().getAll();return await new Promise(e=>setTimeout(e,100)),t}async function CR(t){return await gh.getInstance().create(t)}async function ER(t){return await gh.getInstance().update(t)}async function TR(t){return await gh.getInstance().delete(t)}const Kd=class Kd{constructor(){wr(this,"todoService");this.todoService=new KO}static getInstance(){return Kd.instance||(Kd.instance=new Kd),Kd.instance}async getAll(){return await this.todoService.getAll()}async getCountAll(){return(await this.todoService.getAll()).filter(n=>!n.isDone).length}async getAllByIsDone(){return await this.todoService.getAllByIsDone()}async getAllByCateId(e){return await this.todoService.findByCateId(e)}async getCountAllByCateId(e){return(await this.todoService.findByCateId(e)).filter(r=>!r.isDone).length}async getAllByCateIdAndIsDone(e){return await this.todoService.findByCateIdAndIsDone(e)}async getAllByImportant(){return await this.todoService.findByImportant()}async getCountAllByImportant(){return(await this.todoService.findByImportant()).filter(n=>!n.isDone).length}async getAllByImportantAndIsDone(){return await this.todoService.findByImportantAndIsDone()}async getAllByIsToday(){return await this.todoService.findByIsToday()}async getCountAllByIsToday(){return(await this.todoService.findByIsToday()).filter(n=>!n.isDone).length}async updateDone(e,n){return await this.todoService.updateDone(e,n)}async create(e){return await this.todoService.save(e)}async update(e){return await this.todoService.save(e)}async delete(e){await this.todoService.delete(e)}async get(e){return await this.todoService.get(e)}};wr(Kd,"instance");let eo=Kd;async function OR(){return await eo.getInstance().getAll()}async function AR(t){return await eo.getInstance().create(t)}async function kR(t){return await eo.getInstance().update(t)}async function MR(t){return await eo.getInstance().delete(t)}const Pi="todo",DR=t=>{const e=ai(),{mutate:n}=no({mutationFn:r=>AR(r),onSuccess:()=>{e.invalidateQueries({queryKey:[Ch]}),e.invalidateQueries({queryKey:[Pi,"importantCount"]}),e.invalidateQueries({queryKey:[Pi,"todayCount"]}),e.invalidateQueries({queryKey:[Pi,"allCount"]}),e.invalidateQueries({queryKey:t?[Pi]:[Pi,t]})}});return{mutate:n}},GS=()=>{const t=ai(),{mutate:e}=no({mutationFn:n=>kR(n),onSuccess:()=>{t.invalidateQueries({queryKey:[Ch]}),t.invalidateQueries({queryKey:[Pi]})}});return{mutate:e}},$O=()=>{const t=ai(),{mutate:e}=no({mutationFn:n=>MR(n),onSuccess:()=>{t.invalidateQueries({queryKey:[Ch]}),t.invalidateQueries({queryKey:[Pi]})}});return{mutate:e}},YO=()=>Ti({queryFn:OR,queryKey:[Pi]}),d0="todoCate",Ch="done",RR=()=>{const t=ai();return no({mutationFn:e=>CR(e),onSuccess:()=>{t.invalidateQueries({queryKey:[Ch]}),t.invalidateQueries({queryKey:[d0]})}})},GO=()=>{const t=ai();return no({mutationFn:e=>ER(e),onSuccess:()=>{t.invalidateQueries({queryKey:[Ch]}),t.invalidateQueries({queryKey:[d0]})}})},_R=()=>{const t=ai();return no({mutationFn:e=>TR(e),onSuccess:()=>{t.invalidateQueries({queryKey:[Ch]}),t.invalidateQueries({queryKey:[d0]}),t.invalidateQueries({queryKey:[Pi]})}})},WS=()=>Ti({queryKey:[d0],queryFn:SR}),NR=t=>Ti({queryKey:[d0,t],queryFn:()=>wR(t)});var h0=t=>t.type==="checkbox",Qd=t=>t instanceof Date,To=t=>t==null;const WO=t=>typeof t=="object";var Hr=t=>!To(t)&&!Array.isArray(t)&&WO(t)&&!Qd(t),QO=t=>Hr(t)&&t.target?h0(t.target)?t.target.checked:t.target.value:t,LR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XO=(t,e)=>t.has(LR(e)),BR=t=>{const e=t.constructor&&t.constructor.prototype;return Hr(e)&&e.hasOwnProperty("isPrototypeOf")},QS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ko(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(QS&&(t instanceof Blob||r))&&(n||Hr(t)))if(e=n?[]:{},!n&&!BR(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ko(t[i]));else return t;return e}var mb=t=>Array.isArray(t)?t.filter(Boolean):[],zr=t=>t===void 0,at=(t,e,n)=>{if(!e||!Hr(t))return n;const r=mb(e.split(/[,[\].]+?/)).reduce((i,s)=>To(i)?i:i[s],t);return zr(r)||r===t?zr(t[e])?n:t[e]:r},na=t=>typeof t=="boolean",XS=t=>/^\w*$/.test(t),JO=t=>mb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Gn=(t,e,n)=>{let r=-1;const i=XS(e)?[e]:JO(e),s=i.length,l=s-1;for(;++r<s;){const f=i[r];let d=n;if(r!==l){const m=t[f];d=Hr(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=d,t=t[f]}return t};const H1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ga={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$u={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IR=gt.createContext(null),JS=()=>gt.useContext(IR);var ZO=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const l=s;return e._proxyFormState[l]!==Ga.all&&(e._proxyFormState[l]=!r||Ga.all),n&&(n[l]=!0),t[l]}});return i},Go=t=>Hr(t)&&!Object.keys(t).length,eA=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Go(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(l=>e[l]===(!r||Ga.all))},Ty=t=>Array.isArray(t)?t:[t],tA=(t,e,n)=>!t||!e||t===e||Ty(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ZS(t){const e=gt.useRef(t);e.current=t,gt.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function zR(t){const e=JS(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[l,f]=gt.useState(n._formState),d=gt.useRef(!0),m=gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=gt.useRef(i);return y.current=i,ZS({disabled:r,next:x=>d.current&&tA(y.current,x.name,s)&&eA(x,m.current,n._updateFormState)&&f({...n._formState,...x}),subject:n._subjects.state}),gt.useEffect(()=>(d.current=!0,m.current.isValid&&n._updateValid(!0),()=>{d.current=!1}),[n]),gt.useMemo(()=>ZO(l,n,m.current,!1),[l,n])}var eu=t=>typeof t=="string",nA=(t,e,n,r,i)=>eu(t)?(r&&e.watch.add(t),at(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),at(n,s))):(r&&(e.watchAll=!0),n);function HR(t){const e=JS(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:l}=t||{},f=gt.useRef(r);f.current=r,ZS({disabled:s,subject:n._subjects.values,next:y=>{tA(f.current,y.name,l)&&m(Ko(nA(f.current,n._names,y.values||n._formValues,!1,i)))}});const[d,m]=gt.useState(n._getWatch(r,i));return gt.useEffect(()=>n._removeUnmounted()),d}function PR(t){const e=JS(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,l=XO(i._names.array,n),f=HR({control:i,name:n,defaultValue:at(i._formValues,n,at(i._defaultValues,n,t.defaultValue)),exact:!0}),d=zR({control:i,name:n,exact:!0}),m=gt.useRef(i.register(n,{...t.rules,value:f,...na(t.disabled)?{disabled:t.disabled}:{}})),y=gt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!at(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!at(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!at(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!at(d.validatingFields,n)},error:{enumerable:!0,get:()=>at(d.errors,n)}}),[d,n]),x=gt.useMemo(()=>({name:n,value:f,...na(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:C=>m.current.onChange({target:{value:QO(C),name:n},type:H1.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:at(i._formValues,n),name:n},type:H1.BLUR}),ref:C=>{const T=at(i._fields,n);T&&C&&(T._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:E=>C.setCustomValidity(E),reportValidity:()=>C.reportValidity()})}}),[n,i._formValues,r,d.disabled,f,i._fields]);return gt.useEffect(()=>{const C=i._options.shouldUnregister||s,T=(E,k)=>{const R=at(i._fields,E);R&&R._f&&(R._f.mount=k)};if(T(n,!0),C){const E=Ko(at(i._options.defaultValues,n));Gn(i._defaultValues,n,E),zr(at(i._formValues,n))&&Gn(i._formValues,n,E)}return!l&&i.register(n),()=>{(l?C&&!i._state.action:C)?i.unregister(n):T(n,!1)}},[n,i,l,s]),gt.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),gt.useMemo(()=>({field:x,formState:d,fieldState:y}),[x,d,y])}const uf=t=>t.render(PR(t));var FR=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},V2=t=>({isOnSubmit:!t||t===Ga.onSubmit,isOnBlur:t===Ga.onBlur,isOnChange:t===Ga.onChange,isOnAll:t===Ga.all,isOnTouch:t===Ga.onTouched}),j2=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Oy=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=at(t,i);if(s){const{_f:l,...f}=s;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Oy(f,e))break}else if(Hr(f)&&Oy(f,e))break}}};var qR=(t,e,n)=>{const r=Ty(at(t,n));return Gn(r,"root",e[n]),Gn(t,n,r),t},eC=t=>t.type==="file",Zl=t=>typeof t=="function",P1=t=>{if(!QS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},C1=t=>eu(t),tC=t=>t.type==="radio",F1=t=>t instanceof RegExp;const K2={value:!1,isValid:!1},$2={value:!0,isValid:!0};var rA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zr(t[0].attributes.value)?zr(t[0].value)||t[0].value===""?$2:{value:t[0].value,isValid:!0}:$2:K2}return K2};const Y2={isValid:!1,value:null};var iA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Y2):Y2;function G2(t,e,n="validate"){if(C1(t)||Array.isArray(t)&&t.every(C1)||na(t)&&!t)return{type:n,message:C1(t)?t:"",ref:e}}var Np=t=>Hr(t)&&!F1(t)?t:{value:t,message:""},W2=async(t,e,n,r,i,s)=>{const{ref:l,refs:f,required:d,maxLength:m,minLength:y,min:x,max:C,pattern:T,validate:E,name:k,valueAsNumber:R,mount:H}=t._f,K=at(n,k);if(!H||e.has(k))return{};const Y=f?f[0]:l,U=Ve=>{i&&Y.reportValidity&&(Y.setCustomValidity(na(Ve)?"":Ve||""),Y.reportValidity())},G={},re=tC(l),de=h0(l),we=re||de,fe=(R||eC(l))&&zr(l.value)&&zr(K)||P1(l)&&l.value===""||K===""||Array.isArray(K)&&!K.length,Me=FR.bind(null,k,r,G),et=(Ve,Je,wt,Et=$u.maxLength,Ne=$u.minLength)=>{const $e=Ve?Je:wt;G[k]={type:Ve?Et:Ne,message:$e,ref:l,...Me(Ve?Et:Ne,$e)}};if(s?!Array.isArray(K)||!K.length:d&&(!we&&(fe||To(K))||na(K)&&!K||de&&!rA(f).isValid||re&&!iA(f).isValid)){const{value:Ve,message:Je}=C1(d)?{value:!!d,message:d}:Np(d);if(Ve&&(G[k]={type:$u.required,message:Je,ref:Y,...Me($u.required,Je)},!r))return U(Je),G}if(!fe&&(!To(x)||!To(C))){let Ve,Je;const wt=Np(C),Et=Np(x);if(!To(K)&&!isNaN(K)){const Ne=l.valueAsNumber||K&&+K;To(wt.value)||(Ve=Ne>wt.value),To(Et.value)||(Je=Ne<Et.value)}else{const Ne=l.valueAsDate||new Date(K),$e=ee=>new Date(new Date().toDateString()+" "+ee),Ye=l.type=="time",mt=l.type=="week";eu(wt.value)&&K&&(Ve=Ye?$e(K)>$e(wt.value):mt?K>wt.value:Ne>new Date(wt.value)),eu(Et.value)&&K&&(Je=Ye?$e(K)<$e(Et.value):mt?K<Et.value:Ne<new Date(Et.value))}if((Ve||Je)&&(et(!!Ve,wt.message,Et.message,$u.max,$u.min),!r))return U(G[k].message),G}if((m||y)&&!fe&&(eu(K)||s&&Array.isArray(K))){const Ve=Np(m),Je=Np(y),wt=!To(Ve.value)&&K.length>+Ve.value,Et=!To(Je.value)&&K.length<+Je.value;if((wt||Et)&&(et(wt,Ve.message,Je.message),!r))return U(G[k].message),G}if(T&&!fe&&eu(K)){const{value:Ve,message:Je}=Np(T);if(F1(Ve)&&!K.match(Ve)&&(G[k]={type:$u.pattern,message:Je,ref:l,...Me($u.pattern,Je)},!r))return U(Je),G}if(E){if(Zl(E)){const Ve=await E(K,n),Je=G2(Ve,Y);if(Je&&(G[k]={...Je,...Me($u.validate,Je.message)},!r))return U(Je.message),G}else if(Hr(E)){let Ve={};for(const Je in E){if(!Go(Ve)&&!r)break;const wt=G2(await E[Je](K,n),Y,Je);wt&&(Ve={...wt,...Me(Je,wt.message)},U(wt.message),r&&(G[k]=Ve))}if(!Go(Ve)&&(G[k]={ref:Y,...Ve},!r))return G}}return U(!0),G};function UR(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zr(t)?r++:t[e[r++]];return t}function VR(t){for(const e in t)if(t.hasOwnProperty(e)&&!zr(t[e]))return!1;return!0}function ri(t,e){const n=Array.isArray(e)?e:XS(e)?[e]:JO(e),r=n.length===1?t:UR(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Hr(r)&&Go(r)||Array.isArray(r)&&VR(r))&&ri(t,n.slice(0,-1)),t}var Xx=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Xw=t=>To(t)||!WO(t);function cf(t,e){if(Xw(t)||Xw(e))return t===e;if(Qd(t)&&Qd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Qd(s)&&Qd(l)||Hr(s)&&Hr(l)||Array.isArray(s)&&Array.isArray(l)?!cf(s,l):s!==l)return!1}}return!0}var oA=t=>t.type==="select-multiple",jR=t=>tC(t)||h0(t),Jx=t=>P1(t)&&t.isConnected,sA=t=>{for(const e in t)if(Zl(t[e]))return!0;return!1};function q1(t,e={}){const n=Array.isArray(t);if(Hr(t)||n)for(const r in t)Array.isArray(t[r])||Hr(t[r])&&!sA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},q1(t[r],e[r])):To(t[r])||(e[r]=!0);return e}function aA(t,e,n){const r=Array.isArray(t);if(Hr(t)||r)for(const i in t)Array.isArray(t[i])||Hr(t[i])&&!sA(t[i])?zr(e)||Xw(n[i])?n[i]=Array.isArray(t[i])?q1(t[i],[]):{...q1(t[i])}:aA(t[i],To(e)?{}:e[i],n[i]):n[i]=!cf(t[i],e[i]);return n}var hy=(t,e)=>aA(t,e,q1(e)),lA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zr(t)?t:e?t===""?NaN:t&&+t:n&&eu(t)?new Date(t):r?r(t):t;function Zx(t){const e=t.ref;return eC(e)?e.files:tC(e)?iA(t.refs).value:oA(e)?[...e.selectedOptions].map(({value:n})=>n):h0(e)?rA(t.refs).value:lA(zr(e.value)?t.ref.value:e.value,t)}var KR=(t,e,n,r)=>{const i={};for(const s of t){const l=at(e,s);l&&Gn(i,s,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},py=t=>zr(t)?t:F1(t)?t.source:Hr(t)?F1(t.value)?t.value.source:t.value:t;const Q2="AsyncFunction";var $R=t=>!!t&&!!t.validate&&!!(Zl(t.validate)&&t.validate.constructor.name===Q2||Hr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Q2)),YR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function X2(t,e,n){const r=at(t,n);if(r||XS(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),l=at(e,s),f=at(t,s);if(l&&!Array.isArray(l)&&n!==s)return{name:n};if(f&&f.type)return{name:s,error:f};i.pop()}return{name:n}}var GR=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,WR=(t,e)=>!mb(at(t,e)).length&&ri(t,e);const QR={mode:Ga.onSubmit,reValidateMode:Ga.onChange,shouldFocusError:!0};function XR(t={}){let e={...QR,...t},n={submitCount:0,isDirty:!1,isLoading:Zl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Hr(e.defaultValues)||Hr(e.values)?Ko(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ko(i),l={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Xx(),array:Xx(),state:Xx()},C=V2(e.mode),T=V2(e.reValidateMode),E=e.criteriaMode===Ga.all,k=te=>ge=>{clearTimeout(m),m=setTimeout(te,ge)},R=async te=>{if(!e.disabled&&(y.isValid||te)){const ge=e.resolver?Go((await we()).errors):await Me(r,!0);ge!==n.isValid&&x.state.next({isValid:ge})}},H=(te,ge)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((te||Array.from(f.mount)).forEach(be=>{be&&(ge?Gn(n.validatingFields,be,ge):ri(n.validatingFields,be))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Go(n.validatingFields)}))},K=(te,ge=[],be,Le,qe=!0,Ie=!0)=>{if(Le&&be&&!e.disabled){if(l.action=!0,Ie&&Array.isArray(at(r,te))){const st=be(at(r,te),Le.argA,Le.argB);qe&&Gn(r,te,st)}if(Ie&&Array.isArray(at(n.errors,te))){const st=be(at(n.errors,te),Le.argA,Le.argB);qe&&Gn(n.errors,te,st),WR(n.errors,te)}if(y.touchedFields&&Ie&&Array.isArray(at(n.touchedFields,te))){const st=be(at(n.touchedFields,te),Le.argA,Le.argB);qe&&Gn(n.touchedFields,te,st)}y.dirtyFields&&(n.dirtyFields=hy(i,s)),x.state.next({name:te,isDirty:Ve(te,ge),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Gn(s,te,ge)},Y=(te,ge)=>{Gn(n.errors,te,ge),x.state.next({errors:n.errors})},U=te=>{n.errors=te,x.state.next({errors:n.errors,isValid:!1})},G=(te,ge,be,Le)=>{const qe=at(r,te);if(qe){const Ie=at(s,te,zr(be)?at(i,te):be);zr(Ie)||Le&&Le.defaultChecked||ge?Gn(s,te,ge?Ie:Zx(qe._f)):Et(te,Ie),l.mount&&R()}},re=(te,ge,be,Le,qe)=>{let Ie=!1,st=!1;const St={name:te};if(!e.disabled){const sn=!!(at(r,te)&&at(r,te)._f&&at(r,te)._f.disabled);if(!be||Le){y.isDirty&&(st=n.isDirty,n.isDirty=St.isDirty=Ve(),Ie=st!==St.isDirty);const Ht=sn||cf(at(i,te),ge);st=!!(!sn&&at(n.dirtyFields,te)),Ht||sn?ri(n.dirtyFields,te):Gn(n.dirtyFields,te,!0),St.dirtyFields=n.dirtyFields,Ie=Ie||y.dirtyFields&&st!==!Ht}if(be){const Ht=at(n.touchedFields,te);Ht||(Gn(n.touchedFields,te,be),St.touchedFields=n.touchedFields,Ie=Ie||y.touchedFields&&Ht!==be)}Ie&&qe&&x.state.next(St)}return Ie?St:{}},de=(te,ge,be,Le)=>{const qe=at(n.errors,te),Ie=y.isValid&&na(ge)&&n.isValid!==ge;if(e.delayError&&be?(d=k(()=>Y(te,be)),d(e.delayError)):(clearTimeout(m),d=null,be?Gn(n.errors,te,be):ri(n.errors,te)),(be?!cf(qe,be):qe)||!Go(Le)||Ie){const st={...Le,...Ie&&na(ge)?{isValid:ge}:{},errors:n.errors,name:te};n={...n,...st},x.state.next(st)}},we=async te=>{H(te,!0);const ge=await e.resolver(s,e.context,KR(te||f.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return H(te),ge},fe=async te=>{const{errors:ge}=await we(te);if(te)for(const be of te){const Le=at(ge,be);Le?Gn(n.errors,be,Le):ri(n.errors,be)}else n.errors=ge;return ge},Me=async(te,ge,be={valid:!0})=>{for(const Le in te){const qe=te[Le];if(qe){const{_f:Ie,...st}=qe;if(Ie){const St=f.array.has(Ie.name),sn=qe._f&&$R(qe._f);sn&&y.validatingFields&&H([Le],!0);const Ht=await W2(qe,f.disabled,s,E,e.shouldUseNativeValidation&&!ge,St);if(sn&&y.validatingFields&&H([Le]),Ht[Ie.name]&&(be.valid=!1,ge))break;!ge&&(at(Ht,Ie.name)?St?qR(n.errors,Ht,Ie.name):Gn(n.errors,Ie.name,Ht[Ie.name]):ri(n.errors,Ie.name))}!Go(st)&&await Me(st,ge,be)}}return be.valid},et=()=>{for(const te of f.unMount){const ge=at(r,te);ge&&(ge._f.refs?ge._f.refs.every(be=>!Jx(be)):!Jx(ge._f.ref))&&ot(te)}f.unMount=new Set},Ve=(te,ge)=>!e.disabled&&(te&&ge&&Gn(s,te,ge),!cf(Oe(),i)),Je=(te,ge,be)=>nA(te,f,{...l.mount?s:zr(ge)?i:eu(te)?{[te]:ge}:ge},be,ge),wt=te=>mb(at(l.mount?s:i,te,e.shouldUnregister?at(i,te,[]):[])),Et=(te,ge,be={})=>{const Le=at(r,te);let qe=ge;if(Le){const Ie=Le._f;Ie&&(!Ie.disabled&&Gn(s,te,lA(ge,Ie)),qe=P1(Ie.ref)&&To(ge)?"":ge,oA(Ie.ref)?[...Ie.ref.options].forEach(st=>st.selected=qe.includes(st.value)):Ie.refs?h0(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(st=>(!st.defaultChecked||!st.disabled)&&(st.checked=Array.isArray(qe)?!!qe.find(St=>St===st.value):qe===st.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!qe):Ie.refs.forEach(st=>st.checked=st.value===qe):eC(Ie.ref)?Ie.ref.value="":(Ie.ref.value=qe,Ie.ref.type||x.values.next({name:te,values:{...s}})))}(be.shouldDirty||be.shouldTouch)&&re(te,qe,be.shouldTouch,be.shouldDirty,!0),be.shouldValidate&&ee(te)},Ne=(te,ge,be)=>{for(const Le in ge){const qe=ge[Le],Ie=`${te}.${Le}`,st=at(r,Ie);(f.array.has(te)||Hr(qe)||st&&!st._f)&&!Qd(qe)?Ne(Ie,qe,be):Et(Ie,qe,be)}},$e=(te,ge,be={})=>{const Le=at(r,te),qe=f.array.has(te),Ie=Ko(ge);Gn(s,te,Ie),qe?(x.array.next({name:te,values:{...s}}),(y.isDirty||y.dirtyFields)&&be.shouldDirty&&x.state.next({name:te,dirtyFields:hy(i,s),isDirty:Ve(te,Ie)})):Le&&!Le._f&&!To(Ie)?Ne(te,Ie,be):Et(te,Ie,be),j2(te,f)&&x.state.next({...n}),x.values.next({name:l.mount?te:void 0,values:{...s}})},Ye=async te=>{l.mount=!0;const ge=te.target;let be=ge.name,Le=!0;const qe=at(r,be),Ie=()=>ge.type?Zx(qe._f):QO(te),st=St=>{Le=Number.isNaN(St)||Qd(St)&&isNaN(St.getTime())||cf(St,at(s,be,St))};if(qe){let St,sn;const Ht=Ie(),hn=te.type===H1.BLUR||te.type===H1.FOCUS_OUT,Mr=!YR(qe._f)&&!e.resolver&&!at(n.errors,be)&&!qe._f.deps||GR(hn,at(n.touchedFields,be),n.isSubmitted,T,C),Qr=j2(be,f,hn);Gn(s,be,Ht),hn?(qe._f.onBlur&&qe._f.onBlur(te),d&&d(0)):qe._f.onChange&&qe._f.onChange(te);const nr=re(be,Ht,hn,!1),Pr=!Go(nr)||Qr;if(!hn&&x.values.next({name:be,type:te.type,values:{...s}}),Mr)return y.isValid&&(e.mode==="onBlur"&&hn?R():hn||R()),Pr&&x.state.next({name:be,...Qr?{}:nr});if(!hn&&Qr&&x.state.next({...n}),e.resolver){const{errors:Dr}=await we([be]);if(st(Ht),Le){const Ce=X2(n.errors,r,be),nt=X2(Dr,r,Ce.name||be);St=nt.error,be=nt.name,sn=Go(Dr)}}else H([be],!0),St=(await W2(qe,f.disabled,s,E,e.shouldUseNativeValidation))[be],H([be]),st(Ht),Le&&(St?sn=!1:y.isValid&&(sn=await Me(r,!0)));Le&&(qe._f.deps&&ee(qe._f.deps),de(be,sn,St,nr))}},mt=(te,ge)=>{if(at(n.errors,ge)&&te.focus)return te.focus(),1},ee=async(te,ge={})=>{let be,Le;const qe=Ty(te);if(e.resolver){const Ie=await fe(zr(te)?te:qe);be=Go(Ie),Le=te?!qe.some(st=>at(Ie,st)):be}else te?(Le=(await Promise.all(qe.map(async Ie=>{const st=at(r,Ie);return await Me(st&&st._f?{[Ie]:st}:st)}))).every(Boolean),!(!Le&&!n.isValid)&&R()):Le=be=await Me(r);return x.state.next({...!eu(te)||y.isValid&&be!==n.isValid?{}:{name:te},...e.resolver||!te?{isValid:be}:{},errors:n.errors}),ge.shouldFocus&&!Le&&Oy(r,mt,te?qe:f.mount),Le},Oe=te=>{const ge={...l.mount?s:i};return zr(te)?ge:eu(te)?at(ge,te):te.map(be=>at(ge,be))},tt=(te,ge)=>({invalid:!!at((ge||n).errors,te),isDirty:!!at((ge||n).dirtyFields,te),error:at((ge||n).errors,te),isValidating:!!at(n.validatingFields,te),isTouched:!!at((ge||n).touchedFields,te)}),it=te=>{te&&Ty(te).forEach(ge=>ri(n.errors,ge)),x.state.next({errors:te?n.errors:{}})},Ge=(te,ge,be)=>{const Le=(at(r,te,{_f:{}})._f||{}).ref,qe=at(n.errors,te)||{},{ref:Ie,message:st,type:St,...sn}=qe;Gn(n.errors,te,{...sn,...ge,ref:Le}),x.state.next({name:te,errors:n.errors,isValid:!1}),be&&be.shouldFocus&&Le&&Le.focus&&Le.focus()},ht=(te,ge)=>Zl(te)?x.values.subscribe({next:be=>te(Je(void 0,ge),be)}):Je(te,ge,!0),ot=(te,ge={})=>{for(const be of te?Ty(te):f.mount)f.mount.delete(be),f.array.delete(be),ge.keepValue||(ri(r,be),ri(s,be)),!ge.keepError&&ri(n.errors,be),!ge.keepDirty&&ri(n.dirtyFields,be),!ge.keepTouched&&ri(n.touchedFields,be),!ge.keepIsValidating&&ri(n.validatingFields,be),!e.shouldUnregister&&!ge.keepDefaultValue&&ri(i,be);x.values.next({values:{...s}}),x.state.next({...n,...ge.keepDirty?{isDirty:Ve()}:{}}),!ge.keepIsValid&&R()},cn=({disabled:te,name:ge,field:be,fields:Le})=>{(na(te)&&l.mount||te||f.disabled.has(ge))&&(te?f.disabled.add(ge):f.disabled.delete(ge),re(ge,Zx(be?be._f:at(Le,ge)._f),!1,!1,!0))},yt=(te,ge={})=>{let be=at(r,te);const Le=na(ge.disabled)||na(e.disabled);return Gn(r,te,{...be||{},_f:{...be&&be._f?be._f:{ref:{name:te}},name:te,mount:!0,...ge}}),f.mount.add(te),be?cn({field:be,disabled:na(ge.disabled)?ge.disabled:e.disabled,name:te}):G(te,!0,ge.value),{...Le?{disabled:ge.disabled||e.disabled}:{},...e.progressive?{required:!!ge.required,min:py(ge.min),max:py(ge.max),minLength:py(ge.minLength),maxLength:py(ge.maxLength),pattern:py(ge.pattern)}:{},name:te,onChange:Ye,onBlur:Ye,ref:qe=>{if(qe){yt(te,ge),be=at(r,te);const Ie=zr(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,st=jR(Ie),St=be._f.refs||[];if(st?St.find(sn=>sn===Ie):Ie===be._f.ref)return;Gn(r,te,{_f:{...be._f,...st?{refs:[...St.filter(Jx),Ie,...Array.isArray(at(i,te))?[{}]:[]],ref:{type:Ie.type,name:te}}:{ref:Ie}}}),G(te,!1,void 0,Ie)}else be=at(r,te,{}),be._f&&(be._f.mount=!1),(e.shouldUnregister||ge.shouldUnregister)&&!(XO(f.array,te)&&l.action)&&f.unMount.add(te)}}},Pe=()=>e.shouldFocusError&&Oy(r,mt,f.mount),ft=te=>{na(te)&&(x.state.next({disabled:te}),Oy(r,(ge,be)=>{const Le=at(r,be);Le&&(ge.disabled=Le._f.disabled||te,Array.isArray(Le._f.refs)&&Le._f.refs.forEach(qe=>{qe.disabled=Le._f.disabled||te}))},0,!1))},fn=(te,ge)=>async be=>{let Le;be&&(be.preventDefault&&be.preventDefault(),be.persist&&be.persist());let qe=Ko(s);if(f.disabled.size)for(const Ie of f.disabled)Gn(qe,Ie,void 0);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Ie,values:st}=await we();n.errors=Ie,qe=st}else await Me(r);if(ri(n.errors,"root"),Go(n.errors)){x.state.next({errors:{}});try{await te(qe,be)}catch(Ie){Le=Ie}}else ge&&await ge({...n.errors},be),Pe(),setTimeout(Pe);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Go(n.errors)&&!Le,submitCount:n.submitCount+1,errors:n.errors}),Le)throw Le},Tt=(te,ge={})=>{at(r,te)&&(zr(ge.defaultValue)?$e(te,Ko(at(i,te))):($e(te,ge.defaultValue),Gn(i,te,Ko(ge.defaultValue))),ge.keepTouched||ri(n.touchedFields,te),ge.keepDirty||(ri(n.dirtyFields,te),n.isDirty=ge.defaultValue?Ve(te,Ko(at(i,te))):Ve()),ge.keepError||(ri(n.errors,te),y.isValid&&R()),x.state.next({...n}))},Cn=(te,ge={})=>{const be=te?Ko(te):i,Le=Ko(be),qe=Go(te),Ie=qe?i:Le;if(ge.keepDefaultValues||(i=be),!ge.keepValues){if(ge.keepDirtyValues){const st=new Set([...f.mount,...Object.keys(hy(i,s))]);for(const St of Array.from(st))at(n.dirtyFields,St)?Gn(Ie,St,at(s,St)):$e(St,at(Ie,St))}else{if(QS&&zr(te))for(const st of f.mount){const St=at(r,st);if(St&&St._f){const sn=Array.isArray(St._f.refs)?St._f.refs[0]:St._f.ref;if(P1(sn)){const Ht=sn.closest("form");if(Ht){Ht.reset();break}}}}r={}}s=e.shouldUnregister?ge.keepDefaultValues?Ko(i):{}:Ko(Ie),x.array.next({values:{...Ie}}),x.values.next({values:{...Ie}})}f={mount:ge.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!y.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,l.watch=!!e.shouldUnregister,x.state.next({submitCount:ge.keepSubmitCount?n.submitCount:0,isDirty:qe?!1:ge.keepDirty?n.isDirty:!!(ge.keepDefaultValues&&!cf(te,i)),isSubmitted:ge.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:qe?{}:ge.keepDirtyValues?ge.keepDefaultValues&&s?hy(i,s):n.dirtyFields:ge.keepDefaultValues&&te?hy(i,te):ge.keepDirty?n.dirtyFields:{},touchedFields:ge.keepTouched?n.touchedFields:{},errors:ge.keepErrors?n.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},dn=(te,ge)=>Cn(Zl(te)?te(s):te,ge);return{control:{register:yt,unregister:ot,getFieldState:tt,handleSubmit:fn,setError:Ge,_executeSchema:we,_getWatch:Je,_getDirty:Ve,_updateValid:R,_removeUnmounted:et,_updateFieldArray:K,_updateDisabledField:cn,_getFieldArray:wt,_reset:Cn,_resetDefaultValues:()=>Zl(e.defaultValues)&&e.defaultValues().then(te=>{dn(te,e.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:te=>{n={...n,...te}},_disableForm:ft,_subjects:x,_proxyFormState:y,_setErrors:U,get _fields(){return r},get _formValues(){return s},get _state(){return l},set _state(te){l=te},get _defaultValues(){return i},get _names(){return f},set _names(te){f=te},get _formState(){return n},set _formState(te){n=te},get _options(){return e},set _options(te){e={...e,...te}}},trigger:ee,register:yt,handleSubmit:fn,watch:ht,setValue:$e,getValues:Oe,reset:dn,resetField:Tt,clearErrors:it,unregister:ot,setError:Ge,setFocus:(te,ge={})=>{const be=at(r,te),Le=be&&be._f;if(Le){const qe=Le.refs?Le.refs[0]:Le.ref;qe.focus&&(qe.focus(),ge.shouldSelect&&Zl(qe.select)&&qe.select())}},getFieldState:tt}}function Eh(t={}){const e=gt.useRef(void 0),n=gt.useRef(void 0),[r,i]=gt.useState({isDirty:!1,isValidating:!1,isLoading:Zl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Zl(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...XR(t),formState:r});const s=e.current.control;return s._options=t,ZS({subject:s._subjects.state,next:l=>{eA(l,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),gt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),gt.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==r.isDirty&&s._subjects.state.next({isDirty:l})}},[s,r.isDirty]),gt.useEffect(()=>{t.values&&!cf(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(l=>({...l}))):s._resetDefaultValues()},[t.values,s]),gt.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),gt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),gt.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=ZO(r,s),e.current}const JR=()=>{const{register:t,handleSubmit:e,formState:{errors:n},reset:r}=Eh({defaultValues:{name:"",order:0}}),{mutate:i}=RR(),s=e(async l=>{await i(l),r()});return{register:t,onSubmit:s,errors:n}};function uA(){const{register:t,onSubmit:e}=JR();return L(c0,{label:"todo-cate",size:"sm",placeholder:"새 목록",onSubmit:e,...t("name")})}class ZR{constructor(){wr(this,"todoLabelRepository",new jO)}async getAll(){return(await this.todoLabelRepository.getAll()).sort((e,n)=>e.order-n.order)}async save(e){if("id"in e)return await this.todoLabelRepository.save(e);{const n=(await this.todoLabelRepository.getAll()).sort((i,s)=>i.order-s.order),r=n.length>0?n[n.length-1].order+1e3:1e3;return e.order=r,await this.todoLabelRepository.save(e)}}async delete(e){return await this.todoLabelRepository.delete(e)}async get(e){return await this.todoLabelRepository.get(e)}}const $d=class $d{constructor(){wr(this,"todoLabelService");this.todoLabelService=new ZR}static getInstance(){return $d.instance||($d.instance=new $d),$d.instance}async getAll(){return await this.todoLabelService.getAll()}async create(e){return await this.todoLabelService.save(e)}async update(e){return await this.todoLabelService.save(e)}async delete(e){return await this.todoLabelService.delete(e)}async get(e){return await this.todoLabelService.get(e)}};wr($d,"instance");let qy=$d;async function e_(){return await qy.getInstance().getAll()}async function t_(t){return await qy.getInstance().create(t)}async function n_(t){return await qy.getInstance().delete(t)}const nC="todoLabel",r_=()=>{const t=ai();return no({mutationFn:e=>t_(e),onSuccess:()=>{t.invalidateQueries({queryKey:[nC]})}})},i_=()=>{const t=ai();return no({mutationFn:e=>n_(e),onSuccess:()=>{t.invalidateQueries({queryKey:[nC]})}})},o_=()=>Ti({queryKey:[nC],queryFn:e_}),s_={input:t=>({border:"none",outline:"none",background:"none",padding:"0",color:t.colors.text.primary,"&::placeholder":{color:t.colors.primary.normal}}),span:()=>({fontSize:"14px"})};function a_({isEdit:t,onSubmit:e,onChange:n,value:r}){const i=F.useRef(null),{input:s,span:l}=s_;return F.useEffect(()=>{t&&i.current&&(i.current.focus(),i.current.select())},[t]),L(ru,{children:t?L("input",{css:s,type:"text",ref:i,value:r,onChange:n,onBlur:e,onKeyDown:f=>{f.key==="Enter"&&(e==null||e())}}):L("span",{css:l,children:r})})}const l_=({cateId:t,isToday:e,isImportant:n})=>{const{register:r,handleSubmit:i,reset:s}=Eh({defaultValues:{title:"",order:0,isDone:!1,isImportant:0,cateId:t}}),{mutate:l}=DR(t),f=i(async d=>{if(e){const m=new Date;d.isToday=m.toISOString()}n&&(d.isImportant=1),await l(d),s()});return F.useEffect(()=>{s({title:"",order:0,isDone:!1,isImportant:0,cateId:t})},[t,s]),{register:r,onSubmit:f}},u_={container:t=>({position:"sticky",top:"60px",zIndex:1200,backgroundColor:t.colors.background.gray})};function gb({cateId:t,isToday:e,isImportant:n}){const{container:r}=u_,{register:i,onSubmit:s}=l_({cateId:t,isToday:e,isImportant:n});return L("div",{css:r,children:L(c0,{label:"todo",size:"md",placeholder:"새 작업 추가",onSubmit:s,...i("title")})})}const c_={container:t=>e=>({display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",minHeight:"45px",minWidth:"200px",padding:"0 15px 0 0",backgroundColor:e.colors.background.deep,cursor:"pointer",transition:"none",overflowY:"hidden",color:t?e.colors.text.secondary:e.colors.text.primary,"&:hover":{backgroundColor:e.colors.background.hover}}),label:t=>({display:"block",width:"8px",height:"45px",backgroundColor:t,marginRight:"5px"}),titleSpan:t=>()=>({fontSize:"14px",textDecoration:t?"line-through":"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"}),innerContainer:()=>({display:"flex",alignItems:"center",gap:"10px",flexDirection:"row"}),spanDoneDate:t=>({color:t.colors.text.secondary,fontSize:t.typography.size.small,textDecoration:"none !important"}),todayButton:()=>({border:"none",backgroundColor:"transparent",cursor:"pointer"})},Jw=(t,e)=>{const n=new Date(t),r=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),l=n.getHours(),f=n.getMinutes(),d=n.getSeconds();return e.replace(/yyyy/g,r.toString()).replace(/MM/g,i.toString().padStart(2,"0")).replace(/dd/g,s.toString().padStart(2,"0")).replace(/HH/g,l.toString().padStart(2,"0")).replace(/mm/g,f.toString().padStart(2,"0")).replace(/ss/g,d.toString().padStart(2,"0"))},rC=t=>{if(!t)return!1;const e=new Date(t);return Jw(new Date,"yyyy-MM-dd")===Jw(e,"yyyy-MM-dd")},f_=()=>{const{mutate:t}=GS();return{handleCheck:i=>s=>{const l=new Date,f=JSON.parse(i.sub||"[]");i.isDone=s.target.checked,i.doneDate=i.isDone?l.toISOString():null,s.target.checked===!1&&f.every(m=>m.isDone)&&(f.forEach(m=>{m.isDone=!1}),i.sub=JSON.stringify(f)),t(i)},handleImportant:i=>{i.isImportant===0?i.isImportant=1:i.isImportant=0,t(i)},handleToday:i=>{if(rC(i.isToday))i.isToday=void 0;else{const s=new Date;i.isToday=s.toISOString()}t(i)}}},J2=t=>{let e;const n=new Set,r=(m,y)=>{const x=typeof m=="function"?m(e):m;if(!Object.is(x,e)){const C=e;e=y??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(T=>T(e,C))}},i=()=>e,f={setState:r,getState:i,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m))},d=e=t(r,i,f);return f},d_=t=>t?J2(t):J2,h_=t=>t;function p_(t,e=h_){const n=gt.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return gt.useDebugValue(n),n}const Z2=t=>{const e=d_(t),n=r=>p_(e,r);return Object.assign(n,e),n},cu=t=>t?Z2(t):Z2,Sm=cu(t=>({isOpen:!1,position:{x:0,y:0},items:[],open:(e,n,r)=>t({isOpen:!0,items:r,position:{x:e,y:n}}),close:()=>t({isOpen:!1,items:[],position:{x:0,y:0}})})),m_={container:({x:t=0,y:e=0})=>n=>({display:"flex",flexDirection:"column",position:"absolute",top:e,left:t,zIndex:1e4,width:"fit-content",minWidth:"80px",minHeight:"20px",gap:"2px",backgroundColor:n.colors.background.deep,borderRadius:n.radius.small,boxShadow:n.shadow.small,overflow:"hidden",padding:"5px"})},g_={container:t=>({width:"100%",padding:"5px 10px",fontSize:"12px",backgroundColor:"transparent",color:t.colors.text.primary,cursor:"pointer","&:hover":{transition:"none",backgroundColor:t.colors.background.hover}})};function y_({label:t,onClick:e}){const{container:n}=g_;return L("div",{css:n,onClick:e,children:t})}function v_(){const{container:t}=m_,{position:e,items:n,close:r}=Sm(i=>i);return F.useEffect(()=>{const i=()=>r();return window.addEventListener("click",i),()=>{window.removeEventListener("click",i)}},[]),L("div",{css:t(e),children:n.map(i=>L(y_,{label:i.label,onClick:i.onClick},i.label))})}const b_=t=>{const{open:e,close:n}=Sm(),{mutate:r}=$O();return{openContextMenu:s=>{s.preventDefault();const{clientX:l,clientY:f}=s;e(l,f,[{label:"삭제",onClick:async()=>{await r(t),n()}}])}}};function U1({data:t,onClick:e}){const{container:n,spanDoneDate:r,innerContainer:i,todayButton:s,titleSpan:l,label:f}=c_,{id:d,title:m,isDone:y,doneDate:x,isImportant:C,isToday:T,label:E}=t,k=es(),{handleCheck:R,handleImportant:H,handleToday:K}=f_(),{openContextMenu:Y}=b_(d);return Qe("div",{css:n(y),onClick:e,onContextMenu:Y,children:[Qe("div",{css:{...i(),width:"calc(100% - 80px)"},children:[L("div",{css:f((E==null?void 0:E.color)||"")}),L(VS,{checked:y,onChange:R(t)}),Qe("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"3px",width:"calc(100% - 60px)"},children:[L("span",{css:l(y),children:m}),x&&L("span",{css:r,children:Jw(x,"yyyy-MM-dd")})]})]}),Qe("div",{css:i,children:[L("button",{type:"button",css:s,onClick:U=>{U.stopPropagation(),K(t)},children:L(pb,{size:18,color:rC(T)?"#FF5954":k.colors.text.secondary})}),L(f0,{checked:C,onChange:()=>H(t)})]})]})}const Dn={HOME:"/",TODO:"/todo",TODO_CATE:"/todo/cate",TODO_TODAY:"/todo/today",TODO_IMPORTANT:"/todo/important",TODO_ALL:"/todo/all",NOTE:"/note",NOTE_CATE:"/note/cate",TEST:"/test"};var my={},eE;function x_(){if(eE)return my;eE=1,Object.defineProperty(my,"__esModule",{value:!0}),my.parse=l,my.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function l(C,T){const E=new s,k=C.length;if(k<2)return E;const R=(T==null?void 0:T.decode)||y;let H=0;do{const K=C.indexOf("=",H);if(K===-1)break;const Y=C.indexOf(";",H),U=Y===-1?k:Y;if(K>U){H=C.lastIndexOf(";",K-1)+1;continue}const G=f(C,H,K),re=d(C,K,G),de=C.slice(G,re);if(E[de]===void 0){let we=f(C,K+1,U),fe=d(C,U,we);const Me=R(C.slice(we,fe));E[de]=Me}H=U+1}while(H<k);return E}function f(C,T,E){do{const k=C.charCodeAt(T);if(k!==32&&k!==9)return T}while(++T<E);return E}function d(C,T,E){for(;T>E;){const k=C.charCodeAt(--T);if(k!==32&&k!==9)return T+1}return E}function m(C,T,E){const k=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(C))throw new TypeError(`argument name is invalid: ${C}`);const R=k(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let H=C+"="+R;if(!E)return H;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);H+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);H+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);H+="; Path="+E.path}if(E.expires){if(!x(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);H+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(H+="; HttpOnly"),E.secure&&(H+="; Secure"),E.partitioned&&(H+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return H}function y(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function x(C){return i.call(C)==="[object Date]"}return my}x_();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tE="popstate";function w_(t={}){function e(r,i){let{pathname:s,search:l,hash:f}=r.location;return Zw("",{pathname:s,search:l,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uy(i)}return C_(e,n,null,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ou(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S_(){return Math.random().toString(36).substring(2,10)}function nE(t,e){return{usr:t.state,key:t.key,idx:e}}function Zw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cm(e):e,state:n,key:e&&e.key||r||S_()}}function Uy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C_(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,f="POP",d=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function x(){f="POP";let R=y(),H=R==null?null:R-m;m=R,d&&d({action:f,location:k.location,delta:H})}function C(R,H){f="PUSH";let K=Zw(k.location,R,H);m=y()+1;let Y=nE(K,m),U=k.createHref(K);try{l.pushState(Y,"",U)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(U)}s&&d&&d({action:f,location:k.location,delta:1})}function T(R,H){f="REPLACE";let K=Zw(k.location,R,H);m=y();let Y=nE(K,m),U=k.createHref(K);l.replaceState(Y,"",U),s&&d&&d({action:f,location:k.location,delta:0})}function E(R){let H=i.location.origin!=="null"?i.location.origin:i.location.href,K=typeof R=="string"?R:Uy(R);return K=K.replace(/ $/,"%20"),Sr(H,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,H)}let k={get action(){return f},get location(){return t(i,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(tE,x),d=R,()=>{i.removeEventListener(tE,x),d=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let H=E(R);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:T,go(R){return l.go(R)}};return k}function cA(t,e,n="/"){return E_(t,e,n,!1)}function E_(t,e,n,r){let i=typeof e=="string"?Cm(e):e,s=ic(i.pathname||"/",n);if(s==null)return null;let l=fA(t);T_(l);let f=null;for(let d=0;f==null&&d<l.length;++d){let m=I_(s);f=L_(l[d],m,r)}return f}function fA(t,e=[],n=[],r=""){let i=(s,l,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Sr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=ec([r,d.relativePath]),y=n.concat(d);s.children&&s.children.length>0&&(Sr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),fA(s.children,e,y,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:__(m,s.index),routesMeta:y})};return t.forEach((s,l)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))i(s,l);else for(let d of dA(s.path))i(s,l,d)}),e}function dA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=dA(r.join("/")),f=[];return f.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&f.push(...l),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function T_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var O_=/^:[\w-]+$/,A_=3,k_=2,M_=1,D_=10,R_=-2,rE=t=>t==="*";function __(t,e){let n=t.split("/"),r=n.length;return n.some(rE)&&(r+=R_),e&&(r+=k_),n.filter(i=>!rE(i)).reduce((i,s)=>i+(O_.test(s)?A_:s===""?M_:D_),r)}function N_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L_(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let f=0;f<r.length;++f){let d=r[f],m=f===r.length-1,y=s==="/"?e:e.slice(s.length)||"/",x=V1({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),C=d.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=V1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:ec([s,x.pathname]),pathnameBase:F_(ec([s,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(s=ec([s,x.pathnameBase]))}return l}function V1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:x},C)=>{if(y==="*"){let E=f[C]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const T=f[C];return x&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function B_(t,e=!1,n=!0){ou(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function I_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ou(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ic(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function z_(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cm(t):t;return{pathname:n?n.startsWith("/")?n:H_(n,e):e,search:q_(r),hash:U_(i)}}function H_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ew(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hA(t){let e=P_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pA(t,e,n,r=!1){let i;typeof t=="string"?i=Cm(t):(i={...t},Sr(!i.pathname||!i.pathname.includes("?"),ew("?","pathname","search",i)),Sr(!i.pathname||!i.pathname.includes("#"),ew("#","pathname","hash",i)),Sr(!i.search||!i.search.includes("#"),ew("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,f;if(l==null)f=n;else{let x=e.length-1;if(!r&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),x-=1;i.pathname=C.join("/")}f=x>=0?e[x]:"/"}let d=z_(i,f),m=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var ec=t=>t.join("/").replace(/\/\/+/g,"/"),F_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mA=["POST","PUT","PATCH","DELETE"];new Set(mA);var j_=["GET",...mA];new Set(j_);var Em=F.createContext(null);Em.displayName="DataRouter";var yb=F.createContext(null);yb.displayName="DataRouterState";var gA=F.createContext({isTransitioning:!1});gA.displayName="ViewTransition";var K_=F.createContext(new Map);K_.displayName="Fetchers";var $_=F.createContext(null);$_.displayName="Await";var fu=F.createContext(null);fu.displayName="Navigation";var p0=F.createContext(null);p0.displayName="Location";var du=F.createContext({outlet:null,matches:[],isDataRoute:!1});du.displayName="Route";var iC=F.createContext(null);iC.displayName="RouteError";function Y_(t,{relative:e}={}){Sr(m0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(fu),{hash:i,pathname:s,search:l}=g0(t,{relative:e}),f=s;return n!=="/"&&(f=s==="/"?n:ec([n,s])),r.createHref({pathname:f,search:l,hash:i})}function m0(){return F.useContext(p0)!=null}function Mo(){return Sr(m0(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(p0).location}var yA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vA(t){F.useContext(fu).static||F.useLayoutEffect(t)}function oC(){let{isDataRoute:t}=F.useContext(du);return t?l4():G_()}function G_(){Sr(m0(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Em),{basename:e,navigator:n}=F.useContext(fu),{matches:r}=F.useContext(du),{pathname:i}=Mo(),s=JSON.stringify(hA(r)),l=F.useRef(!1);return vA(()=>{l.current=!0}),F.useCallback((d,m={})=>{if(ou(l.current,yA),!l.current)return;if(typeof d=="number"){n.go(d);return}let y=pA(d,JSON.parse(s),i,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ec([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,s,i,t])}var W_=F.createContext(null);function Q_(t){let e=F.useContext(du).outlet;return e&&F.createElement(W_.Provider,{value:t},e)}function g0(t,{relative:e}={}){let{matches:n}=F.useContext(du),{pathname:r}=Mo(),i=JSON.stringify(hA(n));return F.useMemo(()=>pA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function X_(t,e){return bA(t,e)}function bA(t,e,n,r){var K;Sr(m0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=F.useContext(fu),{matches:l}=F.useContext(du),f=l[l.length-1],d=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",x=f&&f.route;{let Y=x&&x.path||"";xA(m,!x||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let C=Mo(),T;if(e){let Y=typeof e=="string"?Cm(e):e;Sr(y==="/"||((K=Y.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),T=Y}else T=C;let E=T.pathname||"/",k=E;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(Y.length).join("/")}let R=!s&&n&&n.matches&&n.matches.length>0?n.matches:cA(t,{pathname:k});ou(x||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ou(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=n4(R&&R.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:ec([y,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:ec([y,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,n,r);return e&&H?F.createElement(p0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},H):H}function J_(){let t=a4(),e=V_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,l)}var Z_=F.createElement(J_,null),e4=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(du.Provider,{value:this.props.routeContext},F.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t4({routeContext:t,match:e,children:n}){let r=F.useContext(Em);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(du.Provider,{value:t},n)}function n4(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Sr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,f=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:y,errors:x}=n,C=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||C){l=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((d,m,y)=>{let x,C=!1,T=null,E=null;n&&(x=s&&m.route.id?s[m.route.id]:void 0,T=m.route.errorElement||Z_,l&&(f<0&&y===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):f===y&&(C=!0,E=m.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,y+1)),R=()=>{let H;return x?H=T:C?H=E:m.route.Component?H=F.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=d,F.createElement(t4,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:H})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?F.createElement(e4,{location:n.location,revalidation:n.revalidation,component:T,error:x,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function sC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r4(t){let e=F.useContext(Em);return Sr(e,sC(t)),e}function i4(t){let e=F.useContext(yb);return Sr(e,sC(t)),e}function o4(t){let e=F.useContext(du);return Sr(e,sC(t)),e}function aC(t){let e=o4(t),n=e.matches[e.matches.length-1];return Sr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function s4(){return aC("useRouteId")}function a4(){var r;let t=F.useContext(iC),e=i4("useRouteError"),n=aC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function l4(){let{router:t}=r4("useNavigate"),e=aC("useNavigate"),n=F.useRef(!1);return vA(()=>{n.current=!0}),F.useCallback(async(i,s={})=>{ou(n.current,yA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var iE={};function xA(t,e,n){!e&&!iE[t]&&(iE[t]=!0,ou(!1,n))}F.memo(u4);function u4({routes:t,future:e,state:n}){return bA(t,void 0,n,e)}function lC(t){return Q_(t.context)}function Va(t){Sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Sr(!m0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=Cm(n));let{pathname:d="/",search:m="",hash:y="",state:x=null,key:C="default"}=n,T=F.useMemo(()=>{let E=ic(d,l);return E==null?null:{location:{pathname:E,search:m,hash:y,state:x,key:C},navigationType:r}},[l,d,m,y,x,C,r]);return ou(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:F.createElement(fu.Provider,{value:f},F.createElement(p0.Provider,{children:e,value:T}))}function f4({children:t,location:e}){return X_(eS(t),e)}function eS(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,eS(r.props.children,s));return}Sr(r.type===Va,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=eS(r.props.children,s)),n.push(l)}),n}var E1="get",T1="application/x-www-form-urlencoded";function vb(t){return t!=null&&typeof t.tagName=="string"}function d4(t){return vb(t)&&t.tagName.toLowerCase()==="button"}function h4(t){return vb(t)&&t.tagName.toLowerCase()==="form"}function p4(t){return vb(t)&&t.tagName.toLowerCase()==="input"}function m4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g4(t,e){return t.button===0&&(!e||e==="_self")&&!m4(t)}var r1=null;function y4(){if(r1===null)try{new FormData(document.createElement("form"),0),r1=!1}catch{r1=!0}return r1}var v4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tw(t){return t!=null&&!v4.has(t)?(ou(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${T1}"`),null):t}function b4(t,e){let n,r,i,s,l;if(h4(t)){let f=t.getAttribute("action");r=f?ic(f,e):null,n=t.getAttribute("method")||E1,i=tw(t.getAttribute("enctype"))||T1,s=new FormData(t)}else if(d4(t)||p4(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?ic(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||E1,i=tw(t.getAttribute("formenctype"))||tw(f.getAttribute("enctype"))||T1,s=new FormData(f,t),!y4()){let{name:m,type:y,value:x}=t;if(y==="image"){let C=m?`${m}.`:"";s.append(`${C}x`,"0"),s.append(`${C}y`,"0")}else m&&s.append(m,x)}}else{if(vb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=E1,r=null,i=T1,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}function uC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function x4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function S4(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await x4(s,n);return l.links?l.links():[]}return[]}));return O4(r.flat(1).filter(w4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oE(t,e,n,r,i,s){let l=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>{var y;return n[m].pathname!==d.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,m)=>l(d,m)||f(d,m)):s==="data"?e.filter((d,m)=>{var x;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let C=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function C4(t,e,{includeHydrateFallback:n}={}){return E4(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function E4(t){return[...new Set(t)]}function T4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function O4(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(T4(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function A4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ic(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wA(){let t=F.useContext(Em);return uC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function k4(){let t=F.useContext(yb);return uC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cC=F.createContext(void 0);cC.displayName="FrameworkContext";function SA(){let t=F.useContext(cC);return uC(t,"You must render this element inside a <HydratedRouter> element"),t}function M4(t,e){let n=F.useContext(cC),[r,i]=F.useState(!1),[s,l]=F.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=e,C=F.useRef(null);F.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=H=>{H.forEach(K=>{l(K.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return C.current&&R.observe(C.current),()=>{R.disconnect()}}},[t]),F.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,C,{}]:[s,C,{onFocus:gy(f,T),onBlur:gy(d,E),onMouseEnter:gy(m,T),onMouseLeave:gy(y,E),onTouchStart:gy(x,T)}]:[!1,C,{}]}function gy(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function D4({page:t,...e}){let{router:n}=wA(),r=F.useMemo(()=>cA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(_4,{page:t,matches:r,...e}):null}function R4(t){let{manifest:e,routeModules:n}=SA(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return S4(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function _4({page:t,matches:e,...n}){let r=Mo(),{manifest:i,routeModules:s}=SA(),{basename:l}=wA(),{loaderData:f,matches:d}=k4(),m=F.useMemo(()=>oE(t,e,d,i,r,"data"),[t,e,d,i,r]),y=F.useMemo(()=>oE(t,e,d,i,r,"assets"),[t,e,d,i,r]),x=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,k=!1;if(e.forEach(H=>{var Y;let K=i.routes[H.route.id];!K||!K.hasLoader||(!m.some(U=>U.route.id===H.route.id)&&H.route.id in f&&((Y=s[H.route.id])!=null&&Y.shouldRevalidate)||K.hasClientLoader?k=!0:E.add(H.route.id))}),E.size===0)return[];let R=A4(t,l);return k&&E.size>0&&R.searchParams.set("_routes",e.filter(H=>E.has(H.route.id)).map(H=>H.route.id).join(",")),[R.pathname+R.search]},[l,f,r,i,m,e,t,s]),C=F.useMemo(()=>C4(y,i),[y,i]),T=R4(y);return F.createElement(F.Fragment,null,x.map(E=>F.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),C.map(E=>F.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),T.map(({key:E,link:k})=>F.createElement("link",{key:E,...k})))}function N4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CA&&(window.__reactRouterVersion="7.3.0")}catch{}function L4({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=w_({window:n,v5Compat:!0}));let i=r.current,[s,l]=F.useState({action:i.action,location:i.location}),f=F.useCallback(d=>{F.startTransition(()=>l(d))},[l]);return F.useLayoutEffect(()=>i.listen(f),[i,f]),F.createElement(c4,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:f,target:d,to:m,preventScrollReset:y,viewTransition:x,...C},T){let{basename:E}=F.useContext(fu),k=typeof m=="string"&&EA.test(m),R,H=!1;if(typeof m=="string"&&k&&(R=m,CA))try{let fe=new URL(window.location.href),Me=m.startsWith("//")?new URL(fe.protocol+m):new URL(m),et=ic(Me.pathname,E);Me.origin===fe.origin&&et!=null?m=et+Me.search+Me.hash:H=!0}catch{ou(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Y_(m,{relative:i}),[Y,U,G]=M4(r,C),re=H4(m,{replace:l,state:f,target:d,preventScrollReset:y,relative:i,viewTransition:x});function de(fe){e&&e(fe),fe.defaultPrevented||re(fe)}let we=F.createElement("a",{...C,...G,href:R||K,onClick:H||s?e:de,ref:N4(T,U),target:d,"data-discover":!k&&n==="render"?"true":void 0});return Y&&!k?F.createElement(F.Fragment,null,we,F.createElement(D4,{page:K})):we});bb.displayName="Link";var B4=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:f,children:d,...m},y){let x=g0(l,{relative:m.relative}),C=Mo(),T=F.useContext(yb),{navigator:E,basename:k}=F.useContext(fu),R=T!=null&&V4(x)&&f===!0,H=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,K=C.pathname,Y=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(K=K.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&k&&(Y=ic(Y,k)||Y);const U=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let G=K===H||!i&&K.startsWith(H)&&K.charAt(U)==="/",re=Y!=null&&(Y===H||!i&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),de={isActive:G,isPending:re,isTransitioning:R},we=G?e:void 0,fe;typeof r=="function"?fe=r(de):fe=[r,G?"active":null,re?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Me=typeof s=="function"?s(de):s;return F.createElement(bb,{...m,"aria-current":we,className:fe,ref:y,style:Me,to:l,viewTransition:f},typeof d=="function"?d(de):d)});B4.displayName="NavLink";var I4=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=E1,action:f,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:x,...C},T)=>{let E=q4(),k=U4(f,{relative:m}),R=l.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&EA.test(f),K=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let U=Y.nativeEvent.submitter,G=(U==null?void 0:U.getAttribute("formmethod"))||l;E(U||Y.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:i,state:s,relative:m,preventScrollReset:y,viewTransition:x})};return F.createElement("form",{ref:T,method:R,action:k,onSubmit:r?d:K,...C,"data-discover":!H&&t==="render"?"true":void 0})});I4.displayName="Form";function z4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(t){let e=F.useContext(Em);return Sr(e,z4(t)),e}function H4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let f=oC(),d=Mo(),m=g0(t,{relative:s});return F.useCallback(y=>{if(g4(y,e)){y.preventDefault();let x=n!==void 0?n:Uy(d)===Uy(m);f(t,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,f,m,n,r,e,t,i,s,l])}var P4=0,F4=()=>`__${String(++P4)}__`;function q4(){let{router:t}=TA("useSubmit"),{basename:e}=F.useContext(fu),n=s4();return F.useCallback(async(r,i={})=>{let{action:s,method:l,encType:f,formData:d,body:m}=b4(r,e);if(i.navigate===!1){let y=i.fetcherKey||F4();await t.fetch(y,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function U4(t,{relative:e}={}){let{basename:n}=F.useContext(fu),r=F.useContext(du);Sr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...g0(t||".",{relative:e})},l=Mo();if(t==null){s.search=l.search;let f=new URLSearchParams(s.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(x=>x).forEach(x=>f.append("index",x));let y=f.toString();s.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ec([n,s.pathname])),Uy(s)}function V4(t,e={}){let n=F.useContext(gA);Sr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TA("useViewTransitionState"),i=g0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ic(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ic(n.nextLocation.pathname,r)||n.nextLocation.pathname;return V1(i.pathname,l)!=null||V1(i.pathname,s)!=null}new TextEncoder;var wf=cO();const j4=_S(wf),OA=()=>{const t=Mo().pathname;return Number(t.replace(Dn.TODO_CATE+"/","").split("/")[0])},K4={container:t=>({display:"flex",flexDirection:"column",width:"100%",maxWidth:"800px",gap:"10px",padding:"20px",backgroundColor:t.colors.background.deep}),label:()=>({display:"flex",flexDirection:"row",justifyContent:"space-between",overflow:"hidden"}),input:t=>e=>({width:"100%",marginLeft:"10px",outline:"none",border:"none",fontSize:e.typography.size.large,textDecoration:t?"line-through":"none",backgroundColor:"transparent",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:t?e.colors.text.secondary:e.colors.text.primary})};var wy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var $4=wy.exports,sE;function Y4(){return sE||(sE=1,function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",f="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",x=1,C=2,T=4,E=1,k=2,R=1,H=2,K=4,Y=8,U=16,G=32,re=64,de=128,we=256,fe=512,Me=30,et="...",Ve=800,Je=16,wt=1,Et=2,Ne=3,$e=1/0,Ye=9007199254740991,mt=17976931348623157e292,ee=NaN,Oe=4294967295,tt=Oe-1,it=Oe>>>1,Ge=[["ary",de],["bind",R],["bindKey",H],["curry",Y],["curryRight",U],["flip",fe],["partial",G],["partialRight",re],["rearg",we]],ht="[object Arguments]",ot="[object Array]",cn="[object AsyncFunction]",yt="[object Boolean]",Pe="[object Date]",ft="[object DOMException]",fn="[object Error]",Tt="[object Function]",Cn="[object GeneratorFunction]",dn="[object Map]",Rn="[object Number]",dr="[object Null]",tr="[object Object]",te="[object Promise]",ge="[object Proxy]",be="[object RegExp]",Le="[object Set]",qe="[object String]",Ie="[object Symbol]",st="[object Undefined]",St="[object WeakMap]",sn="[object WeakSet]",Ht="[object ArrayBuffer]",hn="[object DataView]",Mr="[object Float32Array]",Qr="[object Float64Array]",nr="[object Int8Array]",Pr="[object Int16Array]",Dr="[object Int32Array]",Ce="[object Uint8Array]",nt="[object Uint8ClampedArray]",ke="[object Uint16Array]",At="[object Uint32Array]",It=/\b__p \+= '';/g,Qn=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fr=/&(?:amp|lt|gt|quot|#39);/g,Bn=/[&<>"']/g,gn=RegExp(Fr.source),Kn=RegExp(Bn.source),rr=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,br=/<%=([\s\S]+?)%>/g,Xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hr=/^\w*$/,Fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xr=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Xr.source),yn=/^\s+/,Ns=/\s/,io=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oi=/\{\n\/\* \[wrapped with (.+)\] \*/,Rr=/,? & /,pr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,or=/[()=,{}\[\]\/\s]/,oo=/\\(\\)?/g,Do=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hu=/\w*$/,Rm=/^[-+]0x[0-9a-f]+$/i,rs=/^0b[01]+$/i,tl=/^\[object .+?Constructor\]$/,is=/^0o[0-7]+$/i,Ls=/^(?:0|[1-9]\d*)$/,Bs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,On=/($^)/,qi=/['\n\r\u2028\u2029\\]/g,En="\\ud800-\\udfff",If="\\u0300-\\u036f",ca="\\ufe20-\\ufe2f",Ro="\\u20d0-\\u20ff",ss=If+ca+Ro,Ui="\\u2700-\\u27bf",Is="a-z\\xdf-\\xf6\\xf8-\\xff",zf="\\xac\\xb1\\xd7\\xf7",pu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kh="\\u2000-\\u206f",Yt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nl="A-Z\\xc0-\\xd6\\xd8-\\xde",so="\\ufe0e\\ufe0f",li=zf+pu+kh+Yt,An="['’]",mu="["+En+"]",as="["+li+"]",_o="["+ss+"]",fa="\\d+",Hf="["+Ui+"]",qr="["+Is+"]",gu="[^"+En+li+fa+Ui+Is+nl+"]",da="\\ud83c[\\udffb-\\udfff]",ac="(?:"+_o+"|"+da+")",ao="[^"+En+"]",yu="(?:\\ud83c[\\udde6-\\uddff]){2}",lc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+nl+"]",uc="\\u200d",Pf="(?:"+qr+"|"+gu+")",Mh="(?:"+Ft+"|"+gu+")",Ur="(?:"+An+"(?:d|ll|m|re|s|t|ve))?",ha="(?:"+An+"(?:D|LL|M|RE|S|T|VE))?",vu=ac+"?",Vi="["+so+"]?",cc="(?:"+uc+"(?:"+[ao,yu,lc].join("|")+")"+Vi+vu+")*",fc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$n="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vr=Vi+vu+cc,rl="(?:"+[Hf,yu,lc].join("|")+")"+Vr,pa="(?:"+[ao+_o+"?",_o,yu,lc,mu].join("|")+")",dc=RegExp(An,"g"),ji=RegExp(_o,"g"),bu=RegExp(da+"(?="+da+")|"+pa+Vr,"g"),ui=RegExp([Ft+"?"+qr+"+"+Ur+"(?="+[as,Ft,"$"].join("|")+")",Mh+"+"+ha+"(?="+[as,Ft+Pf,"$"].join("|")+")",Ft+"?"+Pf+"+"+Ur,Ft+"+"+ha,$n,fc,fa,rl].join("|"),"g"),No=RegExp("["+uc+En+ss+so+"]"),hc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,il=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ol=-1,xn={};xn[Mr]=xn[Qr]=xn[nr]=xn[Pr]=xn[Dr]=xn[Ce]=xn[nt]=xn[ke]=xn[At]=!0,xn[ht]=xn[ot]=xn[Ht]=xn[yt]=xn[hn]=xn[Pe]=xn[fn]=xn[Tt]=xn[dn]=xn[Rn]=xn[tr]=xn[be]=xn[Le]=xn[qe]=xn[St]=!1;var wn={};wn[ht]=wn[ot]=wn[Ht]=wn[hn]=wn[yt]=wn[Pe]=wn[Mr]=wn[Qr]=wn[nr]=wn[Pr]=wn[Dr]=wn[dn]=wn[Rn]=wn[tr]=wn[be]=wn[Le]=wn[qe]=wn[Ie]=wn[Ce]=wn[nt]=wn[ke]=wn[At]=!0,wn[fn]=wn[Tt]=wn[St]=!1;var Dh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ma={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zs=parseFloat,mc=parseInt,sl=typeof by=="object"&&by&&by.Object===Object&&by,Ff=typeof self=="object"&&self&&self.Object===Object&&self,sr=sl||Ff||Function("return this")(),al=e&&!e.nodeType&&e,Lo=al&&!0&&t&&!t.nodeType&&t,gc=Lo&&Lo.exports===al,yc=gc&&sl.process,Jr=function(){try{var B=Lo&&Lo.require&&Lo.require("util").types;return B||yc&&yc.binding&&yc.binding("util")}catch{}}(),ga=Jr&&Jr.isArrayBuffer,xu=Jr&&Jr.isDate,qf=Jr&&Jr.isMap,Rh=Jr&&Jr.isRegExp,wu=Jr&&Jr.isSet,vc=Jr&&Jr.isTypedArray;function jr(B,j,I){switch(I.length){case 0:return B.call(j);case 1:return B.call(j,I[0]);case 2:return B.call(j,I[0],I[1]);case 3:return B.call(j,I[0],I[1],I[2])}return B.apply(j,I)}function Uf(B,j,I,Z){for(var W=-1,ne=B==null?0:B.length;++W<ne;){var le=B[W];j(Z,le,I(le),B)}return Z}function ci(B,j){for(var I=-1,Z=B==null?0:B.length;++I<Z&&j(B[I],I,B)!==!1;);return B}function Kr(B,j){for(var I=B==null?0:B.length;I--&&j(B[I],I,B)!==!1;);return B}function ll(B,j){for(var I=-1,Z=B==null?0:B.length;++I<Z;)if(!j(B[I],I,B))return!1;return!0}function fi(B,j){for(var I=-1,Z=B==null?0:B.length,W=0,ne=[];++I<Z;){var le=B[I];j(le,I,B)&&(ne[W++]=le)}return ne}function Su(B,j){var I=B==null?0:B.length;return!!I&&fl(B,j,0)>-1}function ul(B,j,I){for(var Z=-1,W=B==null?0:B.length;++Z<W;)if(I(j,B[Z]))return!0;return!1}function qn(B,j){for(var I=-1,Z=B==null?0:B.length,W=Array(Z);++I<Z;)W[I]=j(B[I],I,B);return W}function Bo(B,j){for(var I=-1,Z=j.length,W=B.length;++I<Z;)B[W+I]=j[I];return B}function cl(B,j,I,Z){var W=-1,ne=B==null?0:B.length;for(Z&&ne&&(I=B[++W]);++W<ne;)I=j(I,B[W],W,B);return I}function Vf(B,j,I,Z){var W=B==null?0:B.length;for(Z&&W&&(I=B[--W]);W--;)I=j(I,B[W],W,B);return I}function ls(B,j){for(var I=-1,Z=B==null?0:B.length;++I<Z;)if(j(B[I],I,B))return!0;return!1}var jf=dl("length");function Kf(B){return B.split("")}function bc(B){return B.match(pr)||[]}function xc(B,j,I){var Z;return I(B,function(W,ne,le){if(j(W,ne,le))return Z=ne,!1}),Z}function Cu(B,j,I,Z){for(var W=B.length,ne=I+(Z?1:-1);Z?ne--:++ne<W;)if(j(B[ne],ne,B))return ne;return-1}function fl(B,j,I){return j===j?Hs(B,j,I):Cu(B,us,I)}function Eu(B,j,I,Z){for(var W=I-1,ne=B.length;++W<ne;)if(Z(B[W],j))return W;return-1}function us(B){return B!==B}function _h(B,j){var I=B==null?0:B.length;return I?wc(B,j)/I:ee}function dl(B){return function(j){return j==null?n:j[B]}}function hl(B){return function(j){return B==null?n:B[j]}}function $f(B,j,I,Z,W){return W(B,function(ne,le,ie){I=Z?(Z=!1,ne):j(I,ne,le,ie)}),I}function Yf(B,j){var I=B.length;for(B.sort(j);I--;)B[I]=B[I].value;return B}function wc(B,j){for(var I,Z=-1,W=B.length;++Z<W;){var ne=j(B[Z]);ne!==n&&(I=I===n?ne:I+ne)}return I}function cs(B,j){for(var I=-1,Z=Array(B);++I<B;)Z[I]=j(I);return Z}function Nh(B,j){return qn(j,function(I){return[I,B[I]]})}function Lh(B){return B&&B.slice(0,O(B)+1).replace(yn,"")}function di(B){return function(j){return B(j)}}function pl(B,j){return qn(j,function(I){return B[I]})}function ya(B,j){return B.has(j)}function va(B,j){for(var I=-1,Z=B.length;++I<Z&&fl(j,B[I],0)>-1;);return I}function ml(B,j){for(var I=B.length;I--&&fl(j,B[I],0)>-1;);return I}function _m(B,j){for(var I=B.length,Z=0;I--;)B[I]===j&&++Z;return Z}var Sc=hl(Dh),Tu=hl(Cr);function Io(B){return"\\"+pc[B]}function Yn(B,j){return B==null?n:B[j]}function lo(B){return No.test(B)}function Ai(B){return hc.test(B)}function Bh(B){for(var j,I=[];!(j=B.next()).done;)I.push(j.value);return I}function gl(B){var j=-1,I=Array(B.size);return B.forEach(function(Z,W){I[++j]=[W,Z]}),I}function Gf(B,j){return function(I){return B(j(I))}}function hi(B,j){for(var I=-1,Z=B.length,W=0,ne=[];++I<Z;){var le=B[I];(le===j||le===y)&&(B[I]=y,ne[W++]=I)}return ne}function yl(B){var j=-1,I=Array(B.size);return B.forEach(function(Z){I[++j]=Z}),I}function vl(B){var j=-1,I=Array(B.size);return B.forEach(function(Z){I[++j]=[Z,Z]}),I}function Hs(B,j,I){for(var Z=I-1,W=B.length;++Z<W;)if(B[Z]===j)return Z;return-1}function pi(B,j,I){for(var Z=I+1;Z--;)if(B[Z]===j)return Z;return Z}function g(B){return lo(B)?_(B):jf(B)}function w(B){return lo(B)?z(B):Kf(B)}function O(B){for(var j=B.length;j--&&Ns.test(B.charAt(j)););return j}var M=hl(ma);function _(B){for(var j=bu.lastIndex=0;bu.test(B);)++j;return j}function z(B){return B.match(bu)||[]}function $(B){return B.match(ui)||[]}var J=function B(j){j=j==null?sr:se.defaults(sr.Object(),j,se.pick(sr,il));var I=j.Array,Z=j.Date,W=j.Error,ne=j.Function,le=j.Math,ie=j.Object,me=j.RegExp,Se=j.String,ve=j.TypeError,Ee=I.prototype,je=ne.prototype,Xe=ie.prototype,Ue=j["__core-js_shared__"],Ke=je.toString,Be=Xe.hasOwnProperty,Ze=0,rt=function(){var c=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),bt=Xe.toString,Pt=Ke.call(ie),Vt=sr._,$r=me("^"+Ke.call(Be).replace(Xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=gc?j.Buffer:n,Un=j.Symbol,In=j.Uint8Array,bl=kt?kt.allocUnsafe:n,ar=Gf(ie.getPrototypeOf,ie),ki=ie.create,Ou=Xe.propertyIsEnumerable,Mi=Ee.splice,Au=Un?Un.isConcatSpreadable:n,Ps=Un?Un.iterator:n,Fs=Un?Un.toStringTag:n,ku=function(){try{var c=bs(ie,"defineProperty");return c({},"",{}),c}catch{}}(),zo=j.clearTimeout!==sr.clearTimeout&&j.clearTimeout,Ho=Z&&Z.now!==sr.Date.now&&Z.now,Mu=j.setTimeout!==sr.setTimeout&&j.setTimeout,Po=le.ceil,Fo=le.floor,ba=ie.getOwnPropertySymbols,M0=kt?kt.isBuffer:n,Ih=j.isFinite,Nm=Ee.join,Di=Gf(ie.keys,ie),an=le.max,Lt=le.min,fs=Z.now,qs=j.parseInt,zh=le.random,Du=Ee.reverse,Hh=bs(j,"DataView"),Cc=bs(j,"Map"),Ru=bs(j,"Promise"),Us=bs(j,"Set"),xa=bs(j,"WeakMap"),wa=bs(ie,"create"),Wf=xa&&new xa,xl={},D0=Gi(Hh),Ph=Gi(Cc),R0=Gi(Ru),Qf=Gi(Us),_0=Gi(xa),Sa=Un?Un.prototype:n,Ca=Sa?Sa.valueOf:n,Xf=Sa?Sa.toString:n;function P(c){if(vr(c)&&!qt(c)&&!(c instanceof jt)){if(c instanceof uo)return c;if(Be.call(c,"__wrapped__"))return lp(c)}return new uo(c)}var Ea=function(){function c(){}return function(h){if(!er(h))return{};if(ki)return ki(h);c.prototype=h;var b=new c;return c.prototype=n,b}}();function Jf(){}function uo(c,h){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}P.templateSettings={escape:rr,evaluate:ir,interpolate:br,variable:"",imports:{_:P}},P.prototype=Jf.prototype,P.prototype.constructor=P,uo.prototype=Ea(Jf.prototype),uo.prototype.constructor=uo;function jt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function N0(){var c=new jt(this.__wrapped__);return c.__actions__=Ri(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Ri(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Ri(this.__views__),c}function Ec(){if(this.__filtered__){var c=new jt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function Fh(){var c=this.__wrapped__.value(),h=this.__dir__,b=qt(c),A=h<0,N=b?c.length:0,V=Ll(0,N,this.__views__),X=V.start,ae=V.end,he=ae-X,De=A?ae:X-1,_e=this.__iteratees__,He=_e.length,lt=0,xt=Lt(he,this.__takeCount__);if(!b||!A&&N==he&&xt==he)return Xh(c,this.__actions__);var _t=[];e:for(;he--&&lt<xt;){De+=h;for(var tn=-1,Nt=c[De];++tn<He;){var un=_e[tn],vn=un.iteratee,Es=un.type,So=vn(Nt);if(Es==Et)Nt=So;else if(!So){if(Es==wt)continue e;break e}}_t[lt++]=Nt}return _t}jt.prototype=Ea(Jf.prototype),jt.prototype.constructor=jt;function wl(c){var h=-1,b=c==null?0:c.length;for(this.clear();++h<b;){var A=c[h];this.set(A[0],A[1])}}function Lm(){this.__data__=wa?wa(null):{},this.size=0}function Bm(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}function qo(c){var h=this.__data__;if(wa){var b=h[c];return b===d?n:b}return Be.call(h,c)?h[c]:n}function Vs(c){var h=this.__data__;return wa?h[c]!==n:Be.call(h,c)}function Sl(c,h){var b=this.__data__;return this.size+=this.has(c)?0:1,b[c]=wa&&h===n?d:h,this}wl.prototype.clear=Lm,wl.prototype.delete=Bm,wl.prototype.get=qo,wl.prototype.has=Vs,wl.prototype.set=Sl;function js(c){var h=-1,b=c==null?0:c.length;for(this.clear();++h<b;){var A=c[h];this.set(A[0],A[1])}}function Cl(){this.__data__=[],this.size=0}function Ta(c){var h=this.__data__,b=Nu(h,c);if(b<0)return!1;var A=h.length-1;return b==A?h.pop():Mi.call(h,b,1),--this.size,!0}function _r(c){var h=this.__data__,b=Nu(h,c);return b<0?n:h[b][1]}function qh(c){return Nu(this.__data__,c)>-1}function $b(c,h){var b=this.__data__,A=Nu(b,c);return A<0?(++this.size,b.push([c,h])):b[A][1]=h,this}js.prototype.clear=Cl,js.prototype.delete=Ta,js.prototype.get=_r,js.prototype.has=qh,js.prototype.set=$b;function Oa(c){var h=-1,b=c==null?0:c.length;for(this.clear();++h<b;){var A=c[h];this.set(A[0],A[1])}}function Yb(){this.size=0,this.__data__={hash:new wl,map:new(Cc||js),string:new wl}}function Nr(c){var h=Vc(this,c).delete(c);return this.size-=h?1:0,h}function Im(c){return Vc(this,c).get(c)}function Zf(c){return Vc(this,c).has(c)}function ed(c,h){var b=Vc(this,c),A=b.size;return b.set(c,h),this.size+=b.size==A?0:1,this}Oa.prototype.clear=Yb,Oa.prototype.delete=Nr,Oa.prototype.get=Im,Oa.prototype.has=Zf,Oa.prototype.set=ed;function Aa(c){var h=-1,b=c==null?0:c.length;for(this.__data__=new Oa;++h<b;)this.add(c[h])}function Tc(c){return this.__data__.set(c,d),this}function Oc(c){return this.__data__.has(c)}Aa.prototype.add=Aa.prototype.push=Tc,Aa.prototype.has=Oc;function ds(c){var h=this.__data__=new js(c);this.size=h.size}function L0(){this.__data__=new js,this.size=0}function Gb(c){var h=this.__data__,b=h.delete(c);return this.size=h.size,b}function B0(c){return this.__data__.get(c)}function _u(c){return this.__data__.has(c)}function zm(c,h){var b=this.__data__;if(b instanceof js){var A=b.__data__;if(!Cc||A.length<i-1)return A.push([c,h]),this.size=++b.size,this;b=this.__data__=new Oa(A)}return b.set(c,h),this.size=b.size,this}ds.prototype.clear=L0,ds.prototype.delete=Gb,ds.prototype.get=B0,ds.prototype.has=_u,ds.prototype.set=zm;function td(c,h){var b=qt(c),A=!b&&Pl(c),N=!b&&!A&&Fl(c),V=!b&&!A&&!N&&Cs(c),X=b||A||N||V,ae=X?cs(c.length,Se):[],he=ae.length;for(var De in c)(h||Be.call(c,De))&&!(X&&(De=="length"||N&&(De=="offset"||De=="parent")||V&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||xs(De,he)))&&ae.push(De);return ae}function Hm(c){var h=c.length;return h?c[Qh(0,h-1)]:n}function El(c,h){return yd(Ri(c),Lu(h,0,c.length))}function Wt(c){return yd(Ri(c))}function kn(c,h,b){(b!==n&&!jo(c[h],b)||b===n&&!(h in c))&&co(c,h,b)}function Jn(c,h,b){var A=c[h];(!(Be.call(c,h)&&jo(A,b))||b===n&&!(h in c))&&co(c,h,b)}function Nu(c,h){for(var b=c.length;b--;)if(jo(c[b][0],h))return b;return-1}function Ac(c,h,b,A){return Al(c,function(N,V,X){h(A,N,b(N),X)}),A}function Tl(c,h){return c&&ps(h,Br(h),c)}function Uh(c,h){return c&&ps(h,Li(h),c)}function co(c,h,b){h=="__proto__"&&ku?ku(c,h,{configurable:!0,enumerable:!0,value:b,writable:!0}):c[h]=b}function Ol(c,h){for(var b=-1,A=h.length,N=I(A),V=c==null;++b<A;)N[b]=V?n:nf(c,h[b]);return N}function Lu(c,h,b){return c===c&&(b!==n&&(c=c<=b?c:b),h!==n&&(c=c>=h?c:h)),c}function Sn(c,h,b,A,N,V){var X,ae=h&x,he=h&C,De=h&T;if(b&&(X=N?b(c,A,N,V):b(c)),X!==n)return X;if(!er(c))return c;var _e=qt(c);if(_e){if(X=Hu(c),!ae)return Ri(c,X)}else{var He=Tr(c),lt=He==Tt||He==Cn;if(Fl(c))return rg(c,ae);if(He==tr||He==ht||lt&&!N){if(X=he||lt?{}:Yi(c),!ae)return he?cd(c,Uh(X,c)):J0(c,Tl(X,c))}else{if(!wn[He])return N?c:{};X=ev(c,He,ae)}}V||(V=new ds);var xt=V.get(c);if(xt)return xt;V.set(c,X),Zs(c)?c.forEach(function(Nt){X.add(Sn(Nt,h,b,Nt,c,V))}):Hv(c)&&c.forEach(function(Nt,un){X.set(un,Sn(Nt,h,b,un,c,V))});var _t=De?he?hd:Gs:he?Li:Br,tn=_e?n:_t(c);return ci(tn||c,function(Nt,un){tn&&(un=Nt,Nt=c[un]),Jn(X,un,Sn(Nt,h,b,un,c,V))}),X}function Pm(c){var h=Br(c);return function(b){return Vh(b,c,h)}}function Vh(c,h,b){var A=b.length;if(c==null)return!A;for(c=ie(c);A--;){var N=b[A],V=h[N],X=c[N];if(X===n&&!(N in c)||!V(X))return!1}return!0}function Fm(c,h,b){if(typeof c!="function")throw new ve(l);return yi(function(){c.apply(n,b)},h)}function kc(c,h,b,A){var N=-1,V=Su,X=!0,ae=c.length,he=[],De=h.length;if(!ae)return he;b&&(h=qn(h,di(b))),A?(V=ul,X=!1):h.length>=i&&(V=ya,X=!1,h=new Aa(h));e:for(;++N<ae;){var _e=c[N],He=b==null?_e:b(_e);if(_e=A||_e!==0?_e:0,X&&He===He){for(var lt=De;lt--;)if(h[lt]===He)continue e;he.push(_e)}else V(h,He,A)||he.push(_e)}return he}var Al=ag(Uo),jh=ag(hs,!0);function qm(c,h){var b=!0;return Al(c,function(A,N,V){return b=!!h(A,N,V),b}),b}function Mc(c,h,b){for(var A=-1,N=c.length;++A<N;){var V=c[A],X=h(V);if(X!=null&&(ae===n?X===X&&!xo(X):b(X,ae)))var ae=X,he=V}return he}function Ki(c,h,b,A){var N=c.length;for(b=$t(b),b<0&&(b=-b>N?0:N+b),A=A===n||A>N?N:$t(A),A<0&&(A+=N),A=b>A?0:ey(A);b<A;)c[b++]=h;return c}function xr(c,h){var b=[];return Al(c,function(A,N,V){h(A,N,V)&&b.push(A)}),b}function Er(c,h,b,A,N){var V=-1,X=c.length;for(b||(b=nv),N||(N=[]);++V<X;){var ae=c[V];h>0&&b(ae)?h>1?Er(ae,h-1,b,A,N):Bo(N,ae):A||(N[N.length]=ae)}return N}var Bu=lg(),nd=lg(!0);function Uo(c,h){return c&&Bu(c,h,Br)}function hs(c,h){return c&&nd(c,h,Br)}function Iu(c,h){return fi(h,function(b){return Ha(c[b])})}function ka(c,h){h=Da(h,c);for(var b=0,A=h.length;c!=null&&b<A;)c=c[_i(h[b++])];return b&&b==A?c:n}function Kh(c,h,b){var A=h(c);return qt(c)?A:Bo(A,b(c))}function mi(c){return c==null?c===n?st:dr:Fs&&Fs in ie(c)?gd(c):po(c)}function $h(c,h){return c>h}function I0(c,h){return c!=null&&Be.call(c,h)}function z0(c,h){return c!=null&&h in ie(c)}function H0(c,h,b){return c>=Lt(h,b)&&c<an(h,b)}function Yh(c,h,b){for(var A=b?ul:Su,N=c[0].length,V=c.length,X=V,ae=I(V),he=1/0,De=[];X--;){var _e=c[X];X&&h&&(_e=qn(_e,di(h))),he=Lt(_e.length,he),ae[X]=!b&&(h||N>=120&&_e.length>=120)?new Aa(X&&_e):n}_e=c[0];var He=-1,lt=ae[0];e:for(;++He<N&&De.length<he;){var xt=_e[He],_t=h?h(xt):xt;if(xt=b||xt!==0?xt:0,!(lt?ya(lt,_t):A(De,_t,b))){for(X=V;--X;){var tn=ae[X];if(!(tn?ya(tn,_t):A(c[X],_t,b)))continue e}lt&&lt.push(_t),De.push(xt)}}return De}function Um(c,h,b,A){return Uo(c,function(N,V,X){h(A,b(N),V,X)}),A}function Dc(c,h,b){h=Da(h,c),c=gg(c,h);var A=c==null?c:c[_i(Ni(h))];return A==null?n:jr(A,c,b)}function P0(c){return vr(c)&&mi(c)==ht}function F0(c){return vr(c)&&mi(c)==Ht}function q0(c){return vr(c)&&mi(c)==Pe}function Rc(c,h,b,A,N){return c===h?!0:c==null||h==null||!vr(c)&&!vr(h)?c!==c&&h!==h:Vm(c,h,b,A,Rc,N)}function Vm(c,h,b,A,N,V){var X=qt(c),ae=qt(h),he=X?ot:Tr(c),De=ae?ot:Tr(h);he=he==ht?tr:he,De=De==ht?tr:De;var _e=he==tr,He=De==tr,lt=he==De;if(lt&&Fl(c)){if(!Fl(h))return!1;X=!0,_e=!1}if(lt&&!_e)return V||(V=new ds),X||Cs(c)?Nl(c,h,b,A,N,V):gi(c,h,he,b,A,N,V);if(!(b&E)){var xt=_e&&Be.call(c,"__wrapped__"),_t=He&&Be.call(h,"__wrapped__");if(xt||_t){var tn=xt?c.value():c,Nt=_t?h.value():h;return V||(V=new ds),N(tn,Nt,b,A,V)}}return lt?(V||(V=new ds),op(c,h,b,A,N,V)):!1}function U0(c){return vr(c)&&Tr(c)==dn}function Gh(c,h,b,A){var N=b.length,V=N,X=!A;if(c==null)return!V;for(c=ie(c);N--;){var ae=b[N];if(X&&ae[2]?ae[1]!==c[ae[0]]:!(ae[0]in c))return!1}for(;++N<V;){ae=b[N];var he=ae[0],De=c[he],_e=ae[1];if(X&&ae[2]){if(De===n&&!(he in c))return!1}else{var He=new ds;if(A)var lt=A(De,_e,he,c,h,He);if(!(lt===n?Rc(_e,De,E|k,A,He):lt))return!1}}return!0}function jm(c){if(!er(c)||pg(c))return!1;var h=Ha(c)?$r:tl;return h.test(Gi(c))}function V0(c){return vr(c)&&mi(c)==be}function j0(c){return vr(c)&&Tr(c)==Le}function Wb(c){return vr(c)&&bp(c.length)&&!!xn[mi(c)]}function Km(c){return typeof c=="function"?c:c==null?Tn:typeof c=="object"?qt(c)?Wh(c[0],c[1]):$m(c):s2(c)}function kl(c){if(!gr(c))return Di(c);var h=[];for(var b in ie(c))Be.call(c,b)&&b!="constructor"&&h.push(b);return h}function K0(c){if(!er(c))return Or(c);var h=gr(c),b=[];for(var A in c)A=="constructor"&&(h||!Be.call(c,A))||b.push(A);return b}function _c(c,h){return c<h}function rd(c,h){var b=-1,A=Kt(c)?I(c.length):[];return Al(c,function(N,V,X){A[++b]=h(N,V,X)}),A}function $m(c){var h=md(c);return h.length==1&&h[0][2]?iv(h[0][0],h[0][1]):function(b){return b===c||Gh(b,c,h)}}function Wh(c,h){return jc(c)&&mg(h)?iv(_i(c),h):function(b){var A=nf(b,c);return A===n&&A===h?iy(b,c):Rc(h,A,E|k)}}function id(c,h,b,A,N){c!==h&&Bu(h,function(V,X){if(N||(N=new ds),er(V))$0(c,h,X,b,id,A,N);else{var ae=A?A(yg(c,X),V,X+"",c,h,N):n;ae===n&&(ae=V),kn(c,X,ae)}},Li)}function $0(c,h,b,A,N,V,X){var ae=yg(c,b),he=yg(h,b),De=X.get(he);if(De){kn(c,b,De);return}var _e=V?V(ae,he,b+"",c,h,X):n,He=_e===n;if(He){var lt=qt(he),xt=!lt&&Fl(he),_t=!lt&&!xt&&Cs(he);_e=he,lt||xt||_t?qt(ae)?_e=ae:cr(ae)?_e=Ri(ae):xt?(He=!1,_e=rg(he,!0)):_t?(He=!1,_e=ig(he,!0)):_e=[]:bi(he)||Pl(he)?(_e=ae,Pl(ae)?_e=Zc(ae):(!er(ae)||Ha(ae))&&(_e=Yi(he))):He=!1}He&&(X.set(he,_e),N(_e,he,A,V,X),X.delete(he)),kn(c,b,_e)}function Ym(c,h){var b=c.length;if(b)return h+=h<0?b:0,xs(h,b)?c[h]:n}function Gm(c,h,b){h.length?h=qn(h,function(V){return qt(V)?function(X){return ka(X,V.length===1?V[0]:V)}:V}):h=[Tn];var A=-1;h=qn(h,di(Ot()));var N=rd(c,function(V,X,ae){var he=qn(h,function(De){return De(V)});return{criteria:he,index:++A,value:V}});return Yf(N,function(V,X){return Zr(V,X,b)})}function Wm(c,h){return Qm(c,h,function(b,A){return iy(c,A)})}function Qm(c,h,b){for(var A=-1,N=h.length,V={};++A<N;){var X=h[A],ae=ka(c,X);b(ae,X)&&Nc(V,Da(X,c),ae)}return V}function Y0(c){return function(h){return ka(h,c)}}function od(c,h,b,A){var N=A?Eu:fl,V=-1,X=h.length,ae=c;for(c===h&&(h=Ri(h)),b&&(ae=qn(c,di(b)));++V<X;)for(var he=0,De=h[V],_e=b?b(De):De;(he=N(ae,_e,he,A))>-1;)ae!==c&&Mi.call(ae,he,1),Mi.call(c,he,1);return c}function Xm(c,h){for(var b=c?h.length:0,A=b-1;b--;){var N=h[b];if(b==A||N!==V){var V=N;xs(N)?Mi.call(c,N,1):Ks(c,N)}}return c}function Qh(c,h){return c+Fo(zh()*(h-c+1))}function Qb(c,h,b,A){for(var N=-1,V=an(Po((h-c)/(b||1)),0),X=I(V);V--;)X[A?V:++N]=c,c+=b;return X}function sd(c,h){var b="";if(!c||h<1||h>Ye)return b;do h%2&&(b+=c),h=Fo(h/2),h&&(c+=c);while(h);return b}function Gt(c,h){return mo(Ws(c,h,Tn),c+"")}function G0(c){return Hm(wo(c))}function Jm(c,h){var b=wo(c);return yd(b,Lu(h,0,b.length))}function Nc(c,h,b,A){if(!er(c))return c;h=Da(h,c);for(var N=-1,V=h.length,X=V-1,ae=c;ae!=null&&++N<V;){var he=_i(h[N]),De=b;if(he==="__proto__"||he==="constructor"||he==="prototype")return c;if(N!=X){var _e=ae[he];De=A?A(_e,he,ae):n,De===n&&(De=er(_e)?_e:xs(h[N+1])?[]:{})}Jn(ae,he,De),ae=ae[he]}return c}var Zm=Wf?function(c,h){return Wf.set(c,h),c}:Tn,Xb=ku?function(c,h){return ku(c,"toString",{configurable:!0,enumerable:!1,value:dt(h),writable:!0})}:Tn;function Jb(c){return yd(wo(c))}function fo(c,h,b){var A=-1,N=c.length;h<0&&(h=-h>N?0:N+h),b=b>N?N:b,b<0&&(b+=N),N=h>b?0:b-h>>>0,h>>>=0;for(var V=I(N);++A<N;)V[A]=c[A+h];return V}function ad(c,h){var b;return Al(c,function(A,N,V){return b=h(A,N,V),!b}),!!b}function Lc(c,h,b){var A=0,N=c==null?A:c.length;if(typeof h=="number"&&h===h&&N<=it){for(;A<N;){var V=A+N>>>1,X=c[V];X!==null&&!xo(X)&&(b?X<=h:X<h)?A=V+1:N=V}return N}return Bc(c,h,Tn,b)}function Bc(c,h,b,A){var N=0,V=c==null?0:c.length;if(V===0)return 0;h=b(h);for(var X=h!==h,ae=h===null,he=xo(h),De=h===n;N<V;){var _e=Fo((N+V)/2),He=b(c[_e]),lt=He!==n,xt=He===null,_t=He===He,tn=xo(He);if(X)var Nt=A||_t;else De?Nt=_t&&(A||lt):ae?Nt=_t&&lt&&(A||!xt):he?Nt=_t&&lt&&!xt&&(A||!tn):xt||tn?Nt=!1:Nt=A?He<=h:He<h;Nt?N=_e+1:V=_e}return Lt(V,tt)}function eg(c,h){for(var b=-1,A=c.length,N=0,V=[];++b<A;){var X=c[b],ae=h?h(X):X;if(!b||!jo(ae,he)){var he=ae;V[N++]=X===0?0:X}}return V}function tg(c){return typeof c=="number"?c:xo(c)?ee:+c}function mr(c){if(typeof c=="string")return c;if(qt(c))return qn(c,mr)+"";if(xo(c))return Xf?Xf.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}function $i(c,h,b){var A=-1,N=Su,V=c.length,X=!0,ae=[],he=ae;if(b)X=!1,N=ul;else if(V>=i){var De=h?null:_l(c);if(De)return yl(De);X=!1,N=ya,he=new Aa}else he=h?[]:ae;e:for(;++A<V;){var _e=c[A],He=h?h(_e):_e;if(_e=b||_e!==0?_e:0,X&&He===He){for(var lt=he.length;lt--;)if(he[lt]===He)continue e;h&&he.push(He),ae.push(_e)}else N(he,He,b)||(he!==ae&&he.push(He),ae.push(_e))}return ae}function Ks(c,h){return h=Da(h,c),c=gg(c,h),c==null||delete c[_i(Ni(h))]}function Ml(c,h,b,A){return Nc(c,h,b(ka(c,h)),A)}function Ic(c,h,b,A){for(var N=c.length,V=A?N:-1;(A?V--:++V<N)&&h(c[V],V,c););return b?fo(c,A?0:V,A?V+1:N):fo(c,A?V+1:0,A?N:V)}function Xh(c,h){var b=c;return b instanceof jt&&(b=b.value()),cl(h,function(A,N){return N.func.apply(N.thisArg,Bo([A],N.args))},b)}function Jh(c,h,b){var A=c.length;if(A<2)return A?$i(c[0]):[];for(var N=-1,V=I(A);++N<A;)for(var X=c[N],ae=-1;++ae<A;)ae!=N&&(V[N]=kc(V[N]||X,c[ae],h,b));return $i(Er(V,1),h,b)}function ng(c,h,b){for(var A=-1,N=c.length,V=h.length,X={};++A<N;){var ae=A<V?h[A]:n;b(X,c[A],ae)}return X}function Ma(c){return cr(c)?c:[]}function zc(c){return typeof c=="function"?c:Tn}function Da(c,h){return qt(c)?c:jc(c,h)?[c]:Qs(Mn(c))}var W0=Gt;function Ra(c,h,b){var A=c.length;return b=b===n?A:b,!h&&b>=A?c:fo(c,h,b)}var ld=zo||function(c){return sr.clearTimeout(c)};function rg(c,h){if(h)return c.slice();var b=c.length,A=bl?bl(b):new c.constructor(b);return c.copy(A),A}function ud(c){var h=new c.constructor(c.byteLength);return new In(h).set(new In(c)),h}function Q0(c,h){var b=h?ud(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.byteLength)}function X0(c){var h=new c.constructor(c.source,hu.exec(c));return h.lastIndex=c.lastIndex,h}function Zb(c){return Ca?ie(Ca.call(c)):{}}function ig(c,h){var b=h?ud(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.length)}function Lr(c,h){if(c!==h){var b=c!==n,A=c===null,N=c===c,V=xo(c),X=h!==n,ae=h===null,he=h===h,De=xo(h);if(!ae&&!De&&!V&&c>h||V&&X&&he&&!ae&&!De||A&&X&&he||!b&&he||!N)return 1;if(!A&&!V&&!De&&c<h||De&&b&&N&&!A&&!V||ae&&b&&N||!X&&N||!he)return-1}return 0}function Zr(c,h,b){for(var A=-1,N=c.criteria,V=h.criteria,X=N.length,ae=b.length;++A<X;){var he=Lr(N[A],V[A]);if(he){if(A>=ae)return he;var De=b[A];return he*(De=="desc"?-1:1)}}return c.index-h.index}function og(c,h,b,A){for(var N=-1,V=c.length,X=b.length,ae=-1,he=h.length,De=an(V-X,0),_e=I(he+De),He=!A;++ae<he;)_e[ae]=h[ae];for(;++N<X;)(He||N<V)&&(_e[b[N]]=c[N]);for(;De--;)_e[ae++]=c[N++];return _e}function sg(c,h,b,A){for(var N=-1,V=c.length,X=-1,ae=b.length,he=-1,De=h.length,_e=an(V-ae,0),He=I(_e+De),lt=!A;++N<_e;)He[N]=c[N];for(var xt=N;++he<De;)He[xt+he]=h[he];for(;++X<ae;)(lt||N<V)&&(He[xt+b[X]]=c[N++]);return He}function Ri(c,h){var b=-1,A=c.length;for(h||(h=I(A));++b<A;)h[b]=c[b];return h}function ps(c,h,b,A){var N=!b;b||(b={});for(var V=-1,X=h.length;++V<X;){var ae=h[V],he=A?A(b[ae],c[ae],ae,b,c):n;he===n&&(he=c[ae]),N?co(b,ae,he):Jn(b,ae,he)}return b}function J0(c,h){return ps(c,sp(c),h)}function cd(c,h){return ps(c,dg(c),h)}function Hc(c,h){return function(b,A){var N=qt(b)?Uf:Ac,V=h?h():{};return N(b,c,Ot(A,2),V)}}function zu(c){return Gt(function(h,b){var A=-1,N=b.length,V=N>1?b[N-1]:n,X=N>2?b[2]:n;for(V=c.length>3&&typeof V=="function"?(N--,V):n,X&&ei(b[0],b[1],X)&&(V=N<3?n:V,N=1),h=ie(h);++A<N;){var ae=b[A];ae&&c(h,ae,A,V)}return h})}function ag(c,h){return function(b,A){if(b==null)return b;if(!Kt(b))return c(b,A);for(var N=b.length,V=h?N:-1,X=ie(b);(h?V--:++V<N)&&A(X[V],V,X)!==!1;);return b}}function lg(c){return function(h,b,A){for(var N=-1,V=ie(h),X=A(h),ae=X.length;ae--;){var he=X[c?ae:++N];if(b(V[he],he,V)===!1)break}return h}}function ug(c,h,b){var A=h&R,N=Pc(c);function V(){var X=this&&this!==sr&&this instanceof V?N:c;return X.apply(A?b:this,arguments)}return V}function Zh(c){return function(h){h=Mn(h);var b=lo(h)?w(h):n,A=b?b[0]:h.charAt(0),N=b?Ra(b,1).join(""):h.slice(1);return A[c]()+N}}function Dl(c){return function(h){return cl(fr(ly(h).replace(dc,"")),c,"")}}function Pc(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var b=Ea(c.prototype),A=c.apply(b,h);return er(A)?A:b}}function cg(c,h,b){var A=Pc(c);function N(){for(var V=arguments.length,X=I(V),ae=V,he=ho(N);ae--;)X[ae]=arguments[ae];var De=V<3&&X[0]!==he&&X[V-1]!==he?[]:hi(X,he);if(V-=De.length,V<b)return Rl(c,h,fd,N.placeholder,n,X,De,n,n,b-V);var _e=this&&this!==sr&&this instanceof N?A:c;return jr(_e,this,X)}return N}function ep(c){return function(h,b,A){var N=ie(h);if(!Kt(h)){var V=Ot(b,3);h=Br(h),b=function(ae){return V(N[ae],ae,N)}}var X=c(h,b,A);return X>-1?N[V?h[X]:X]:n}}function tp(c){return Ys(function(h){var b=h.length,A=b,N=uo.prototype.thru;for(c&&h.reverse();A--;){var V=h[A];if(typeof V!="function")throw new ve(l);if(N&&!X&&vs(V)=="wrapper")var X=new uo([],!0)}for(A=X?A:b;++A<b;){V=h[A];var ae=vs(V),he=ae=="wrapper"?pd(V):n;he&&Zn(he[0])&&he[1]==(de|Y|G|we)&&!he[4].length&&he[9]==1?X=X[vs(he[0])].apply(X,he[3]):X=V.length==1&&Zn(V)?X[ae]():X.thru(V)}return function(){var De=arguments,_e=De[0];if(X&&De.length==1&&qt(_e))return X.plant(_e).value();for(var He=0,lt=b?h[He].apply(this,De):_e;++He<b;)lt=h[He].call(this,lt);return lt}})}function fd(c,h,b,A,N,V,X,ae,he,De){var _e=h&de,He=h&R,lt=h&H,xt=h&(Y|U),_t=h&fe,tn=lt?n:Pc(c);function Nt(){for(var un=arguments.length,vn=I(un),Es=un;Es--;)vn[Es]=arguments[Es];if(xt)var So=ho(Nt),Ts=_m(vn,So);if(A&&(vn=og(vn,A,N,xt)),V&&(vn=sg(vn,V,X,xt)),un-=Ts,xt&&un<De){var Ir=hi(vn,So);return Rl(c,h,fd,Nt.placeholder,b,vn,Ir,ae,he,De-un)}var qa=He?b:this,Ku=lt?qa[c]:c;return un=vn.length,ae?vn=av(vn,ae):_t&&un>1&&vn.reverse(),_e&&he<un&&(vn.length=he),this&&this!==sr&&this instanceof Nt&&(Ku=tn||Pc(Ku)),Ku.apply(qa,vn)}return Nt}function np(c,h){return function(b,A){return Um(b,c,h(A),{})}}function dd(c,h){return function(b,A){var N;if(b===n&&A===n)return h;if(b!==n&&(N=b),A!==n){if(N===n)return A;typeof b=="string"||typeof A=="string"?(b=mr(b),A=mr(A)):(b=tg(b),A=tg(A)),N=c(b,A)}return N}}function ms(c){return Ys(function(h){return h=qn(h,di(Ot())),Gt(function(b){var A=this;return c(h,function(N){return jr(N,A,b)})})})}function Fc(c,h){h=h===n?" ":mr(h);var b=h.length;if(b<2)return b?sd(h,c):h;var A=sd(h,Po(c/g(h)));return lo(h)?Ra(w(A),0,c).join(""):A.slice(0,c)}function ex(c,h,b,A){var N=h&R,V=Pc(c);function X(){for(var ae=-1,he=arguments.length,De=-1,_e=A.length,He=I(_e+he),lt=this&&this!==sr&&this instanceof X?V:c;++De<_e;)He[De]=A[De];for(;he--;)He[De++]=arguments[++ae];return jr(lt,N?b:this,He)}return X}function fg(c){return function(h,b,A){return A&&typeof A!="number"&&ei(h,b,A)&&(b=A=n),h=Pa(h),b===n?(b=h,h=0):b=Pa(b),A=A===n?h<b?1:-1:Pa(A),Qb(h,b,A,c)}}function qc(c){return function(h,b){return typeof h=="string"&&typeof b=="string"||(h=ni(h),b=ni(b)),c(h,b)}}function Rl(c,h,b,A,N,V,X,ae,he,De){var _e=h&Y,He=_e?X:n,lt=_e?n:X,xt=_e?V:n,_t=_e?n:V;h|=_e?G:re,h&=~(_e?re:G),h&K||(h&=-4);var tn=[c,h,N,xt,He,_t,lt,ae,he,De],Nt=b.apply(n,tn);return Zn(c)&&ap(Nt,tn),Nt.placeholder=A,vg(Nt,c,h)}function gs(c){var h=le[c];return function(b,A){if(b=ni(b),A=A==null?0:Lt($t(A),292),A&&Ih(b)){var N=(Mn(b)+"e").split("e"),V=h(N[0]+"e"+(+N[1]+A));return N=(Mn(V)+"e").split("e"),+(N[0]+"e"+(+N[1]-A))}return h(b)}}var _l=Us&&1/yl(new Us([,-0]))[1]==$e?function(c){return new Us(c)}:Ix;function $s(c){return function(h){var b=Tr(h);return b==dn?gl(h):b==Le?vl(h):Nh(h,c(h))}}function ys(c,h,b,A,N,V,X,ae){var he=h&H;if(!he&&typeof c!="function")throw new ve(l);var De=A?A.length:0;if(De||(h&=-97,A=N=n),X=X===n?X:an($t(X),0),ae=ae===n?ae:$t(ae),De-=N?N.length:0,h&re){var _e=A,He=N;A=N=n}var lt=he?n:pd(c),xt=[c,h,b,A,N,_e,He,V,X,ae];if(lt&&sv(xt,lt),c=xt[0],h=xt[1],b=xt[2],A=xt[3],N=xt[4],ae=xt[9]=xt[9]===n?he?0:c.length:an(xt[9]-De,0),!ae&&h&(Y|U)&&(h&=-25),!h||h==R)var _t=ug(c,h,b);else h==Y||h==U?_t=cg(c,h,ae):(h==G||h==(R|G))&&!N.length?_t=ex(c,h,b,A):_t=fd.apply(n,xt);var tn=lt?Zm:ap;return vg(tn(_t,xt),c,h)}function rp(c,h,b,A){return c===n||jo(c,Xe[b])&&!Be.call(A,b)?h:c}function Uc(c,h,b,A,N,V){return er(c)&&er(h)&&(V.set(h,c),id(c,h,n,Uc,V),V.delete(h)),c}function ip(c){return bi(c)?n:c}function Nl(c,h,b,A,N,V){var X=b&E,ae=c.length,he=h.length;if(ae!=he&&!(X&&he>ae))return!1;var De=V.get(c),_e=V.get(h);if(De&&_e)return De==h&&_e==c;var He=-1,lt=!0,xt=b&k?new Aa:n;for(V.set(c,h),V.set(h,c);++He<ae;){var _t=c[He],tn=h[He];if(A)var Nt=X?A(tn,_t,He,h,c,V):A(_t,tn,He,c,h,V);if(Nt!==n){if(Nt)continue;lt=!1;break}if(xt){if(!ls(h,function(un,vn){if(!ya(xt,vn)&&(_t===un||N(_t,un,b,A,V)))return xt.push(vn)})){lt=!1;break}}else if(!(_t===tn||N(_t,tn,b,A,V))){lt=!1;break}}return V.delete(c),V.delete(h),lt}function gi(c,h,b,A,N,V,X){switch(b){case hn:if(c.byteLength!=h.byteLength||c.byteOffset!=h.byteOffset)return!1;c=c.buffer,h=h.buffer;case Ht:return!(c.byteLength!=h.byteLength||!V(new In(c),new In(h)));case yt:case Pe:case Rn:return jo(+c,+h);case fn:return c.name==h.name&&c.message==h.message;case be:case qe:return c==h+"";case dn:var ae=gl;case Le:var he=A&E;if(ae||(ae=yl),c.size!=h.size&&!he)return!1;var De=X.get(c);if(De)return De==h;A|=k,X.set(c,h);var _e=Nl(ae(c),ae(h),A,N,V,X);return X.delete(c),_e;case Ie:if(Ca)return Ca.call(c)==Ca.call(h)}return!1}function op(c,h,b,A,N,V){var X=b&E,ae=Gs(c),he=ae.length,De=Gs(h),_e=De.length;if(he!=_e&&!X)return!1;for(var He=he;He--;){var lt=ae[He];if(!(X?lt in h:Be.call(h,lt)))return!1}var xt=V.get(c),_t=V.get(h);if(xt&&_t)return xt==h&&_t==c;var tn=!0;V.set(c,h),V.set(h,c);for(var Nt=X;++He<he;){lt=ae[He];var un=c[lt],vn=h[lt];if(A)var Es=X?A(vn,un,lt,h,c,V):A(un,vn,lt,c,h,V);if(!(Es===n?un===vn||N(un,vn,b,A,V):Es)){tn=!1;break}Nt||(Nt=lt=="constructor")}if(tn&&!Nt){var So=c.constructor,Ts=h.constructor;So!=Ts&&"constructor"in c&&"constructor"in h&&!(typeof So=="function"&&So instanceof So&&typeof Ts=="function"&&Ts instanceof Ts)&&(tn=!1)}return V.delete(c),V.delete(h),tn}function Ys(c){return mo(Ws(c,n,yo),c+"")}function Gs(c){return Kh(c,Br,sp)}function hd(c){return Kh(c,Li,dg)}var pd=Wf?function(c){return Wf.get(c)}:Ix;function vs(c){for(var h=c.name+"",b=xl[h],A=Be.call(xl,h)?b.length:0;A--;){var N=b[A],V=N.func;if(V==null||V==c)return N.name}return h}function ho(c){var h=Be.call(P,"placeholder")?P:c;return h.placeholder}function Ot(){var c=P.iteratee||mn;return c=c===mn?Km:c,arguments.length?c(arguments[0],arguments[1]):c}function Vc(c,h){var b=c.__data__;return _a(h)?b[typeof h=="string"?"string":"hash"]:b.map}function md(c){for(var h=Br(c),b=h.length;b--;){var A=h[b],N=c[A];h[b]=[A,N,mg(N)]}return h}function bs(c,h){var b=Yn(c,h);return jm(b)?b:n}function gd(c){var h=Be.call(c,Fs),b=c[Fs];try{c[Fs]=n;var A=!0}catch{}var N=bt.call(c);return A&&(h?c[Fs]=b:delete c[Fs]),N}var sp=ba?function(c){return c==null?[]:(c=ie(c),fi(ba(c),function(h){return Ou.call(c,h)}))}:zx,dg=ba?function(c){for(var h=[];c;)Bo(h,sp(c)),c=ar(c);return h}:zx,Tr=mi;(Hh&&Tr(new Hh(new ArrayBuffer(1)))!=hn||Cc&&Tr(new Cc)!=dn||Ru&&Tr(Ru.resolve())!=te||Us&&Tr(new Us)!=Le||xa&&Tr(new xa)!=St)&&(Tr=function(c){var h=mi(c),b=h==tr?c.constructor:n,A=b?Gi(b):"";if(A)switch(A){case D0:return hn;case Ph:return dn;case R0:return te;case Qf:return Le;case _0:return St}return h});function Ll(c,h,b){for(var A=-1,N=b.length;++A<N;){var V=b[A],X=V.size;switch(V.type){case"drop":c+=X;break;case"dropRight":h-=X;break;case"take":h=Lt(h,c+X);break;case"takeRight":c=an(c,h-X);break}}return{start:c,end:h}}function Z0(c){var h=c.match(Oi);return h?h[1].split(Rr):[]}function hg(c,h,b){h=Da(h,c);for(var A=-1,N=h.length,V=!1;++A<N;){var X=_i(h[A]);if(!(V=c!=null&&b(c,X)))break;c=c[X]}return V||++A!=N?V:(N=c==null?0:c.length,!!N&&bp(N)&&xs(X,N)&&(qt(c)||Pl(c)))}function Hu(c){var h=c.length,b=new c.constructor(h);return h&&typeof c[0]=="string"&&Be.call(c,"index")&&(b.index=c.index,b.input=c.input),b}function Yi(c){return typeof c.constructor=="function"&&!gr(c)?Ea(ar(c)):{}}function ev(c,h,b){var A=c.constructor;switch(h){case Ht:return ud(c);case yt:case Pe:return new A(+c);case hn:return Q0(c,b);case Mr:case Qr:case nr:case Pr:case Dr:case Ce:case nt:case ke:case At:return ig(c,b);case dn:return new A;case Rn:case qe:return new A(c);case be:return X0(c);case Le:return new A;case Ie:return Zb(c)}}function tv(c,h){var b=h.length;if(!b)return c;var A=b-1;return h[A]=(b>1?"& ":"")+h[A],h=h.join(b>2?", ":" "),c.replace(io,`{
/* [wrapped with `+h+`] */
`)}function nv(c){return qt(c)||Pl(c)||!!(Au&&c&&c[Au])}function xs(c,h){var b=typeof c;return h=h??Ye,!!h&&(b=="number"||b!="symbol"&&Ls.test(c))&&c>-1&&c%1==0&&c<h}function ei(c,h,b){if(!er(b))return!1;var A=typeof h;return(A=="number"?Kt(b)&&xs(h,b.length):A=="string"&&h in b)?jo(b[h],c):!1}function jc(c,h){if(qt(c))return!1;var b=typeof c;return b=="number"||b=="symbol"||b=="boolean"||c==null||xo(c)?!0:hr.test(c)||!Xn.test(c)||h!=null&&c in ie(h)}function _a(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function Zn(c){var h=vs(c),b=P[h];if(typeof b!="function"||!(h in jt.prototype))return!1;if(c===b)return!0;var A=pd(b);return!!A&&c===A[0]}function pg(c){return!!rt&&rt in c}var rv=Ue?Ha:Hx;function gr(c){var h=c&&c.constructor,b=typeof h=="function"&&h.prototype||Xe;return c===b}function mg(c){return c===c&&!er(c)}function iv(c,h){return function(b){return b==null?!1:b[c]===h&&(h!==n||c in ie(b))}}function ov(c){var h=kd(c,function(A){return b.size===m&&b.clear(),A}),b=h.cache;return h}function sv(c,h){var b=c[1],A=h[1],N=b|A,V=N<(R|H|de),X=A==de&&b==Y||A==de&&b==we&&c[7].length<=h[8]||A==(de|we)&&h[7].length<=h[8]&&b==Y;if(!(V||X))return c;A&R&&(c[2]=h[2],N|=b&R?0:K);var ae=h[3];if(ae){var he=c[3];c[3]=he?og(he,ae,h[4]):ae,c[4]=he?hi(c[3],y):h[4]}return ae=h[5],ae&&(he=c[5],c[5]=he?sg(he,ae,h[6]):ae,c[6]=he?hi(c[5],y):h[6]),ae=h[7],ae&&(c[7]=ae),A&de&&(c[8]=c[8]==null?h[8]:Lt(c[8],h[8])),c[9]==null&&(c[9]=h[9]),c[0]=h[0],c[1]=N,c}function Or(c){var h=[];if(c!=null)for(var b in ie(c))h.push(b);return h}function po(c){return bt.call(c)}function Ws(c,h,b){return h=an(h===n?c.length-1:h,0),function(){for(var A=arguments,N=-1,V=an(A.length-h,0),X=I(V);++N<V;)X[N]=A[h+N];N=-1;for(var ae=I(h+1);++N<h;)ae[N]=A[N];return ae[h]=b(X),jr(c,this,ae)}}function gg(c,h){return h.length<2?c:ka(c,fo(h,0,-1))}function av(c,h){for(var b=c.length,A=Lt(h.length,b),N=Ri(c);A--;){var V=h[A];c[A]=xs(V,b)?N[V]:n}return c}function yg(c,h){if(!(h==="constructor"&&typeof c[h]=="function")&&h!="__proto__")return c[h]}var ap=go(Zm),yi=Mu||function(c,h){return sr.setTimeout(c,h)},mo=go(Xb);function vg(c,h,b){var A=h+"";return mo(c,tv(A,bg(Z0(A),b)))}function go(c){var h=0,b=0;return function(){var A=fs(),N=Je-(A-b);if(b=A,N>0){if(++h>=Ve)return arguments[0]}else h=0;return c.apply(n,arguments)}}function yd(c,h){var b=-1,A=c.length,N=A-1;for(h=h===n?A:h;++b<h;){var V=Qh(b,N),X=c[V];c[V]=c[b],c[b]=X}return c.length=h,c}var Qs=ov(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(Fn,function(b,A,N,V){h.push(N?V.replace(oo,"$1"):A||b)}),h});function _i(c){if(typeof c=="string"||xo(c))return c;var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}function Gi(c){if(c!=null){try{return Ke.call(c)}catch{}try{return c+""}catch{}}return""}function bg(c,h){return ci(Ge,function(b){var A="_."+b[0];h&b[1]&&!Su(c,A)&&c.push(A)}),c.sort()}function lp(c){if(c instanceof jt)return c.clone();var h=new uo(c.__wrapped__,c.__chain__);return h.__actions__=Ri(c.__actions__),h.__index__=c.__index__,h.__values__=c.__values__,h}function Bl(c,h,b){(b?ei(c,h,b):h===n)?h=1:h=an($t(h),0);var A=c==null?0:c.length;if(!A||h<1)return[];for(var N=0,V=0,X=I(Po(A/h));N<A;)X[V++]=fo(c,N,N+=h);return X}function lv(c){for(var h=-1,b=c==null?0:c.length,A=0,N=[];++h<b;){var V=c[h];V&&(N[A++]=V)}return N}function Kc(){var c=arguments.length;if(!c)return[];for(var h=I(c-1),b=arguments[0],A=c;A--;)h[A-1]=arguments[A];return Bo(qt(b)?Ri(b):[b],Er(h,1))}var vd=Gt(function(c,h){return cr(c)?kc(c,Er(h,1,cr,!0)):[]}),bd=Gt(function(c,h){var b=Ni(h);return cr(b)&&(b=n),cr(c)?kc(c,Er(h,1,cr,!0),Ot(b,2)):[]}),$c=Gt(function(c,h){var b=Ni(h);return cr(b)&&(b=n),cr(c)?kc(c,Er(h,1,cr,!0),n,b):[]});function uv(c,h,b){var A=c==null?0:c.length;return A?(h=b||h===n?1:$t(h),fo(c,h<0?0:h,A)):[]}function cv(c,h,b){var A=c==null?0:c.length;return A?(h=b||h===n?1:$t(h),h=A-h,fo(c,0,h<0?0:h)):[]}function xd(c,h){return c&&c.length?Ic(c,Ot(h,3),!0,!0):[]}function fv(c,h){return c&&c.length?Ic(c,Ot(h,3),!0):[]}function up(c,h,b,A){var N=c==null?0:c.length;return N?(b&&typeof b!="number"&&ei(c,h,b)&&(b=0,A=N),Ki(c,h,b,A)):[]}function xg(c,h,b){var A=c==null?0:c.length;if(!A)return-1;var N=b==null?0:$t(b);return N<0&&(N=an(A+N,0)),Cu(c,Ot(h,3),N)}function dv(c,h,b){var A=c==null?0:c.length;if(!A)return-1;var N=A-1;return b!==n&&(N=$t(b),N=b<0?an(A+N,0):Lt(N,A-1)),Cu(c,Ot(h,3),N,!0)}function yo(c){var h=c==null?0:c.length;return h?Er(c,1):[]}function wg(c){var h=c==null?0:c.length;return h?Er(c,$e):[]}function Il(c,h){var b=c==null?0:c.length;return b?(h=h===n?1:$t(h),Er(c,h)):[]}function hv(c){for(var h=-1,b=c==null?0:c.length,A={};++h<b;){var N=c[h];A[N[0]]=N[1]}return A}function wd(c){return c&&c.length?c[0]:n}function Pu(c,h,b){var A=c==null?0:c.length;if(!A)return-1;var N=b==null?0:$t(b);return N<0&&(N=an(A+N,0)),fl(c,h,N)}function pv(c){var h=c==null?0:c.length;return h?fo(c,0,-1):[]}var Sg=Gt(function(c){var h=qn(c,Ma);return h.length&&h[0]===c[0]?Yh(h):[]}),Cg=Gt(function(c){var h=Ni(c),b=qn(c,Ma);return h===Ni(b)?h=n:b.pop(),b.length&&b[0]===c[0]?Yh(b,Ot(h,2)):[]}),Na=Gt(function(c){var h=Ni(c),b=qn(c,Ma);return h=typeof h=="function"?h:n,h&&b.pop(),b.length&&b[0]===c[0]?Yh(b,n,h):[]});function mv(c,h){return c==null?"":Nm.call(c,h)}function Ni(c){var h=c==null?0:c.length;return h?c[h-1]:n}function Sd(c,h,b){var A=c==null?0:c.length;if(!A)return-1;var N=A;return b!==n&&(N=$t(b),N=N<0?an(A+N,0):Lt(N,A-1)),h===h?pi(c,h,N):Cu(c,us,N,!0)}function lr(c,h){return c&&c.length?Ym(c,$t(h)):n}var tx=Gt(gv);function gv(c,h){return c&&c.length&&h&&h.length?od(c,h):c}function yv(c,h,b){return c&&c.length&&h&&h.length?od(c,h,Ot(b,2)):c}function nx(c,h,b){return c&&c.length&&h&&h.length?od(c,h,n,b):c}var rx=Ys(function(c,h){var b=c==null?0:c.length,A=Ol(c,h);return Xm(c,qn(h,function(N){return xs(N,b)?+N:N}).sort(Lr)),A});function ur(c,h){var b=[];if(!(c&&c.length))return b;var A=-1,N=[],V=c.length;for(h=Ot(h,3);++A<V;){var X=c[A];h(X,A,c)&&(b.push(X),N.push(A))}return Xm(c,N),b}function zn(c){return c==null?c:Du.call(c)}function rn(c,h,b){var A=c==null?0:c.length;return A?(b&&typeof b!="number"&&ei(c,h,b)?(h=0,b=A):(h=h==null?0:$t(h),b=b===n?A:$t(b)),fo(c,h,b)):[]}function pn(c,h){return Lc(c,h)}function jn(c,h,b){return Bc(c,h,Ot(b,2))}function vo(c,h){var b=c==null?0:c.length;if(b){var A=Lc(c,h);if(A<b&&jo(c[A],h))return A}return-1}function La(c,h){return Lc(c,h,!0)}function Yc(c,h,b){return Bc(c,h,Ot(b,2),!0)}function Eg(c,h){var b=c==null?0:c.length;if(b){var A=Lc(c,h,!0)-1;if(jo(c[A],h))return A}return-1}function Ba(c){return c&&c.length?eg(c):[]}function yr(c,h){return c&&c.length?eg(c,Ot(h,2)):[]}function zl(c){var h=c==null?0:c.length;return h?fo(c,1,h):[]}function Fu(c,h,b){return c&&c.length?(h=b||h===n?1:$t(h),fo(c,0,h<0?0:h)):[]}function Tg(c,h,b){var A=c==null?0:c.length;return A?(h=b||h===n?1:$t(h),h=A-h,fo(c,h<0?0:h,A)):[]}function Vo(c,h){return c&&c.length?Ic(c,Ot(h,3),!1,!0):[]}function Gc(c,h){return c&&c.length?Ic(c,Ot(h,3)):[]}var Cd=Gt(function(c){return $i(Er(c,1,cr,!0))}),Xs=Gt(function(c){var h=Ni(c);return cr(h)&&(h=n),$i(Er(c,1,cr,!0),Ot(h,2))}),Og=Gt(function(c){var h=Ni(c);return h=typeof h=="function"?h:n,$i(Er(c,1,cr,!0),n,h)});function Ag(c){return c&&c.length?$i(c):[]}function cp(c,h){return c&&c.length?$i(c,Ot(h,2)):[]}function fp(c,h){return h=typeof h=="function"?h:n,c&&c.length?$i(c,n,h):[]}function Js(c){if(!(c&&c.length))return[];var h=0;return c=fi(c,function(b){if(cr(b))return h=an(b.length,h),!0}),cs(h,function(b){return qn(c,dl(b))})}function Ed(c,h){if(!(c&&c.length))return[];var b=Js(c);return h==null?b:qn(b,function(A){return jr(h,n,A)})}var qu=Gt(function(c,h){return cr(c)?kc(c,h):[]}),Td=Gt(function(c){return Jh(fi(c,cr))}),kg=Gt(function(c){var h=Ni(c);return cr(h)&&(h=n),Jh(fi(c,cr),Ot(h,2))}),Mg=Gt(function(c){var h=Ni(c);return h=typeof h=="function"?h:n,Jh(fi(c,cr),n,h)}),Od=Gt(Js);function Dg(c,h){return ng(c||[],h||[],Jn)}function bo(c,h){return ng(c||[],h||[],Nc)}var vv=Gt(function(c){var h=c.length,b=h>1?c[h-1]:n;return b=typeof b=="function"?(c.pop(),b):n,Ed(c,b)});function vi(c){var h=P(c);return h.__chain__=!0,h}function bv(c,h){return h(c),c}function Wc(c,h){return h(c)}var xv=Ys(function(c){var h=c.length,b=h?c[0]:0,A=this.__wrapped__,N=function(V){return Ol(V,c)};return h>1||this.__actions__.length||!(A instanceof jt)||!xs(b)?this.thru(N):(A=A.slice(b,+b+(h?1:0)),A.__actions__.push({func:Wc,args:[N],thisArg:n}),new uo(A,this.__chain__).thru(function(V){return h&&!V.length&&V.push(n),V}))});function ix(){return vi(this)}function Ia(){return new uo(this.value(),this.__chain__)}function dp(){this.__values__===n&&(this.__values__=qv(this.value()));var c=this.__index__>=this.__values__.length,h=c?n:this.__values__[this.__index__++];return{done:c,value:h}}function Rg(){return this}function Qc(c){for(var h,b=this;b instanceof Jf;){var A=lp(b);A.__index__=0,A.__values__=n,h?N.__wrapped__=A:h=A;var N=A;b=b.__wrapped__}return N.__wrapped__=c,h}function wv(){var c=this.__wrapped__;if(c instanceof jt){var h=c;return this.__actions__.length&&(h=new jt(this)),h=h.reverse(),h.__actions__.push({func:Wc,args:[zn],thisArg:n}),new uo(h,this.__chain__)}return this.thru(zn)}function Sv(){return Xh(this.__wrapped__,this.__actions__)}var Cv=Hc(function(c,h,b){Be.call(c,b)?++c[b]:co(c,b,1)});function _g(c,h,b){var A=qt(c)?ll:qm;return b&&ei(c,h,b)&&(h=n),A(c,Ot(h,3))}function Ng(c,h){var b=qt(c)?fi:xr;return b(c,Ot(h,3))}var ox=ep(xg),sx=ep(dv);function ax(c,h){return Er(za(c,h),1)}function Ev(c,h){return Er(za(c,h),$e)}function Tv(c,h,b){return b=b===n?1:$t(b),Er(za(c,h),b)}function Uu(c,h){var b=qt(c)?ci:Al;return b(c,Ot(h,3))}function Ad(c,h){var b=qt(c)?Kr:jh;return b(c,Ot(h,3))}var Ov=Hc(function(c,h,b){Be.call(c,b)?c[b].push(h):co(c,b,[h])});function Av(c,h,b,A){c=Kt(c)?c:wo(c),b=b&&!A?$t(b):0;var N=c.length;return b<0&&(b=an(N+b,0)),Sp(c)?b<=N&&c.indexOf(h,b)>-1:!!N&&fl(c,h,b)>-1}var lx=Gt(function(c,h,b){var A=-1,N=typeof h=="function",V=Kt(c)?I(c.length):[];return Al(c,function(X){V[++A]=N?jr(h,X,b):Dc(X,h,b)}),V}),kv=Hc(function(c,h,b){co(c,b,h)});function za(c,h){var b=qt(c)?qn:rd;return b(c,Ot(h,3))}function Mv(c,h,b,A){return c==null?[]:(qt(h)||(h=h==null?[]:[h]),b=A?n:b,qt(b)||(b=b==null?[]:[b]),Gm(c,h,b))}var Vn=Hc(function(c,h,b){c[b?0:1].push(h)},function(){return[[],[]]});function Lg(c,h,b){var A=qt(c)?cl:$f,N=arguments.length<3;return A(c,Ot(h,4),b,N,Al)}function ux(c,h,b){var A=qt(c)?Vf:$f,N=arguments.length<3;return A(c,Ot(h,4),b,N,jh)}function Dv(c,h){var b=qt(c)?fi:xr;return b(c,pp(Ot(h,3)))}function cx(c){var h=qt(c)?Hm:G0;return h(c)}function fx(c,h,b){(b?ei(c,h,b):h===n)?h=1:h=$t(h);var A=qt(c)?El:Jm;return A(c,h)}function dx(c){var h=qt(c)?Wt:Jb;return h(c)}function hp(c){if(c==null)return 0;if(Kt(c))return Sp(c)?g(c):c.length;var h=Tr(c);return h==dn||h==Le?c.size:kl(c).length}function Xc(c,h,b){var A=qt(c)?ls:ad;return b&&ei(c,h,b)&&(h=n),A(c,Ot(h,3))}var Bg=Gt(function(c,h){if(c==null)return[];var b=h.length;return b>1&&ei(c,h[0],h[1])?h=[]:b>2&&ei(h[0],h[1],h[2])&&(h=[h[0]]),Gm(c,Er(h,1),[])}),Vu=Ho||function(){return sr.Date.now()};function Ig(c,h){if(typeof h!="function")throw new ve(l);return c=$t(c),function(){if(--c<1)return h.apply(this,arguments)}}function Hl(c,h,b){return h=b?n:h,h=c&&h==null?c.length:h,ys(c,de,n,n,n,n,h)}function ws(c,h){var b;if(typeof h!="function")throw new ve(l);return c=$t(c),function(){return--c>0&&(b=h.apply(this,arguments)),c<=1&&(h=n),b}}var ju=Gt(function(c,h,b){var A=R;if(b.length){var N=hi(b,ho(ju));A|=G}return ys(c,A,h,b,N)}),Rv=Gt(function(c,h,b){var A=R|H;if(b.length){var N=hi(b,ho(Rv));A|=G}return ys(h,A,c,b,N)});function zg(c,h,b){h=b?n:h;var A=ys(c,Y,n,n,n,n,n,h);return A.placeholder=zg.placeholder,A}function Hg(c,h,b){h=b?n:h;var A=ys(c,U,n,n,n,n,n,h);return A.placeholder=Hg.placeholder,A}function Pg(c,h,b){var A,N,V,X,ae,he,De=0,_e=!1,He=!1,lt=!0;if(typeof c!="function")throw new ve(l);h=ni(h)||0,er(b)&&(_e=!!b.leading,He="maxWait"in b,V=He?an(ni(b.maxWait)||0,h):V,lt="trailing"in b?!!b.trailing:lt);function xt(Ir){var qa=A,Ku=N;return A=N=n,De=Ir,X=c.apply(Ku,qa),X}function _t(Ir){return De=Ir,ae=yi(un,h),_e?xt(Ir):X}function tn(Ir){var qa=Ir-he,Ku=Ir-De,a2=h-qa;return He?Lt(a2,V-Ku):a2}function Nt(Ir){var qa=Ir-he,Ku=Ir-De;return he===n||qa>=h||qa<0||He&&Ku>=V}function un(){var Ir=Vu();if(Nt(Ir))return vn(Ir);ae=yi(un,tn(Ir))}function vn(Ir){return ae=n,lt&&A?xt(Ir):(A=N=n,X)}function Es(){ae!==n&&ld(ae),De=0,A=he=N=ae=n}function So(){return ae===n?X:vn(Vu())}function Ts(){var Ir=Vu(),qa=Nt(Ir);if(A=arguments,N=this,he=Ir,qa){if(ae===n)return _t(he);if(He)return ld(ae),ae=yi(un,h),xt(he)}return ae===n&&(ae=yi(un,h)),X}return Ts.cancel=Es,Ts.flush=So,Ts}var hx=Gt(function(c,h){return Fm(c,1,h)}),Fg=Gt(function(c,h,b){return Fm(c,ni(h)||0,b)});function _v(c){return ys(c,fe)}function kd(c,h){if(typeof c!="function"||h!=null&&typeof h!="function")throw new ve(l);var b=function(){var A=arguments,N=h?h.apply(this,A):A[0],V=b.cache;if(V.has(N))return V.get(N);var X=c.apply(this,A);return b.cache=V.set(N,X)||V,X};return b.cache=new(kd.Cache||Oa),b}kd.Cache=Oa;function pp(c){if(typeof c!="function")throw new ve(l);return function(){var h=arguments;switch(h.length){case 0:return!c.call(this);case 1:return!c.call(this,h[0]);case 2:return!c.call(this,h[0],h[1]);case 3:return!c.call(this,h[0],h[1],h[2])}return!c.apply(this,h)}}function qg(c){return ws(2,c)}var Ug=W0(function(c,h){h=h.length==1&&qt(h[0])?qn(h[0],di(Ot())):qn(Er(h,1),di(Ot()));var b=h.length;return Gt(function(A){for(var N=-1,V=Lt(A.length,b);++N<V;)A[N]=h[N].call(this,A[N]);return jr(c,this,A)})}),Vg=Gt(function(c,h){var b=hi(h,ho(Vg));return ys(c,G,n,h,b)}),Nv=Gt(function(c,h){var b=hi(h,ho(Nv));return ys(c,re,n,h,b)}),Md=Ys(function(c,h){return ys(c,we,n,n,n,h)});function px(c,h){if(typeof c!="function")throw new ve(l);return h=h===n?h:$t(h),Gt(c,h)}function Lv(c,h){if(typeof c!="function")throw new ve(l);return h=h==null?0:an($t(h),0),Gt(function(b){var A=b[h],N=Ra(b,0,h);return A&&Bo(N,A),jr(c,this,N)})}function ln(c,h,b){var A=!0,N=!0;if(typeof c!="function")throw new ve(l);return er(b)&&(A="leading"in b?!!b.leading:A,N="trailing"in b?!!b.trailing:N),Pg(c,h,{leading:A,maxWait:h,trailing:N})}function jg(c){return Hl(c,1)}function mp(c,h){return Vg(zc(h),c)}function Kg(){if(!arguments.length)return[];var c=arguments[0];return qt(c)?c:[c]}function Bv(c){return Sn(c,T)}function $g(c,h){return h=typeof h=="function"?h:n,Sn(c,T,h)}function Dd(c){return Sn(c,x|T)}function gp(c,h){return h=typeof h=="function"?h:n,Sn(c,x|T,h)}function Jc(c,h){return h==null||Vh(c,h,Br(h))}function jo(c,h){return c===h||c!==c&&h!==h}var mx=qc($h),gx=qc(function(c,h){return c>=h}),Pl=P0(function(){return arguments}())?P0:function(c){return vr(c)&&Be.call(c,"callee")&&!Ou.call(c,"callee")},qt=I.isArray,yp=ga?di(ga):F0;function Kt(c){return c!=null&&bp(c.length)&&!Ha(c)}function cr(c){return vr(c)&&Kt(c)}function ti(c){return c===!0||c===!1||vr(c)&&mi(c)==yt}var Fl=M0||Hx,Yg=xu?di(xu):q0;function Gg(c){return vr(c)&&c.nodeType===1&&!bi(c)}function vp(c){if(c==null)return!0;if(Kt(c)&&(qt(c)||typeof c=="string"||typeof c.splice=="function"||Fl(c)||Cs(c)||Pl(c)))return!c.length;var h=Tr(c);if(h==dn||h==Le)return!c.size;if(gr(c))return!kl(c).length;for(var b in c)if(Be.call(c,b))return!1;return!0}function Iv(c,h){return Rc(c,h)}function zv(c,h,b){b=typeof b=="function"?b:n;var A=b?b(c,h):n;return A===n?Rc(c,h,n,b):!!A}function Rd(c){if(!vr(c))return!1;var h=mi(c);return h==fn||h==ft||typeof c.message=="string"&&typeof c.name=="string"&&!bi(c)}function Wg(c){return typeof c=="number"&&Ih(c)}function Ha(c){if(!er(c))return!1;var h=mi(c);return h==Tt||h==Cn||h==cn||h==ge}function Qg(c){return typeof c=="number"&&c==$t(c)}function bp(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ye}function er(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}function vr(c){return c!=null&&typeof c=="object"}var Hv=qf?di(qf):U0;function Xg(c,h){return c===h||Gh(c,h,md(h))}function Jg(c,h,b){return b=typeof b=="function"?b:n,Gh(c,h,md(h),b)}function yx(c){return Zg(c)&&c!=+c}function vx(c){if(rv(c))throw new W(s);return jm(c)}function Ss(c){return c===null}function Pv(c){return c==null}function Zg(c){return typeof c=="number"||vr(c)&&mi(c)==Rn}function bi(c){if(!vr(c)||mi(c)!=tr)return!1;var h=ar(c);if(h===null)return!0;var b=Be.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&Ke.call(b)==Pt}var xp=Rh?di(Rh):V0;function wp(c){return Qg(c)&&c>=-9007199254740991&&c<=Ye}var Zs=wu?di(wu):j0;function Sp(c){return typeof c=="string"||!qt(c)&&vr(c)&&mi(c)==qe}function xo(c){return typeof c=="symbol"||vr(c)&&mi(c)==Ie}var Cs=vc?di(vc):Wb;function Fv(c){return c===n}function bx(c){return vr(c)&&Tr(c)==St}function xx(c){return vr(c)&&mi(c)==sn}var wx=qc(_c),Sx=qc(function(c,h){return c<=h});function qv(c){if(!c)return[];if(Kt(c))return Sp(c)?w(c):Ri(c);if(Ps&&c[Ps])return Bh(c[Ps]());var h=Tr(c),b=h==dn?gl:h==Le?yl:wo;return b(c)}function Pa(c){if(!c)return c===0?c:0;if(c=ni(c),c===$e||c===-1/0){var h=c<0?-1:1;return h*mt}return c===c?c:0}function $t(c){var h=Pa(c),b=h%1;return h===h?b?h-b:h:0}function ey(c){return c?Lu($t(c),0,Oe):0}function ni(c){if(typeof c=="number")return c;if(xo(c))return ee;if(er(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=er(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=Lh(c);var b=rs.test(c);return b||is.test(c)?mc(c.slice(2),b?2:8):Rm.test(c)?ee:+c}function Zc(c){return ps(c,Li(c))}function Uv(c){return c?Lu($t(c),-9007199254740991,Ye):c===0?c:0}function Mn(c){return c==null?"":mr(c)}var ef=zu(function(c,h){if(gr(h)||Kt(h)){ps(h,Br(h),c);return}for(var b in h)Be.call(h,b)&&Jn(c,b,h[b])}),tf=zu(function(c,h){ps(h,Li(h),c)}),_d=zu(function(c,h,b,A){ps(h,Li(h),c,A)}),Cp=zu(function(c,h,b,A){ps(h,Br(h),c,A)}),ty=Ys(Ol);function ny(c,h){var b=Ea(c);return h==null?b:Tl(b,h)}var Ep=Gt(function(c,h){c=ie(c);var b=-1,A=h.length,N=A>2?h[2]:n;for(N&&ei(h[0],h[1],N)&&(A=1);++b<A;)for(var V=h[b],X=Li(V),ae=-1,he=X.length;++ae<he;){var De=X[ae],_e=c[De];(_e===n||jo(_e,Xe[De])&&!Be.call(c,De))&&(c[De]=V[De])}return c}),Vv=Gt(function(c){return c.push(n,Uc),jr(Bd,n,c)});function jv(c,h){return xc(c,Ot(h,3),Uo)}function Cx(c,h){return xc(c,Ot(h,3),hs)}function Kv(c,h){return c==null?c:Bu(c,Ot(h,3),Li)}function Nd(c,h){return c==null?c:nd(c,Ot(h,3),Li)}function Ex(c,h){return c&&Uo(c,Ot(h,3))}function Tx(c,h){return c&&hs(c,Ot(h,3))}function Ox(c){return c==null?[]:Iu(c,Br(c))}function Tp(c){return c==null?[]:Iu(c,Li(c))}function nf(c,h,b){var A=c==null?n:ka(c,h);return A===n?b:A}function ry(c,h){return c!=null&&hg(c,h,I0)}function iy(c,h){return c!=null&&hg(c,h,z0)}var Ld=np(function(c,h,b){h!=null&&typeof h.toString!="function"&&(h=bt.call(h)),c[h]=b},dt(Tn)),Ax=np(function(c,h,b){h!=null&&typeof h.toString!="function"&&(h=bt.call(h)),Be.call(c,h)?c[h].push(b):c[h]=[b]},Ot),$v=Gt(Dc);function Br(c){return Kt(c)?td(c):kl(c)}function Li(c){return Kt(c)?td(c,!0):K0(c)}function Yv(c,h){var b={};return h=Ot(h,3),Uo(c,function(A,N,V){co(b,h(A,N,V),A)}),b}function oy(c,h){var b={};return h=Ot(h,3),Uo(c,function(A,N,V){co(b,N,h(A,N,V))}),b}var Gv=zu(function(c,h,b){id(c,h,b)}),Bd=zu(function(c,h,b,A){id(c,h,b,A)}),kx=Ys(function(c,h){var b={};if(c==null)return b;var A=!1;h=qn(h,function(V){return V=Da(V,c),A||(A=V.length>1),V}),ps(c,hd(c),b),A&&(b=Sn(b,x|C|T,ip));for(var N=h.length;N--;)Ks(b,h[N]);return b});function Mx(c,h){return Op(c,pp(Ot(h)))}var sy=Ys(function(c,h){return c==null?{}:Wm(c,h)});function Op(c,h){if(c==null)return{};var b=qn(hd(c),function(A){return[A]});return h=Ot(h),Qm(c,b,function(A,N){return h(A,N[0])})}function Ap(c,h,b){h=Da(h,c);var A=-1,N=h.length;for(N||(N=1,c=n);++A<N;){var V=c==null?n:c[_i(h[A])];V===n&&(A=N,V=b),c=Ha(V)?V.call(c):V}return c}function ay(c,h,b){return c==null?c:Nc(c,h,b)}function Wv(c,h,b,A){return A=typeof A=="function"?A:n,c==null?c:Nc(c,h,b,A)}var kp=$s(Br),Fa=$s(Li);function ql(c,h,b){var A=qt(c),N=A||Fl(c)||Cs(c);if(h=Ot(h,4),b==null){var V=c&&c.constructor;N?b=A?new V:[]:er(c)?b=Ha(V)?Ea(ar(c)):{}:b={}}return(N?ci:Uo)(c,function(X,ae,he){return h(b,X,ae,he)}),b}function Ul(c,h){return c==null?!0:Ks(c,h)}function Id(c,h,b){return c==null?c:Ml(c,h,zc(b))}function zd(c,h,b,A){return A=typeof A=="function"?A:n,c==null?c:Ml(c,h,zc(b),A)}function wo(c){return c==null?[]:pl(c,Br(c))}function Dx(c){return c==null?[]:pl(c,Li(c))}function Qv(c,h,b){return b===n&&(b=h,h=n),b!==n&&(b=ni(b),b=b===b?b:0),h!==n&&(h=ni(h),h=h===h?h:0),Lu(ni(c),h,b)}function Hd(c,h,b){return h=Pa(h),b===n?(b=h,h=0):b=Pa(b),c=ni(c),H0(c,h,b)}function Rx(c,h,b){if(b&&typeof b!="boolean"&&ei(c,h,b)&&(h=b=n),b===n&&(typeof h=="boolean"?(b=h,h=n):typeof c=="boolean"&&(b=c,c=n)),c===n&&h===n?(c=0,h=1):(c=Pa(c),h===n?(h=c,c=0):h=Pa(h)),c>h){var A=c;c=h,h=A}if(b||c%1||h%1){var N=zh();return Lt(c+N*(h-c+zs("1e-"+((N+"").length-1))),h)}return Qh(c,h)}var Xv=Dl(function(c,h,b){return h=h.toLowerCase(),c+(b?Pd(h):h)});function Pd(c){return zt(Mn(c).toLowerCase())}function ly(c){return c=Mn(c),c&&c.replace(Bs,Sc).replace(ji,"")}function _x(c,h,b){c=Mn(c),h=mr(h);var A=c.length;b=b===n?A:Lu($t(b),0,A);var N=b;return b-=h.length,b>=0&&c.slice(b,N)==h}function Mp(c){return c=Mn(c),c&&Kn.test(c)?c.replace(Bn,Tu):c}function Dp(c){return c=Mn(c),c&&Zt.test(c)?c.replace(Xr,"\\$&"):c}var Jv=Dl(function(c,h,b){return c+(b?"-":"")+h.toLowerCase()}),Fd=Dl(function(c,h,b){return c+(b?" ":"")+h.toLowerCase()}),uy=Zh("toLowerCase");function Rp(c,h,b){c=Mn(c),h=$t(h);var A=h?g(c):0;if(!h||A>=h)return c;var N=(h-A)/2;return Fc(Fo(N),b)+c+Fc(Po(N),b)}function Zv(c,h,b){c=Mn(c),h=$t(h);var A=h?g(c):0;return h&&A<h?c+Fc(h-A,b):c}function Nx(c,h,b){c=Mn(c),h=$t(h);var A=h?g(c):0;return h&&A<h?Fc(h-A,b)+c:c}function _p(c,h,b){return b||h==null?h=0:h&&(h=+h),qs(Mn(c).replace(yn,""),h||0)}function o(c,h,b){return(b?ei(c,h,b):h===n)?h=1:h=$t(h),sd(Mn(c),h)}function a(){var c=arguments,h=Mn(c[0]);return c.length<3?h:h.replace(c[1],c[2])}var u=Dl(function(c,h,b){return c+(b?"_":"")+h.toLowerCase()});function p(c,h,b){return b&&typeof b!="number"&&ei(c,h,b)&&(h=b=n),b=b===n?Oe:b>>>0,b?(c=Mn(c),c&&(typeof h=="string"||h!=null&&!xp(h))&&(h=mr(h),!h&&lo(c))?Ra(w(c),0,b):c.split(h,b)):[]}var v=Dl(function(c,h,b){return c+(b?" ":"")+zt(h)});function S(c,h,b){return c=Mn(c),b=b==null?0:Lu($t(b),0,c.length),h=mr(h),c.slice(b,b+h.length)==h}function D(c,h,b){var A=P.templateSettings;b&&ei(c,h,b)&&(h=n),c=Mn(c),h=_d({},h,A,rp);var N=_d({},h.imports,A.imports,rp),V=Br(N),X=pl(N,V),ae,he,De=0,_e=h.interpolate||On,He="__p += '",lt=me((h.escape||On).source+"|"+_e.source+"|"+(_e===br?Do:On).source+"|"+(h.evaluate||On).source+"|$","g"),xt="//# sourceURL="+(Be.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ol+"]")+`
`;c.replace(lt,function(Nt,un,vn,Es,So,Ts){return vn||(vn=Es),He+=c.slice(De,Ts).replace(qi,Io),un&&(ae=!0,He+=`' +
__e(`+un+`) +
'`),So&&(he=!0,He+=`';
`+So+`;
__p += '`),vn&&(He+=`' +
((__t = (`+vn+`)) == null ? '' : __t) +
'`),De=Ts+Nt.length,Nt}),He+=`';
`;var _t=Be.call(h,"variable")&&h.variable;if(!_t)He=`with (obj) {
`+He+`
}
`;else if(or.test(_t))throw new W(f);He=(he?He.replace(It,""):He).replace(Qn,"$1").replace(We,"$1;"),He="function("+(_t||"obj")+`) {
`+(_t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var tn=pe(function(){return ne(V,xt+"return "+He).apply(n,X)});if(tn.source=He,Rd(tn))throw tn;return tn}function q(c){return Mn(c).toLowerCase()}function Q(c){return Mn(c).toUpperCase()}function ce(c,h,b){if(c=Mn(c),c&&(b||h===n))return Lh(c);if(!c||!(h=mr(h)))return c;var A=w(c),N=w(h),V=va(A,N),X=ml(A,N)+1;return Ra(A,V,X).join("")}function Ae(c,h,b){if(c=Mn(c),c&&(b||h===n))return c.slice(0,O(c)+1);if(!c||!(h=mr(h)))return c;var A=w(c),N=ml(A,w(h))+1;return Ra(A,0,N).join("")}function ze(c,h,b){if(c=Mn(c),c&&(b||h===n))return c.replace(yn,"");if(!c||!(h=mr(h)))return c;var A=w(c),N=va(A,w(h));return Ra(A,N).join("")}function xe(c,h){var b=Me,A=et;if(er(h)){var N="separator"in h?h.separator:N;b="length"in h?$t(h.length):b,A="omission"in h?mr(h.omission):A}c=Mn(c);var V=c.length;if(lo(c)){var X=w(c);V=X.length}if(b>=V)return c;var ae=b-g(A);if(ae<1)return A;var he=X?Ra(X,0,ae).join(""):c.slice(0,ae);if(N===n)return he+A;if(X&&(ae+=he.length-ae),xp(N)){if(c.slice(ae).search(N)){var De,_e=he;for(N.global||(N=me(N.source,Mn(hu.exec(N))+"g")),N.lastIndex=0;De=N.exec(_e);)var He=De.index;he=he.slice(0,He===n?ae:He)}}else if(c.indexOf(mr(N),ae)!=ae){var lt=he.lastIndexOf(N);lt>-1&&(he=he.slice(0,lt))}return he+A}function Te(c){return c=Mn(c),c&&gn.test(c)?c.replace(Fr,M):c}var vt=Dl(function(c,h,b){return c+(b?" ":"")+h.toUpperCase()}),zt=Zh("toUpperCase");function fr(c,h,b){return c=Mn(c),h=b?n:h,h===n?Ai(c)?$(c):bc(c):c.match(h)||[]}var pe=Gt(function(c,h){try{return jr(c,n,h)}catch(b){return Rd(b)?b:new W(b)}}),ue=Ys(function(c,h){return ci(h,function(b){b=_i(b),co(c,b,ju(c[b],c))}),c});function ye(c){var h=c==null?0:c.length,b=Ot();return c=h?qn(c,function(A){if(typeof A[1]!="function")throw new ve(l);return[b(A[0]),A[1]]}):[],Gt(function(A){for(var N=-1;++N<h;){var V=c[N];if(jr(V[0],this,A))return jr(V[1],this,A)}})}function Re(c){return Pm(Sn(c,x))}function dt(c){return function(){return c}}function en(c,h){return c==null||c!==c?h:c}var Ct=tp(),Rt=tp(!0);function Tn(c){return c}function mn(c){return Km(typeof c=="function"?c:Sn(c,x))}function Vl(c){return $m(Sn(c,x))}function Lx(c,h){return Wh(c,Sn(h,x))}var L3=Gt(function(c,h){return function(b){return Dc(b,c,h)}}),B3=Gt(function(c,h){return function(b){return Dc(c,b,h)}});function Bx(c,h,b){var A=Br(h),N=Iu(h,A);b==null&&!(er(h)&&(N.length||!A.length))&&(b=h,h=c,c=this,N=Iu(h,Br(h)));var V=!(er(b)&&"chain"in b)||!!b.chain,X=Ha(c);return ci(N,function(ae){var he=h[ae];c[ae]=he,X&&(c.prototype[ae]=function(){var De=this.__chain__;if(V||De){var _e=c(this.__wrapped__),He=_e.__actions__=Ri(this.__actions__);return He.push({func:he,args:arguments,thisArg:c}),_e.__chain__=De,_e}return he.apply(c,Bo([this.value()],arguments))})}),c}function I3(){return sr._===this&&(sr._=Vt),this}function Ix(){}function z3(c){return c=$t(c),Gt(function(h){return Ym(h,c)})}var H3=ms(qn),P3=ms(ll),F3=ms(ls);function s2(c){return jc(c)?dl(_i(c)):Y0(c)}function q3(c){return function(h){return c==null?n:ka(c,h)}}var U3=fg(),V3=fg(!0);function zx(){return[]}function Hx(){return!1}function j3(){return{}}function K3(){return""}function $3(){return!0}function Y3(c,h){if(c=$t(c),c<1||c>Ye)return[];var b=Oe,A=Lt(c,Oe);h=Ot(h),c-=Oe;for(var N=cs(A,h);++b<c;)h(b);return N}function G3(c){return qt(c)?qn(c,_i):xo(c)?[c]:Ri(Qs(Mn(c)))}function W3(c){var h=++Ze;return Mn(c)+h}var Q3=dd(function(c,h){return c+h},0),X3=gs("ceil"),J3=dd(function(c,h){return c/h},1),Z3=gs("floor");function eD(c){return c&&c.length?Mc(c,Tn,$h):n}function tD(c,h){return c&&c.length?Mc(c,Ot(h,2),$h):n}function nD(c){return _h(c,Tn)}function rD(c,h){return _h(c,Ot(h,2))}function iD(c){return c&&c.length?Mc(c,Tn,_c):n}function oD(c,h){return c&&c.length?Mc(c,Ot(h,2),_c):n}var sD=dd(function(c,h){return c*h},1),aD=gs("round"),lD=dd(function(c,h){return c-h},0);function uD(c){return c&&c.length?wc(c,Tn):0}function cD(c,h){return c&&c.length?wc(c,Ot(h,2)):0}return P.after=Ig,P.ary=Hl,P.assign=ef,P.assignIn=tf,P.assignInWith=_d,P.assignWith=Cp,P.at=ty,P.before=ws,P.bind=ju,P.bindAll=ue,P.bindKey=Rv,P.castArray=Kg,P.chain=vi,P.chunk=Bl,P.compact=lv,P.concat=Kc,P.cond=ye,P.conforms=Re,P.constant=dt,P.countBy=Cv,P.create=ny,P.curry=zg,P.curryRight=Hg,P.debounce=Pg,P.defaults=Ep,P.defaultsDeep=Vv,P.defer=hx,P.delay=Fg,P.difference=vd,P.differenceBy=bd,P.differenceWith=$c,P.drop=uv,P.dropRight=cv,P.dropRightWhile=xd,P.dropWhile=fv,P.fill=up,P.filter=Ng,P.flatMap=ax,P.flatMapDeep=Ev,P.flatMapDepth=Tv,P.flatten=yo,P.flattenDeep=wg,P.flattenDepth=Il,P.flip=_v,P.flow=Ct,P.flowRight=Rt,P.fromPairs=hv,P.functions=Ox,P.functionsIn=Tp,P.groupBy=Ov,P.initial=pv,P.intersection=Sg,P.intersectionBy=Cg,P.intersectionWith=Na,P.invert=Ld,P.invertBy=Ax,P.invokeMap=lx,P.iteratee=mn,P.keyBy=kv,P.keys=Br,P.keysIn=Li,P.map=za,P.mapKeys=Yv,P.mapValues=oy,P.matches=Vl,P.matchesProperty=Lx,P.memoize=kd,P.merge=Gv,P.mergeWith=Bd,P.method=L3,P.methodOf=B3,P.mixin=Bx,P.negate=pp,P.nthArg=z3,P.omit=kx,P.omitBy=Mx,P.once=qg,P.orderBy=Mv,P.over=H3,P.overArgs=Ug,P.overEvery=P3,P.overSome=F3,P.partial=Vg,P.partialRight=Nv,P.partition=Vn,P.pick=sy,P.pickBy=Op,P.property=s2,P.propertyOf=q3,P.pull=tx,P.pullAll=gv,P.pullAllBy=yv,P.pullAllWith=nx,P.pullAt=rx,P.range=U3,P.rangeRight=V3,P.rearg=Md,P.reject=Dv,P.remove=ur,P.rest=px,P.reverse=zn,P.sampleSize=fx,P.set=ay,P.setWith=Wv,P.shuffle=dx,P.slice=rn,P.sortBy=Bg,P.sortedUniq=Ba,P.sortedUniqBy=yr,P.split=p,P.spread=Lv,P.tail=zl,P.take=Fu,P.takeRight=Tg,P.takeRightWhile=Vo,P.takeWhile=Gc,P.tap=bv,P.throttle=ln,P.thru=Wc,P.toArray=qv,P.toPairs=kp,P.toPairsIn=Fa,P.toPath=G3,P.toPlainObject=Zc,P.transform=ql,P.unary=jg,P.union=Cd,P.unionBy=Xs,P.unionWith=Og,P.uniq=Ag,P.uniqBy=cp,P.uniqWith=fp,P.unset=Ul,P.unzip=Js,P.unzipWith=Ed,P.update=Id,P.updateWith=zd,P.values=wo,P.valuesIn=Dx,P.without=qu,P.words=fr,P.wrap=mp,P.xor=Td,P.xorBy=kg,P.xorWith=Mg,P.zip=Od,P.zipObject=Dg,P.zipObjectDeep=bo,P.zipWith=vv,P.entries=kp,P.entriesIn=Fa,P.extend=tf,P.extendWith=_d,Bx(P,P),P.add=Q3,P.attempt=pe,P.camelCase=Xv,P.capitalize=Pd,P.ceil=X3,P.clamp=Qv,P.clone=Bv,P.cloneDeep=Dd,P.cloneDeepWith=gp,P.cloneWith=$g,P.conformsTo=Jc,P.deburr=ly,P.defaultTo=en,P.divide=J3,P.endsWith=_x,P.eq=jo,P.escape=Mp,P.escapeRegExp=Dp,P.every=_g,P.find=ox,P.findIndex=xg,P.findKey=jv,P.findLast=sx,P.findLastIndex=dv,P.findLastKey=Cx,P.floor=Z3,P.forEach=Uu,P.forEachRight=Ad,P.forIn=Kv,P.forInRight=Nd,P.forOwn=Ex,P.forOwnRight=Tx,P.get=nf,P.gt=mx,P.gte=gx,P.has=ry,P.hasIn=iy,P.head=wd,P.identity=Tn,P.includes=Av,P.indexOf=Pu,P.inRange=Hd,P.invoke=$v,P.isArguments=Pl,P.isArray=qt,P.isArrayBuffer=yp,P.isArrayLike=Kt,P.isArrayLikeObject=cr,P.isBoolean=ti,P.isBuffer=Fl,P.isDate=Yg,P.isElement=Gg,P.isEmpty=vp,P.isEqual=Iv,P.isEqualWith=zv,P.isError=Rd,P.isFinite=Wg,P.isFunction=Ha,P.isInteger=Qg,P.isLength=bp,P.isMap=Hv,P.isMatch=Xg,P.isMatchWith=Jg,P.isNaN=yx,P.isNative=vx,P.isNil=Pv,P.isNull=Ss,P.isNumber=Zg,P.isObject=er,P.isObjectLike=vr,P.isPlainObject=bi,P.isRegExp=xp,P.isSafeInteger=wp,P.isSet=Zs,P.isString=Sp,P.isSymbol=xo,P.isTypedArray=Cs,P.isUndefined=Fv,P.isWeakMap=bx,P.isWeakSet=xx,P.join=mv,P.kebabCase=Jv,P.last=Ni,P.lastIndexOf=Sd,P.lowerCase=Fd,P.lowerFirst=uy,P.lt=wx,P.lte=Sx,P.max=eD,P.maxBy=tD,P.mean=nD,P.meanBy=rD,P.min=iD,P.minBy=oD,P.stubArray=zx,P.stubFalse=Hx,P.stubObject=j3,P.stubString=K3,P.stubTrue=$3,P.multiply=sD,P.nth=lr,P.noConflict=I3,P.noop=Ix,P.now=Vu,P.pad=Rp,P.padEnd=Zv,P.padStart=Nx,P.parseInt=_p,P.random=Rx,P.reduce=Lg,P.reduceRight=ux,P.repeat=o,P.replace=a,P.result=Ap,P.round=aD,P.runInContext=B,P.sample=cx,P.size=hp,P.snakeCase=u,P.some=Xc,P.sortedIndex=pn,P.sortedIndexBy=jn,P.sortedIndexOf=vo,P.sortedLastIndex=La,P.sortedLastIndexBy=Yc,P.sortedLastIndexOf=Eg,P.startCase=v,P.startsWith=S,P.subtract=lD,P.sum=uD,P.sumBy=cD,P.template=D,P.times=Y3,P.toFinite=Pa,P.toInteger=$t,P.toLength=ey,P.toLower=q,P.toNumber=ni,P.toSafeInteger=Uv,P.toString=Mn,P.toUpper=Q,P.trim=ce,P.trimEnd=Ae,P.trimStart=ze,P.truncate=xe,P.unescape=Te,P.uniqueId=W3,P.upperCase=vt,P.upperFirst=zt,P.each=Uu,P.eachRight=Ad,P.first=wd,Bx(P,function(){var c={};return Uo(P,function(h,b){Be.call(P.prototype,b)||(c[b]=h)}),c}(),{chain:!1}),P.VERSION=r,ci(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){P[c].placeholder=P}),ci(["drop","take"],function(c,h){jt.prototype[c]=function(b){b=b===n?1:an($t(b),0);var A=this.__filtered__&&!h?new jt(this):this.clone();return A.__filtered__?A.__takeCount__=Lt(b,A.__takeCount__):A.__views__.push({size:Lt(b,Oe),type:c+(A.__dir__<0?"Right":"")}),A},jt.prototype[c+"Right"]=function(b){return this.reverse()[c](b).reverse()}}),ci(["filter","map","takeWhile"],function(c,h){var b=h+1,A=b==wt||b==Ne;jt.prototype[c]=function(N){var V=this.clone();return V.__iteratees__.push({iteratee:Ot(N,3),type:b}),V.__filtered__=V.__filtered__||A,V}}),ci(["head","last"],function(c,h){var b="take"+(h?"Right":"");jt.prototype[c]=function(){return this[b](1).value()[0]}}),ci(["initial","tail"],function(c,h){var b="drop"+(h?"":"Right");jt.prototype[c]=function(){return this.__filtered__?new jt(this):this[b](1)}}),jt.prototype.compact=function(){return this.filter(Tn)},jt.prototype.find=function(c){return this.filter(c).head()},jt.prototype.findLast=function(c){return this.reverse().find(c)},jt.prototype.invokeMap=Gt(function(c,h){return typeof c=="function"?new jt(this):this.map(function(b){return Dc(b,c,h)})}),jt.prototype.reject=function(c){return this.filter(pp(Ot(c)))},jt.prototype.slice=function(c,h){c=$t(c);var b=this;return b.__filtered__&&(c>0||h<0)?new jt(b):(c<0?b=b.takeRight(-c):c&&(b=b.drop(c)),h!==n&&(h=$t(h),b=h<0?b.dropRight(-h):b.take(h-c)),b)},jt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},jt.prototype.toArray=function(){return this.take(Oe)},Uo(jt.prototype,function(c,h){var b=/^(?:filter|find|map|reject)|While$/.test(h),A=/^(?:head|last)$/.test(h),N=P[A?"take"+(h=="last"?"Right":""):h],V=A||/^find/.test(h);N&&(P.prototype[h]=function(){var X=this.__wrapped__,ae=A?[1]:arguments,he=X instanceof jt,De=ae[0],_e=he||qt(X),He=function(un){var vn=N.apply(P,Bo([un],ae));return A&&lt?vn[0]:vn};_e&&b&&typeof De=="function"&&De.length!=1&&(he=_e=!1);var lt=this.__chain__,xt=!!this.__actions__.length,_t=V&&!lt,tn=he&&!xt;if(!V&&_e){X=tn?X:new jt(this);var Nt=c.apply(X,ae);return Nt.__actions__.push({func:Wc,args:[He],thisArg:n}),new uo(Nt,lt)}return _t&&tn?c.apply(this,ae):(Nt=this.thru(He),_t?A?Nt.value()[0]:Nt.value():Nt)})}),ci(["pop","push","shift","sort","splice","unshift"],function(c){var h=Ee[c],b=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",A=/^(?:pop|shift)$/.test(c);P.prototype[c]=function(){var N=arguments;if(A&&!this.__chain__){var V=this.value();return h.apply(qt(V)?V:[],N)}return this[b](function(X){return h.apply(qt(X)?X:[],N)})}}),Uo(jt.prototype,function(c,h){var b=P[h];if(b){var A=b.name+"";Be.call(xl,A)||(xl[A]=[]),xl[A].push({name:h,func:b})}}),xl[fd(n,H).name]=[{name:"wrapper",func:n}],jt.prototype.clone=N0,jt.prototype.reverse=Ec,jt.prototype.value=Fh,P.prototype.at=xv,P.prototype.chain=ix,P.prototype.commit=Ia,P.prototype.next=dp,P.prototype.plant=Qc,P.prototype.reverse=wv,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=Sv,P.prototype.first=P.prototype.head,Ps&&(P.prototype[Ps]=Rg),P},se=J();Lo?((Lo.exports=se)._=se,al._=se):sr._=se}).call($4)}(wy,wy.exports)),wy.exports}var j1=Y4();const G4=t=>{const{register:e,control:n,watch:r,setValue:i}=Eh({defaultValues:t}),s=r(),l=F.useRef(t),{mutate:f}=GS(),d=F.useMemo(()=>j1.debounce(m=>{m.isDone?m.doneDate=new Date().toISOString():m.doneDate=null;const y=W4(m);i("isDone",y.isDone),console.log("mutate",y),f(y)},300),[f,i]);return F.useEffect(()=>(j1.isEqual(l.current,s)||(l.current=s,d({...s,id:t.id})),()=>{d.cancel()}),[s,d,t.id]),{register:e,control:n,isDone:s.isDone,allValues:s}};function W4(t){const e=JSON.parse(t.sub||"[]"),n=e.every(r=>r.isDone);return e.length===0?t:n?{...t,isDone:!0,doneDate:new Date().toISOString()}:{...t}}const Q4={container:t=>({display:"flex",flexDirection:"row",width:"100%",gap:"5px",padding:"6px",backgroundColor:t.colors.background.gray,paddingLeft:"20px"}),input:t=>e=>({backgroundColor:"transparent",width:"100%",border:"none",outline:"none",fontSize:"14px",color:t?e.colors.text.secondary:e.colors.text.primary,textDecoration:t?"line-through":"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),button:t=>({backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",color:t.colors.text.secondary,borderRadius:t.radius.small,"&:hover":{backgroundColor:t.colors.background.gray,color:t.colors.important.heigh}})};function X4({data:t,onUpdate:e,onDelete:n,index:r}){const{container:i,input:s,button:l}=Q4,{isDone:f}=t,d=m=>{e(r,{...t,isDone:m.target.checked})};return Qe("div",{css:i,children:[L(VS,{checked:t.isDone,onChange:m=>{d(m)}}),L("input",{type:"text",value:t.text,css:s(f),onChange:m=>{e(r,{...t,text:m.target.value})}}),L("button",{css:l,onClick:()=>{n(r)},children:L(FS,{size:20})})]})}function J4({data:t,onUpdate:e,onDelete:n}){return L("div",{children:t==null?void 0:t.map((r,i)=>L(X4,{data:r,index:i,onDelete:n,onUpdate:e},i))})}function Z4({data:t,onChange:e}){const[n,r]=F.useState(JSON.parse(t)||[]),{register:i,handleSubmit:s,reset:l}=Eh({defaultValues:{text:"",isDone:!1}}),f=s(y=>{const x=JSON.stringify(n),T=[...JSON.parse(x),y];r(T),l()}),d=y=>{const x=JSON.stringify(n),T=JSON.parse(x).filter((E,k)=>k!==y);r(T)},m=(y,x)=>{const C=JSON.stringify(n),E=JSON.parse(C).map((k,R)=>R===y?x:k);r(E)};return F.useEffect(()=>{t===JSON.stringify(n)||!e||e(JSON.stringify(n))},[n,t,e]),Qe("div",{children:[L(J4,{data:n,onDelete:d,onUpdate:m}),L(c0,{label:"sub todo",size:"sm",...i("text"),placeholder:"세부 할 일을 입력하세요",onSubmit:f})]})}function Bi(t){this.content=t}Bi.prototype={constructor:Bi,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Bi(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bi(n)},addToStart:function(t,e){return new Bi([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bi(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Bi(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bi.from(t),t.size?new Bi(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bi.from(t),t.size?new Bi(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bi.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Bi.from=function(t){if(t instanceof Bi)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bi(e)};function AA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)n++;return n}if(i.content.size||s.content.size){let l=AA(i.content,s.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function kA(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let l=t.child(--i),f=e.child(--s),d=l.nodeSize;if(l==f){n-=d,r-=d;continue}if(!l.sameMarkup(f))return{a:n,b:r};if(l.isText&&l.text!=f.text){let m=0,y=Math.min(l.text.length,f.text.length);for(;m<y&&l.text[l.text.length-m-1]==f.text[f.text.length-m-1];)m++,n--,r--;return{a:n,b:r}}if(l.content.size||f.content.size){let m=kA(l.content,f.content,n-1,r-1);if(m)return m}n-=d,r-=d}}class Fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let l=0,f=0;f<n;l++){let d=this.content[l],m=f+d.nodeSize;if(m>e&&r(d,i+f,s||null,l)!==!1&&d.content.size){let y=f+1;d.nodesBetween(Math.max(0,e-y),Math.min(d.content.size,n-y),r,i+y)}f=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",l=!0;return this.nodesBetween(e,n,(f,d)=>{let m=f.isText?f.text.slice(Math.max(e,d)-d,n-d):f.isLeaf?i?typeof i=="function"?i(f):i:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&m||f.isTextblock)&&r&&(l?l=!1:s+=r),s+=m},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Fe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,l=0;l<n;s++){let f=this.content[s],d=l+f.nodeSize;d>e&&((l<e||d>n)&&(f.isText?f=f.cut(Math.max(0,e-l),Math.min(f.text.length,n-l)):f=f.cut(Math.max(0,e-l-1),Math.min(f.content.size,n-l-1))),r.push(f),i+=f.nodeSize),l=d}return new Fe(r,i)}cutByIndex(e,n){return e==n?Fe.empty:e==0&&n==this.content.length?this:new Fe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Fe(i,s)}addToStart(e){return new Fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return AA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return kA(this,e,n,r)}findIndex(e,n=-1){if(e==0)return i1(0,e);if(e==this.size)return i1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),l=i+s.nodeSize;if(l>=e)return l==e||n>0?i1(r+1,l):i1(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Fe(n||e,r)}static from(e){if(!e)return Fe.empty;if(e instanceof Fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fe.empty=new Fe([],0);const nw={index:0,offset:0};function i1(t,e){return nw.index=t,nw.offset=e,nw}function K1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!K1(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!K1(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Wn=class tS{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&K1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return tS.none;if(e instanceof tS)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Wn.none=[];class $1 extends Error{}class ct{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=DA(this.content,e+this.openStart,n);return r&&new ct(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ct(MA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ct.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ct(Fe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ct(e,r,i)}}ct.empty=new ct(Fe.empty,0,0);function MA(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:l,offset:f}=t.findIndex(n);if(i==e||s.isText){if(f!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(MA(s.content,e-i-1,n-i-1)))}function DA(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),l=t.maybeChild(i);if(s==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let f=DA(l.content,e-s-1,n);return f&&t.replaceChild(i,l.copy(f))}function e5(t,e,n){if(n.openStart>t.depth)throw new $1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new $1("Inconsistent open depths");return RA(t,e,n,0)}function RA(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=RA(t,e,n,r+1);return s.copy(s.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,f=l.content;return lh(l,f.cut(0,t.parentOffset).append(n.content).append(f.cut(e.parentOffset)))}else{let{start:l,end:f}=t5(n,t);return lh(s,NA(t,l,f,e,r))}else return lh(s,Y1(t,e,r))}function _A(t,e){if(!e.type.compatibleContent(t.type))throw new $1("Cannot join "+e.type.name+" onto "+t.type.name)}function nS(t,e,n){let r=t.node(n);return _A(r,e.node(n)),r}function ah(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ay(t,e,n,r){let i=(e||t).node(n),s=0,l=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ah(t.nodeAfter,r),s++));for(let f=s;f<l;f++)ah(i.child(f),r);e&&e.depth==n&&e.textOffset&&ah(e.nodeBefore,r)}function lh(t,e){return t.type.checkContent(e),t.copy(e)}function NA(t,e,n,r,i){let s=t.depth>i&&nS(t,e,i+1),l=r.depth>i&&nS(n,r,i+1),f=[];return Ay(null,t,i,f),s&&l&&e.index(i)==n.index(i)?(_A(s,l),ah(lh(s,NA(t,e,n,r,i+1)),f)):(s&&ah(lh(s,Y1(t,e,i+1)),f),Ay(e,n,i,f),l&&ah(lh(l,Y1(n,r,i+1)),f)),Ay(r,null,i,f),new Fe(f)}function Y1(t,e,n){let r=[];if(Ay(null,t,n,r),t.depth>n){let i=nS(t,e,n+1);ah(lh(i,Y1(t,e,n+1)),r)}return Ay(e,null,n,r),new Fe(r)}function t5(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Fe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Vy{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Wn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let f=r;r=i,i=f}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new G1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let l=e;;){let{index:f,offset:d}=l.content.findIndex(s),m=s-d;if(r.push(l,f,i+d),!m||(l=l.child(f),l.isText))break;s=m-1,i+=d+1}return new Vy(n,r,s)}static resolveCached(e,n){let r=aE.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==n)return l}else aE.set(e,r=new n5);let i=r.elts[r.i]=Vy.resolve(e,n);return r.i=(r.i+1)%r5,i}}class n5{constructor(){this.elts=[],this.i=0}}const r5=12,aE=new WeakMap;class G1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const i5=Object.create(null);let Tf=class rS{constructor(e,n,r,i=Wn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&K1(this.attrs,n||e.defaultAttrs||i5)&&Wn.sameSet(this.marks,r||Wn.none)}copy(e=null){return e==this.content?this:new rS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new rS(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ct.empty;let i=this.resolve(e),s=this.resolve(n),l=r?0:i.sharedDepth(n),f=i.start(l),m=i.node(l).content.cut(i.pos-f,s.pos-f);return new ct(m,i.depth-l,s.depth-l)}replace(e,n,r){return e5(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Vy.resolveCached(this,e)}resolveNoCache(e){return Vy.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),LA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Fe.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),f=l&&l.matchFragment(this.content,n);if(!f||!f.validEnd)return!1;for(let d=i;d<s;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Wn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Wn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Fe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Tf.prototype.text=void 0;class W1 extends Tf{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new W1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new W1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function LA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class yh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new o5(e,n);if(r.next==null)return yh.empty;let i=BA(r);r.next&&r.err("Unexpected trailing text");let s=d5(f5(i));return h5(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(l,f){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return Fe.from(f.map(m=>m.createAndFill()));for(let m=0;m<l.next.length;m++){let{type:y,next:x}=l.next[m];if(!(y.isText||y.hasRequiredAttrs())&&i.indexOf(x)==-1){i.push(x);let C=s(x,f.concat(y));if(C)return C}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let f=i;f.type;f=f.via)l.push(f.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:f,next:d}=s.next[l];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in n)&&(!i.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:i}),n[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}yh.empty=new yh(!0);class o5{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function BA(t){let e=[];do e.push(s5(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function s5(t){let e=[];do e.push(a5(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function a5(t){let e=c5(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=l5(t,e);else break;return e}function lE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function l5(t,e){let n=lE(t),r=n;return t.eat(",")&&(t.next!="}"?r=lE(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function u5(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let l=n[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function c5(t){if(t.eat("(")){let e=BA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=u5(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function f5(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(l,f,d){let m={term:d,to:f};return e[l].push(m),m}function i(l,f){l.forEach(d=>d.to=f)}function s(l,f){if(l.type=="choice")return l.exprs.reduce((d,m)=>d.concat(s(m,f)),[]);if(l.type=="seq")for(let d=0;;d++){let m=s(l.exprs[d],f);if(d==l.exprs.length-1)return m;i(m,f=n())}else if(l.type=="star"){let d=n();return r(f,d),i(s(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(s(l.expr,f),d),i(s(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(f)].concat(s(l.expr,f));if(l.type=="range"){let d=f;for(let m=0;m<l.min;m++){let y=n();i(s(l.expr,d),y),d=y}if(l.max==-1)i(s(l.expr,d),d);else for(let m=l.min;m<l.max;m++){let y=n();r(d,y),i(s(l.expr,d),y),d=y}return[r(d)]}else{if(l.type=="name")return[r(f,void 0,l.value)];throw new Error("Unknown expr type")}}}}function IA(t,e){return e-t}function uE(t,e){let n=[];return r(e),n.sort(IA);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let l=0;l<s.length;l++){let{term:f,to:d}=s[l];!f&&n.indexOf(d)==-1&&r(d)}}}function d5(t){let e=Object.create(null);return n(uE(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:f,to:d})=>{if(!f)return;let m;for(let y=0;y<i.length;y++)i[y][0]==f&&(m=i[y][1]);uE(t,d).forEach(y=>{m||i.push([f,m=[]]),m.indexOf(y)==-1&&m.push(y)})})});let s=e[r.join(",")]=new yh(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let f=i[l][1].sort(IA);s.next.push({type:i[l][0],next:e[f.join(",")]||n(f)})}return s}}function h5(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,l=[];for(let f=0;f<i.next.length;f++){let{type:d,next:m}=i.next[f];l.push(d.name),s&&!(d.isText||d.hasRequiredAttrs())&&(s=!1),r.indexOf(m)==-1&&r.push(m)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function zA(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function HA(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function PA(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function FA(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new m5(t,r,e[r]);return n}let cE=class qA{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=FA(e,r.attrs),this.defaultAttrs=zA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:HA(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Tf(this,this.computeAttrs(e),Fe.from(n),Wn.setFrom(r))}createChecked(e=null,n,r){return n=Fe.from(n),this.checkContent(n),new Tf(this,this.computeAttrs(e),n,Wn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Fe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Fe.empty,!0);return s?new Tf(this,e,n.append(s),Wn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){PA(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Wn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,l)=>r[s]=new qA(s,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function p5(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class m5{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?p5(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class xb{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=FA(e,i.attrs),this.excluded=null;let s=zA(this.attrs);this.instance=s?new Wn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Wn(this,HA(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new xb(s,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){PA(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class UA{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Bi.from(e.nodes),n.marks=Bi.from(e.marks||{}),this.nodes=cE.compile(this.spec.nodes,this),this.marks=xb.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",f=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=yh.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=f=="_"?null:f?fE(this,f.split(" ")):f==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:fE(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new W1(r,r.defaultAttrs,e,Wn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Tf.fromJSON(this,e)}markFromJSON(e){return Wn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function fE(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],l=s;if(s)n.push(s);else for(let f in t.marks){let d=t.marks[f];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function g5(t){return t.tag!=null}function y5(t){return t.style!=null}class Of{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(g5(i))this.tags.push(i);else if(y5(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new hE(this,n,!1);return r.addAll(e,Wn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new hE(this,n,!0);return r.addAll(e,Wn.none,n.from,n.to),ct.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(x5(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],f=l.style;if(!(f.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let f=n[l];if((f.priority==null?50:f.priority)<s)break}n.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=pE(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=pE(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Of(e,Of.schemaRules(e)))}}const VA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},v5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},jA={ol:!0,ul:!0},jy=1,iS=2,O1=4;function dE(t,e,n){return e!=null?(e?jy:0)|(e==="full"?iS:0):t&&t.whitespace=="pre"?jy|iS:n&-5}class o1{constructor(e,n,r,i,s,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=Wn.none,this.match=s||(l&O1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jy)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!VA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hE{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,l=dE(null,n.preserveWhitespace,0)|(r?O1:0);i?s=new o1(i.type,i.attrs,Wn.none,!0,n.topMatch||i.type.contentMatch,l):r?s=new o1(null,null,Wn.none,!0,null,l):s=new o1(e.schema.topNodeType,null,Wn.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&iS?"full":this.localPreserveWS||(i.options&jy)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],f=e.previousSibling;(!l||f&&f.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),f;jA.hasOwnProperty(l)&&this.parser.normalizeLists&&b5(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(d?d.ignore:v5.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let m,y=this.needsBlock;if(VA.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),m=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let x=d&&d.skip?n:this.readStyles(e,n);x&&this.addAll(e,x),m&&this.sync(s),this.needsBlock=y}else{let m=this.readStyles(e,n);m&&this.addElementByRule(e,d,m,d.consuming===!1?f:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let f=void 0;;){let d=this.parser.matchStyle(s,l,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(m=>!d.clearMark(m)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return n}addElementByRule(e,n,r,i){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r)||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(s=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let f=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}s&&this.sync(f)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,f=i==null?null:e.childNodes[i];l!=f;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let l=this.nodes[s],f=l.findWrapping(e);if(f&&(!r||r.length>f.length)&&(r=f,i=l,!f.length)||l.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Wn.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):mE(l.type,e.type))&&(s=l.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let f=dE(e,s,l.options);l.options&O1&&l.content.length==0&&(f|=O1);let d=Wn.none;return r=r.filter(m=>(l.type?l.type.allowsMarkType(m.type):mE(m.type,e))?(d=m.addToSet(d),!1):!0),this.nodes.push(new o1(e,n,d,i,null,f)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=jy)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(f,d)=>{for(;f>=0;f--){let m=n[f];if(m==""){if(f==n.length-1||f==0)continue;for(;d>=s;d--)if(l(f-1,d))return!0;return!1}else{let y=d>0||d==0&&i?this.nodes[d].type:r&&d>=s?r.node(d-s).type:null;if(!y||y.name!=m&&!y.isInGroup(m))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function b5(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&jA.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function x5(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function pE(t){let e={};for(let n in t)e[n]=t[n];return e}function mE(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],l=f=>{s.push(f);for(let d=0;d<f.edgeCount;d++){let{type:m,next:y}=f.edge(d);if(m==e||s.indexOf(y)<0&&l(y))return!0}};if(l(i.contentMatch))return!0}}class Th{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=rw(n).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let f=0,d=0;for(;f<s.length&&d<l.marks.length;){let m=l.marks[d];if(!this.marks[m.type.name]){d++;continue}if(!m.eq(s[f][0])||m.type.spec.spanning===!1)break;f++,d++}for(;f<s.length;)i=s.pop()[1];for(;d<l.marks.length;){let m=l.marks[d++],y=this.serializeMark(m,l.isInline,n);y&&(s.push([m,i]),i.appendChild(y.dom),i=y.contentDOM||y.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=A1(rw(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&A1(rw(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return A1(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Th(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=gE(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return gE(e.marks)}}function gE(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function rw(t){return t.document||window.document}const yE=new WeakMap;function w5(t){let e=yE.get(t);return e===void 0&&yE.set(t,e=S5(t)),e}function S5(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function A1(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=w5(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let f,d=n?t.createElementNS(n,i):t.createElement(i),m=e[1],y=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){y=2;for(let x in m)if(m[x]!=null){let C=x.indexOf(" ");C>0?d.setAttributeNS(x.slice(0,C),x.slice(C+1),m[x]):d.setAttribute(x,m[x])}}for(let x=y;x<e.length;x++){let C=e[x];if(C===0){if(x<e.length-1||x>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:T,contentDOM:E}=A1(t,C,n,r);if(d.appendChild(T),E){if(f)throw new RangeError("Multiple content holes");f=E}}}return{dom:d,contentDOM:f}}const KA=65535,$A=Math.pow(2,16);function C5(t,e){return t+e*$A}function vE(t){return t&KA}function E5(t){return(t-(t&KA))/$A}const YA=1,GA=2,k1=4,WA=8;class oS{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&WA)>0}get deletedBefore(){return(this.delInfo&(YA|k1))>0}get deletedAfter(){return(this.delInfo&(GA|k1))>0}get deletedAcross(){return(this.delInfo&k1)>0}}class As{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&As.empty)return As.empty}recover(e){let n=0,r=vE(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+E5(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?i:0);if(d>e)break;let m=this.ranges[f+s],y=this.ranges[f+l],x=d+m;if(e<=x){let C=m?e==d?-1:e==x?1:n:n,T=d+i+(C<0?0:y);if(r)return T;let E=e==(n<0?d:x)?null:C5(f/3,e-d),k=e==d?GA:e==x?YA:k1;return(n<0?e!=d:e!=x)&&(k|=WA),new oS(T,k,E)}i+=y-m}return r?e+i:new oS(e+i,0,null)}touches(e,n){let r=0,i=vE(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let m=this.ranges[f+s],y=d+m;if(e<=y&&f==i*3)return!0;r+=this.ranges[f+l]-m}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],f=l-(this.inverted?s:0),d=l+(this.inverted?0:s),m=this.ranges[i+n],y=this.ranges[i+r];e(f,f+m,d,d+y),s+=y-m}}invert(){return new As(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?As.empty:new As(e<0?[0,-e,0]:[0,0,e])}}As.empty=new As([]);class Ky{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ky(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ky;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],f=l.mapResult(e,n);if(f.recover!=null){let d=this.getMirror(s);if(d!=null&&d>s&&d<this.to){s=d,e=this._maps[d].recover(f.recover);continue}}i|=f.delInfo,e=f.pos}return r?e:new oS(e,i,null)}}const iw=Object.create(null);class ro{getMap(){return As.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=iw[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in iw)throw new RangeError("Duplicate use of step JSON ID "+e);return iw[e]=n,n.prototype.jsonID=e,n}}class Wr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Wr(e,null)}static fail(e){return new Wr(null,e)}static fromReplace(e,n,r,i){try{return Wr.ok(e.replace(n,r,i))}catch(s){if(s instanceof $1)return Wr.fail(s.message);throw s}}}function fC(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(fC(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Fe.fromArray(r)}class Sf extends ro{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ct(fC(n.content,(l,f)=>!l.isAtom||!f.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Wr.fromReplace(e,this.from,this.to,s)}invert(){return new tu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Sf(n.pos,r.pos,this.mark)}merge(e){return e instanceof Sf&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sf(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sf(n.from,n.to,e.markFromJSON(n.mark))}}ro.jsonID("addMark",Sf);class tu extends ro{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ct(fC(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Wr.fromReplace(e,this.from,this.to,r)}invert(){return new Sf(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new tu(n.pos,r.pos,this.mark)}merge(e){return e instanceof tu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tu(n.from,n.to,e.markFromJSON(n.mark))}}ro.jsonID("removeMark",tu);class Cf extends ro{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Wr.fromReplace(e,this.pos,this.pos+1,new ct(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Cf(this.pos,n.marks[i]);return new Cf(this.pos,this.mark)}}return new sm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cf(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cf(n.pos,e.markFromJSON(n.mark))}}ro.jsonID("addNodeMark",Cf);class sm extends ro{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Wr.fromReplace(e,this.pos,this.pos+1,new ct(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Cf(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sm(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new sm(n.pos,e.markFromJSON(n.mark))}}ro.jsonID("removeNodeMark",sm);class wi extends ro{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&sS(e,this.from,this.to)?Wr.fail("Structure replace would overwrite content"):Wr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new As([this.from,this.to-this.from,this.slice.size])}invert(e){return new wi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new wi(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof wi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wi(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wi(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wi(n.from,n.to,ct.fromJSON(e,n.slice),!!n.structure)}}ro.jsonID("replace",wi);class Si extends ro{constructor(e,n,r,i,s,l,f=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=f}apply(e){if(this.structure&&(sS(e,this.from,this.gapFrom)||sS(e,this.gapTo,this.to)))return Wr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Wr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Wr.fromReplace(e,this.from,this.to,r):Wr.fail("Content does not fit in gap")}getMap(){return new As([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Si(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Si(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Si(n.from,n.to,n.gapFrom,n.gapTo,ct.fromJSON(e,n.slice),n.insert,!!n.structure)}}ro.jsonID("replaceAround",Si);function sS(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function T5(t,e,n,r){let i=[],s=[],l,f;t.doc.nodesBetween(e,n,(d,m,y)=>{if(!d.isInline)return;let x=d.marks;if(!r.isInSet(x)&&y.type.allowsMarkType(r.type)){let C=Math.max(m,e),T=Math.min(m+d.nodeSize,n),E=r.addToSet(x);for(let k=0;k<x.length;k++)x[k].isInSet(E)||(l&&l.to==C&&l.mark.eq(x[k])?l.to=T:i.push(l=new tu(C,T,x[k])));f&&f.to==C?f.to=T:s.push(f=new Sf(C,T,r))}}),i.forEach(d=>t.step(d)),s.forEach(d=>t.step(d))}function O5(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(l,f)=>{if(!l.isInline)return;s++;let d=null;if(r instanceof xb){let m=l.marks,y;for(;y=r.isInSet(m);)(d||(d=[])).push(y),m=y.removeFromSet(m)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let m=Math.min(f+l.nodeSize,n);for(let y=0;y<d.length;y++){let x=d[y],C;for(let T=0;T<i.length;T++){let E=i[T];E.step==s-1&&x.eq(i[T].style)&&(C=E)}C?(C.to=m,C.step=s):i.push({style:x,from:Math.max(f,e),to:m,step:s})}}}),i.forEach(l=>t.step(new tu(l.from,l.to,l.style)))}function dC(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),l=[],f=e+1;for(let d=0;d<s.childCount;d++){let m=s.child(d),y=f+m.nodeSize,x=r.matchType(m.type);if(!x)l.push(new wi(f,y,ct.empty));else{r=x;for(let C=0;C<m.marks.length;C++)n.allowsMarkType(m.marks[C].type)||t.step(new tu(f,y,m.marks[C]));if(i&&m.isText&&n.whitespace!="pre"){let C,T=/\r?\n|\r/g,E;for(;C=T.exec(m.text);)E||(E=new ct(Fe.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),l.push(new wi(f+C.index,f+C.index+C[0].length,E))}}f=y}if(!r.validEnd){let d=r.fillBefore(Fe.empty,!0);t.replace(f,f,new ct(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function A5(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Tm(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,l,n))return r;if(r==0||i.type.spec.isolating||!A5(i,s,l))break}return null}function k5(t,e,n){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),f=i.after(s+1),d=l,m=f,y=Fe.empty,x=0;for(let E=s,k=!1;E>n;E--)k||r.index(E)>0?(k=!0,y=Fe.from(r.node(E).copy(y)),x++):d--;let C=Fe.empty,T=0;for(let E=s,k=!1;E>n;E--)k||i.after(E+1)<i.end(E)?(k=!0,C=Fe.from(i.node(E).copy(C)),T++):m++;t.step(new Si(d,m,l,f,new ct(y.append(C),x,T),y.size-x,!0))}function hC(t,e,n=null,r=t){let i=M5(t,e),s=i&&D5(r,e);return s?i.map(bE).concat({type:e,attrs:n}).concat(s.map(bE)):null}function bE(t){return{type:t,attrs:null}}function M5(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(r,i,l)?s:null}function D5(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let m=r;d&&m<i;m++)d=d.matchType(n.child(m).type);return!d||!d.validEnd?null:l}function R5(t,e,n){let r=Fe.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let f=n[l].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fe.from(n[l].type.create(n[l].attrs,r))}let i=e.start,s=e.end;t.step(new Si(i,s,i,s,new ct(r,0,0),n.length,!0))}function _5(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,f)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&N5(t.doc,t.mapping.slice(s).map(f),r)){let m=null;if(r.schema.linebreakReplacement){let T=r.whitespace=="pre",E=!!r.contentMatch.matchType(r.schema.linebreakReplacement);T&&!E?m=!1:!T&&E&&(m=!0)}m===!1&&XA(t,l,f,s),dC(t,t.mapping.slice(s).map(f,1),r,void 0,m===null);let y=t.mapping.slice(s),x=y.map(f,1),C=y.map(f+l.nodeSize,1);return t.step(new Si(x,C,x+1,C-1,new ct(Fe.from(r.create(d,null,l.marks)),0,0),1,!0)),m===!0&&QA(t,l,f,s),!1}})}function QA(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let l,f=/\r?\n|\r/g;for(;l=f.exec(i.text);){let d=t.mapping.slice(r).map(n+1+s+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function XA(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function N5(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function L5(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Si(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ct(Fe.from(l),0,0),1,!0))}function tc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let m=i.depth-1,y=n-2;m>s;m--,y--){let x=i.node(m),C=i.index(m);if(x.type.spec.isolating)return!1;let T=x.content.cutByIndex(C,x.childCount),E=r&&r[y+1];E&&(T=T.replaceChild(0,E.type.create(E.attrs)));let k=r&&r[y]||x;if(!x.canReplace(C+1,x.childCount)||!k.type.validContent(T))return!1}let f=i.indexAfter(s),d=r&&r[0];return i.node(s).canReplaceWith(f,f,d?d.type:i.node(s+1).type)}function B5(t,e,n=1,r){let i=t.doc.resolve(e),s=Fe.empty,l=Fe.empty;for(let f=i.depth,d=i.depth-n,m=n-1;f>d;f--,m--){s=Fe.from(i.node(f).copy(s));let y=r&&r[m];l=Fe.from(y?y.type.create(y.attrs,l):i.node(f).copy(l))}t.step(new wi(e,e,new ct(s.append(l),n,n),!0))}function _f(t,e){let n=t.resolve(e),r=n.index();return JA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function I5(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function JA(t,e){return!!(t&&e&&!t.isLeaf&&I5(t,e))}function wb(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,l,f=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):n>0?(s=r.node(i+1),f++,l=r.node(i).maybeChild(f)):(s=r.node(i).maybeChild(f-1),l=r.node(i+1)),s&&!s.isTextblock&&JA(s,l)&&r.node(i).canReplace(f,f+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function z5(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(i&&l.inlineContent){let y=l.whitespace=="pre",x=!!l.contentMatch.matchType(i);y&&!x?r=!1:!y&&x&&(r=!0)}let f=t.steps.length;if(r===!1){let y=t.doc.resolve(e+n);XA(t,y.node(),y.before(),f)}l.inlineContent&&dC(t,e+n-1,l,s.node().contentMatchAt(s.index()),r==null);let d=t.mapping.slice(f),m=d.map(e-n);if(t.step(new wi(m,d.map(e+n,-1),ct.empty,!0)),r===!0){let y=t.doc.resolve(m);QA(t,y.node(),y.before(),t.steps.length)}return t}function H5(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function ZA(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=r.depth;l>=0;l--){let f=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(f>0?1:0),m=r.node(l),y=!1;if(s==1)y=m.canReplace(d,d,i);else{let x=m.contentMatchAt(d).findWrapping(i.firstChild.type);y=x&&m.canReplaceWith(d,d,x[0])}if(y)return f==0?r.pos:f<0?r.before(l+1):r.after(l+1)}return null}function Sb(t,e,n=e,r=ct.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return ek(i,s,r)?new wi(e,n,r):new P5(i,s,r).fit()}function ek(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class P5{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Fe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,f=i.depth;for(;l&&f&&s.childCount==1;)s=s.firstChild.content,l--,f--;let d=new ct(s,l,f);return e>-1?new Si(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new wi(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ow(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:m}=this.frontier[f],y,x=null;if(n==1&&(l?m.matchType(l.type)||(x=m.fillBefore(Fe.from(l),!1)):s&&d.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:f,parent:s,inject:x};if(n==2&&l&&(y=m.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:f,parent:s,wrap:y};if(s&&m.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ow(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ct(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ow(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ct(Sy(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ct(Sy(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let l=this.unplaced,f=r?r.content:l.content,d=l.openStart-e,m=0,y=[],{match:x,type:C}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)y.push(i.child(k));x=x.matchFragment(i)}let T=f.size+e-(l.content.size-l.openEnd);for(;m<f.childCount;){let k=f.child(m),R=x.matchType(k.type);if(!R)break;m++,(m>1||d==0||k.content.size)&&(x=R,y.push(tk(k.mark(C.allowedMarks(k.marks)),m==1?d:0,m==f.childCount?T:-1)))}let E=m==f.childCount;E||(T=-1),this.placed=Cy(this.placed,n,Fe.from(y)),this.frontier[n].match=x,E&&T<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,R=f;k<T;k++){let H=R.lastChild;this.frontier.push({type:H.type,match:H.contentMatchAt(H.childCount)}),R=H.content}this.unplaced=E?e==0?ct.empty:new ct(Sy(l.content,e-1,1),e-1,T<0?l.openEnd:e-1):new ct(Sy(l.content,e,m),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!sw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=sw(e,n,i,r,s);if(l){for(let f=n-1;f>=0;f--){let{match:d,type:m}=this.frontier[f],y=sw(e,f,m,d,!0);if(!y||y.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cy(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cy(this.placed,this.depth,Fe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fe.empty,!0);n.childCount&&(this.placed=Cy(this.placed,this.frontier.length,n))}}function Sy(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Sy(t.firstChild.content,e-1,n)))}function Cy(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cy(t.lastChild.content,e-1,n)))}function ow(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function tk(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,tk(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Fe.empty,!0)))),t.copy(r)}function sw(t,e,n,r,i){let s=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let f=r.fillBefore(s.content,!0,l);return f&&!F5(n,s.content,l)?f:null}function F5(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function q5(t){return t.spec.defining||t.spec.definingForContent}function U5(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(ek(i,s,r))return t.step(new wi(e,n,r));let l=rk(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let f=-(i.depth+1);l.unshift(f);for(let C=i.depth,T=i.pos-1;C>0;C--,T--){let E=i.node(C).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;l.indexOf(C)>-1?f=C:i.before(C)==T&&l.splice(1,0,-C)}let d=l.indexOf(f),m=[],y=r.openStart;for(let C=r.content,T=0;;T++){let E=C.firstChild;if(m.push(E),T==r.openStart)break;C=E.content}for(let C=y-1;C>=0;C--){let T=m[C],E=q5(T.type);if(E&&!T.sameMarkup(i.node(Math.abs(f)-1)))y=C;else if(E||!T.type.isTextblock)break}for(let C=r.openStart;C>=0;C--){let T=(C+y+1)%(r.openStart+1),E=m[T];if(E)for(let k=0;k<l.length;k++){let R=l[(k+d)%l.length],H=!0;R<0&&(H=!1,R=-R);let K=i.node(R-1),Y=i.index(R-1);if(K.canReplaceWith(Y,Y,E.type,E.marks))return t.replace(i.before(R),H?s.after(R):n,new ct(nk(r.content,0,r.openStart,T),T,r.openEnd))}}let x=t.steps.length;for(let C=l.length-1;C>=0&&(t.replace(e,n,r),!(t.steps.length>x));C--){let T=l[C];T<0||(e=i.before(T),n=s.after(T))}}function nk(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(nk(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(Fe.empty,!0))}return t}function V5(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=H5(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ct(Fe.from(r),0,0))}function j5(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=rk(r,i);for(let l=0;l<s.length;l++){let f=s[l],d=l==s.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return t.delete(r.start(f),i.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),i.indexAfter(f-1))))return t.delete(r.before(f),i.after(f))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function rk(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Vp extends ro{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Wr.fromReplace(e,this.pos,this.pos+1,new ct(Fe.from(i),0,n.isLeaf?0:1))}getMap(){return As.empty}invert(e){return new Vp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Vp(n.pos,n.attr,n.value)}}ro.jsonID("attr",Vp);class $y extends ro{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Wr.ok(r)}getMap(){return As.empty}invert(e){return new $y(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $y(n.attr,n.value)}}ro.jsonID("docAttr",$y);let am=class extends Error{};am=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};am.prototype=Object.create(Error.prototype);am.prototype.constructor=am;am.prototype.name="TransformError";class K5{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ky}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new am(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ct.empty){let i=Sb(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ct(Fe.from(r),0,0))}delete(e,n){return this.replace(e,n,ct.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return U5(this,e,n,r),this}replaceRangeWith(e,n,r){return V5(this,e,n,r),this}deleteRange(e,n){return j5(this,e,n),this}lift(e,n){return k5(this,e,n),this}join(e,n=1){return z5(this,e,n),this}wrap(e,n){return R5(this,e,n),this}setBlockType(e,n=e,r,i=null){return _5(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return L5(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Vp(e,n,r)),this}setDocAttribute(e,n){return this.step(new $y(e,n)),this}addNodeMark(e,n){return this.step(new Cf(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Wn)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new sm(e,n)),this}split(e,n=1,r){return B5(this,e,n,r),this}addMark(e,n,r){return T5(this,e,n,r),this}removeMark(e,n,r){return O5(this,e,n,r),this}clearIncompatible(e,n,r){return dC(this,e,n,r),this}}const aw=Object.create(null);class Jt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $5(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ct.empty){let r=n.content.lastChild,i=null;for(let f=0;f<n.openEnd;f++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let f=0;f<l.length;f++){let{$from:d,$to:m}=l[f],y=e.mapping.slice(s);e.replaceRange(y.map(d.pos),y.map(m.pos),f?ct.empty:n),f==0&&SE(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:f}=i[s],d=e.mapping.slice(r),m=d.map(l.pos),y=d.map(f.pos);s?e.deleteRange(m,y):(e.replaceRangeWith(m,y,n),SE(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ut(e):Ip(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=n<0?Ip(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Ip(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ds(e.node(0))}static atStart(e){return Ip(e,e,0,0,1)||new Ds(e)}static atEnd(e){return Ip(e,e,e.content.size,e.childCount,-1)||new Ds(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=aw[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in aw)throw new RangeError("Duplicate use of selection JSON ID "+e);return aw[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ut.between(this.$anchor,this.$head).getBookmark()}}Jt.prototype.visible=!0;class $5{constructor(e,n){this.$from=e,this.$to=n}}let xE=!1;function wE(t){!xE&&!t.parent.inlineContent&&(xE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ut extends Jt{constructor(e,n=e){wE(e),wE(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Jt.near(r);let i=e.resolve(n.map(this.anchor));return new Ut(i.parent.inlineContent?i:r,r)}replace(e,n=ct.empty){if(super.replace(e,n),n==ct.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ut&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Cb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ut(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Jt.findFrom(n,r,!0)||Jt.findFrom(n,-r,!0);if(s)n=s.$head;else return Jt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Jt.findFrom(e,-r,!0)||Jt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ut(e,n)}}Jt.jsonID("text",Ut);class Cb{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Cb(e.map(this.anchor),e.map(this.head))}resolve(e){return Ut.between(e.resolve(this.anchor),e.resolve(this.head))}}class Dt extends Jt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Jt.near(s):new Dt(s)}content(){return new ct(Fe.from(this.node),0,0)}eq(e){return e instanceof Dt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Dt(e.resolve(n.anchor))}static create(e,n){return new Dt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Dt.prototype.visible=!1;Jt.jsonID("node",Dt);class pC{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Cb(r,r):new pC(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Dt.isSelectable(r)?new Dt(n):Jt.near(n)}}class Ds extends Jt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ct.empty){if(n==ct.empty){e.delete(0,e.doc.content.size);let r=Jt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ds(e)}map(e){return new Ds(e)}eq(e){return e instanceof Ds}getBookmark(){return Y5}}Jt.jsonID("all",Ds);const Y5={map(){return this},resolve(t){return new Ds(t)}};function Ip(t,e,n,r,i,s=!1){if(e.inlineContent)return Ut.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let f=e.child(l);if(f.isAtom){if(!s&&Dt.isSelectable(f))return Dt.create(t,n-(i<0?f.nodeSize:0))}else{let d=Ip(t,f,n+i,i<0?f.childCount:0,i,s);if(d)return d}n+=f.nodeSize*i}return null}function SE(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof wi||i instanceof Si))return;let s=t.mapping.maps[r],l;s.forEach((f,d,m,y)=>{l==null&&(l=y)}),t.setSelection(Jt.near(t.doc.resolve(l),n))}const CE=1,EE=2,TE=4;class G5 extends K5{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|CE)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&CE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=EE,this}ensureMarks(e){return Wn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&EE)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Wn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Jt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=TE,this}get scrolledIntoView(){return(this.updated&TE)>0}}function OE(t,e){return!e||!t?t:t.bind(e)}class Ey{constructor(e,n,r){this.name=e,this.init=OE(n.init,r),this.apply=OE(n.apply,r)}}const W5=[new Ey("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ey("selection",{init(t,e){return t.selection||Jt.atStart(e.doc)},apply(t){return t.selection}}),new Ey("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ey("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class lw{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=W5.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ey(r.key,r.spec.state,r))})}}class Pp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let f=this.config.plugins[l];if(f.spec.appendTransaction){let d=i?i[l].n:0,m=i?i[l].state:this,y=d<n.length&&f.spec.appendTransaction.call(f,d?n.slice(d):n,m,r);if(y&&r.filterTransaction(y,l)){if(y.setMeta("appendedTransaction",e),!i){i=[];for(let x=0;x<this.config.plugins.length;x++)i.push(x<l?{state:r,n:n.length}:{state:this,n:0})}n.push(y),r=r.applyInner(y),s=!0}i&&(i[l]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Pp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new G5(this)}static create(e){let n=new lw(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Pp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new lw(this.schema,e.plugins),r=n.fields,i=new Pp(n);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new lw(e.schema,e.plugins),s=new Pp(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=Tf.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Jt.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],m=d.spec.state;if(d.key==l.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,f)){s[l.name]=m.fromJSON.call(d,e,n[f],s);return}}s[l.name]=l.init(e,s)}}),s}}function ik(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=ik(i,e,{})),n[r]=i}return n}class Fi{constructor(e){this.spec=e,this.props={},e.props&&ik(e.props,this,this.props),this.key=e.key?e.key.key:ok("plugin")}getState(e){return e[this.key]}}const uw=Object.create(null);function ok(t){return t in uw?t+"$"+ ++uw[t]:(uw[t]=0,t+"$")}class _s{constructor(e="key"){this.key=ok(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const zi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},lm=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let aS=null;const Wu=function(t,e,n){let r=aS||(aS=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Q5=function(){aS=null},vh=function(t,e,n,r){return n&&(AE(t,e,n,r,-1)||AE(t,e,n,r,1))},X5=/^(img|br|input|textarea|hr)$/i;function AE(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:oa(t))){let s=t.parentNode;if(!s||s.nodeType!=1||y0(t)||X5.test(t.nodeName)||t.contentEditable=="false")return!1;e=zi(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?oa(t):0}else return!1}}function oa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function J5(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=oa(t)}else if(t.parentNode&&!y0(t))e=zi(t),t=t.parentNode;else return null}}function Z5(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!y0(t))e=zi(t)+1,t=t.parentNode;else return null}}function e6(t,e,n){for(let r=e==0,i=e==oa(t);r||i;){if(t==n)return!0;let s=zi(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==oa(t)}}function y0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Eb=function(t){return t.focusNode&&vh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ud(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function t6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function n6(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(oa(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(oa(r.startContainer),r.startOffset)}}}const su=typeof navigator<"u"?navigator:null,kE=typeof document<"u"?document:null,Nf=su&&su.userAgent||"",lS=/Edge\/(\d+)/.exec(Nf),sk=/MSIE \d/.exec(Nf),uS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nf),Wo=!!(sk||uS||lS),Af=sk?document.documentMode:uS?+uS[1]:lS?+lS[1]:0,Xa=!Wo&&/gecko\/(\d+)/i.test(Nf);Xa&&+(/Firefox\/(\d+)/.exec(Nf)||[0,0])[1];const cS=!Wo&&/Chrome\/(\d+)/.exec(Nf),Zi=!!cS,ak=cS?+cS[1]:0,Oo=!Wo&&!!su&&/Apple Computer/.test(su.vendor),um=Oo&&(/Mobile\/\w+/.test(Nf)||!!su&&su.maxTouchPoints>2),ra=um||(su?/Mac/.test(su.platform):!1),r6=su?/Win/.test(su.platform):!1,Ju=/Android \d/.test(Nf),v0=!!kE&&"webkitFontSmoothing"in kE.documentElement.style,i6=v0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function o6(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yu(t,e){return typeof t=="number"?t:t[e]}function s6(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function ME(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=lm(l);continue}let f=l,d=f==s.body,m=d?o6(s):s6(f),y=0,x=0;if(e.top<m.top+Yu(r,"top")?x=-(m.top-e.top+Yu(i,"top")):e.bottom>m.bottom-Yu(r,"bottom")&&(x=e.bottom-e.top>m.bottom-m.top?e.top+Yu(i,"top")-m.top:e.bottom-m.bottom+Yu(i,"bottom")),e.left<m.left+Yu(r,"left")?y=-(m.left-e.left+Yu(i,"left")):e.right>m.right-Yu(r,"right")&&(y=e.right-m.right+Yu(i,"right")),y||x)if(d)s.defaultView.scrollBy(y,x);else{let T=f.scrollLeft,E=f.scrollTop;x&&(f.scrollTop+=x),y&&(f.scrollLeft+=y);let k=f.scrollLeft-T,R=f.scrollTop-E;e={left:e.left-k,top:e.top-R,right:e.right-k,bottom:e.bottom-R}}let C=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(C))break;l=C=="absolute"?l.offsetParent:lm(l)}}function a6(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let f=t.root.elementFromPoint(s,l);if(!f||f==t.dom||!t.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=n-20){r=f,i=d.top;break}}return{refDOM:r,refTop:i,stack:lk(t.dom)}}function lk(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=lm(r));return e}function l6({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;uk(n,r==0?0:r-e)}function uk(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Lp=null;function u6(t){if(t.setActive)return t.setActive();if(Lp)return t.focus(Lp);let e=lk(t);t.focus(Lp==null?{get preventScroll(){return Lp={preventScroll:!0},!0}}:void 0),Lp||(Lp=!1,uk(e,0))}function ck(t,e){let n,r=2e8,i,s=0,l=e.top,f=e.top,d,m;for(let y=t.firstChild,x=0;y;y=y.nextSibling,x++){let C;if(y.nodeType==1)C=y.getClientRects();else if(y.nodeType==3)C=Wu(y).getClientRects();else continue;for(let T=0;T<C.length;T++){let E=C[T];if(E.top<=l&&E.bottom>=f){l=Math.max(E.bottom,l),f=Math.min(E.top,f);let k=E.left>e.left?E.left-e.left:E.right<e.left?e.left-E.right:0;if(k<r){n=y,r=k,i=k&&n.nodeType==3?{left:E.right<e.left?E.right:E.left,top:e.top}:e,y.nodeType==1&&k&&(s=x+(e.left>=(E.left+E.right)/2?1:0));continue}}else E.top>e.top&&!d&&E.left<=e.left&&E.right>=e.left&&(d=y,m={left:Math.max(E.left,Math.min(E.right,e.left)),top:E.top});!n&&(e.left>=E.right&&e.top>=E.top||e.left>=E.left&&e.top>=E.bottom)&&(s=x+1)}}return!n&&d&&(n=d,i=m,r=0),n&&n.nodeType==3?c6(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:ck(n,i)}function c6(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=of(r,1);if(s.top!=s.bottom&&mC(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function mC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function f6(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function d6(t,e,n){let{node:r,offset:i}=ck(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function h6(t,e,n,r){let i=-1;for(let s=e,l=!1;s!=t.dom;){let f=t.docView.nearestDesc(s,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!l&&d.left>r.left||d.top>r.top?i=f.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=f.posAfter),l=!0),!f.contentDOM&&i<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;s=f.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function fk(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let l=t.childNodes[s];if(l.nodeType==1){let f=l.getClientRects();for(let d=0;d<f.length;d++){let m=f[d];if(mC(e,m))return fk(l,e,m)}}if((s=(s+1)%r)==i)break}return t}function p6(t,e){let n=t.dom.ownerDocument,r,i=0,s=n6(n,e.left,e.top);s&&({node:r,offset:i}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),f;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let m=t.dom.getBoundingClientRect();if(!mC(e,m)||(l=fk(t.dom,e,m),!l))return null}if(Oo)for(let m=l;r&&m;m=lm(m))m.draggable&&(r=void 0);if(l=f6(l,e),r){if(Xa&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let y=r.childNodes[i],x;y.nodeName=="IMG"&&(x=y.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&i++}let m;v0&&i&&r.nodeType==1&&(m=r.childNodes[i-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(f=h6(t,r,i,e))}f==null&&(f=d6(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function DE(t){return t.top<t.bottom||t.left<t.right}function of(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(DE(r))return r}return Array.prototype.find.call(n,DE)||t.getBoundingClientRect()}const m6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dk(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=v0||Xa;if(r.nodeType==3)if(l&&(m6.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=of(Wu(r,i,i),n);if(Xa&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let m=of(Wu(r,i-1,i-1),-1);if(m.top==d.top){let y=of(Wu(r,i,i+1),-1);if(y.top!=d.top)return yy(y,y.left<m.left)}}return d}else{let d=i,m=i,y=n<0?1:-1;return n<0&&!i?(m++,y=-1):n>=0&&i==r.nodeValue.length?(d--,y=1):n<0?d--:m++,yy(of(Wu(r,d,m),y),y<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==oa(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return cw(d.getBoundingClientRect(),!1)}if(s==null&&i<oa(r)){let d=r.childNodes[i];if(d.nodeType==1)return cw(d.getBoundingClientRect(),!0)}return cw(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==oa(r))){let d=r.childNodes[i-1],m=d.nodeType==3?Wu(d,oa(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(m)return yy(of(m,1),!1)}if(s==null&&i<oa(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let m=d?d.nodeType==3?Wu(d,0,l?0:1):d.nodeType==1?d:null:null;if(m)return yy(of(m,-1),!0)}return yy(of(r.nodeType==3?Wu(r):r,-n),n>=0)}function yy(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function cw(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function hk(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function g6(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return hk(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let f=t.docView.nearestDesc(s,!0);if(!f)break;if(f.node.isBlock){s=f.contentDOM||f.dom;break}s=f.dom.parentNode}let l=dk(t,i.pos,1);for(let f=s.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Wu(f,0,f.nodeValue.length).getClientRects();else continue;for(let m=0;m<d.length;m++){let y=d[m];if(y.bottom>y.top+1&&(n=="up"?l.top-y.top>(y.bottom-l.top)*2:y.bottom-l.bottom>(l.bottom-y.top)*2))return!1}}return!0})}const y6=/[\u0590-\u08ac]/;function v6(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,f=t.domSelection();return f?!y6.test(r.parent.textContent)||!f.modify?n=="left"||n=="backward"?s:l:hk(t,e,()=>{let{focusNode:d,focusOffset:m,anchorNode:y,anchorOffset:x}=t.domSelectionRange(),C=f.caretBidiLevel;f.modify("move",n,"character");let T=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:E,focusOffset:k}=t.domSelectionRange(),R=E&&!T.contains(E.nodeType==1?E:E.parentNode)||d==E&&m==k;try{f.collapse(y,x),d&&(d!=y||m!=x)&&f.extend&&f.extend(d,m)}catch{}return C!=null&&(f.caretBidiLevel=C),R}):r.pos==r.start()||r.pos==r.end()}let RE=null,_E=null,NE=!1;function b6(t,e,n){return RE==e&&_E==n?NE:(RE=e,_E=n,NE=n=="up"||n=="down"?g6(t,e,n):v6(t,e,n))}const sa=0,LE=1,Xd=2,au=3;class b0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=sa,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>zi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!n||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let f=i.children[l];if(f.size){i=f;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],f=s+l.size;if(f>e||l instanceof mk){i=e-s;break}s=f}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof pk&&s.side>=0;r--);if(n<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?zi(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?zi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,f=0;;f++){let d=this.children[f],m=l+d.size;if(i==-1&&e<=m){let y=l+d.border;if(e>=y&&n<=m-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,y);e=l;for(let x=f;x>0;x--){let C=this.children[x-1];if(C.size&&C.dom.parentNode==this.contentDOM&&!C.emptyChildAt(1)){i=zi(C.dom)+1;break}e-=C.size}i==-1&&(i=0)}if(i>-1&&(m>n||f==this.children.length-1)){n=m;for(let y=f+1;y<this.children.length;y++){let x=this.children[y];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(-1)){s=zi(x.dom);break}n+=x.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=m}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let T=0,E=0;T<this.children.length;T++){let k=this.children[T],R=E+k.size;if(s>E&&l<R)return k.setSelection(e-E-k.border,n-E-k.border,r,i);E=R}let f=this.domFromPos(e,e?-1:1),d=n==e?f:this.domFromPos(n,n?-1:1),m=r.root.getSelection(),y=r.domSelectionRange(),x=!1;if((Xa||Oo)&&e==n){let{node:T,offset:E}=f;if(T.nodeType==3){if(x=!!(E&&T.nodeValue[E-1]==`
`),x&&E==T.nodeValue.length)for(let k=T,R;k;k=k.parentNode){if(R=k.nextSibling){R.nodeName=="BR"&&(f=d={node:R.parentNode,offset:zi(R)+1});break}let H=k.pmViewDesc;if(H&&H.node&&H.node.isBlock)break}}else{let k=T.childNodes[E-1];x=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Xa&&y.focusNode&&y.focusNode!=d.node&&y.focusNode.nodeType==1){let T=y.focusNode.childNodes[y.focusOffset];T&&T.contentEditable=="false"&&(i=!0)}if(!(i||x&&Oo)&&vh(f.node,f.offset,y.anchorNode,y.anchorOffset)&&vh(d.node,d.offset,y.focusNode,y.focusOffset))return;let C=!1;if((m.extend||e==n)&&!x){m.collapse(f.node,f.offset);try{e!=n&&m.extend(d.node,d.offset),C=!0}catch{}}if(!C){if(e>n){let E=f;f=d,d=E}let T=document.createRange();T.setEnd(d.node,d.offset),T.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(T)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let f=r+s.border,d=l-s.border;if(e>=f&&n<=d){this.dirty=e==r||n==l?Xd:LE,e==f&&n==d&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=au:s.markDirty(e-f,n-f);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Xd:au}r=l}this.dirty=Xd}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Xd:LE;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class pk extends b0{constructor(e,n,r,i){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let f=document.createElement("span");f.appendChild(l),l=f}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==sa&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class x6 extends b0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bh extends b0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],l=s&&s(n,i,r);return(!l||!l.dom)&&(l=Th.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bh(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&au||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=au&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=sa){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=sa}}slice(e,n,r){let i=bh.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;n<l&&(s=dS(s,n,l,r)),e>0&&(s=dS(s,0,e,r));for(let f=0;f<s.length;f++)s[f].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class kf extends b0{constructor(e,n,r,i,s,l,f,d,m){super(e,[],s,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=f}static create(e,n,r,i,s,l){let f=s.nodeViews[n.type.name],d,m=f&&f(n,s,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),y=m&&m.dom,x=m&&m.contentDOM;if(n.isText){if(!y)y=document.createTextNode(n.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:x}=Th.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!x&&!n.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),n.type.spec.draggable&&(y.draggable=!0));let C=y;return y=vk(y,r,n),m?d=new w6(e,n,r,i,y,x||null,C,m,s,l+1):n.isText?new Tb(e,n,r,i,y,C,s):new kf(e,n,r,i,y,x||null,C,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fe.empty)}return e}matchesNode(e,n,r){return this.dirty==sa&&e.eq(this.node)&&Q1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,f=s&&s.pos<0,d=new C6(this,l&&l.node,e);O6(this.node,this.innerDeco,(m,y,x)=>{m.spec.marks?d.syncToMarks(m.spec.marks,r,e):m.type.side>=0&&!x&&d.syncToMarks(y==this.node.childCount?Wn.none:this.node.child(y).marks,r,e),d.placeWidget(m,e,i)},(m,y,x,C)=>{d.syncToMarks(m.marks,r,e);let T;d.findNodeMatch(m,y,x,C)||f&&e.state.selection.from>i&&e.state.selection.to<i+m.nodeSize&&(T=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(m,y,x,T,e)||d.updateNextNode(m,y,x,e,C,i)||d.addNode(m,y,x,e,i),i+=m.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Xd)&&(l&&this.protectLocalComposition(e,l),gk(this.contentDOM,this.children,e),um&&A6(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ut)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,f=k6(this.node.content,l,r-n,i-n);return f<0?null:{node:s,pos:f,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new x6(this,s,n,i);e.input.compositionNodes.push(l),this.children=dS(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==au||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=sa}updateOuterDeco(e){if(Q1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=yk(this.dom,this.nodeDOM,fS(this.outerDeco,this.node,n),fS(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function BE(t,e,n,r,i){vk(r,e,t);let s=new kf(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Tb extends kf{constructor(e,n,r,i,s,l,f){super(e,n,r,i,s,null,l,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==au||this.dirty!=sa&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=sa||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=sa,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Tb(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=au)}get domAtom(){return!1}isText(e){return this.node.text==e}}class mk extends b0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==sa&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class w6 extends kf{constructor(e,n,r,i,s,l,f,d,m,y){super(e,n,r,i,s,l,f,m,y),this.spec=d}update(e,n,r,i){if(this.dirty==au)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function gk(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],f=l.dom;if(f.parentNode==t){for(;f!=r;)r=IE(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(f,r);if(l instanceof bh){let d=r?r.previousSibling:t.lastChild;gk(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=IE(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const ky=function(t){t&&(this.nodeName=t)};ky.prototype=Object.create(null);const Jd=[new ky];function fS(t,e,n){if(t.length==0)return Jd;let r=n?Jd[0]:new ky,i=[r];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&i.push(r=new ky(l.nodeName));for(let f in l){let d=l[f];d!=null&&(n&&i.length==1&&i.push(r=new ky(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return i}function yk(t,e,n,r){if(n==Jd&&r==Jd)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],f=n[s];if(s){let d;f&&f.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),f=Jd[0]),i=d}S6(i,f||Jd[0],l)}return i}function S6(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function vk(t,e,n){return yk(t,t,Jd,fS(e,n,t.nodeType!=1))}function Q1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function IE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class C6{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=E6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=sa,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let m=this.top.children[d];if(m.matchesMark(e[s])&&!this.isLocked(m.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=bh.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))s=this.top.children.indexOf(l,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let m=this.top.children[f];if(m.matchesNode(e,n,r)&&!this.preMatch.matched.has(m)){s=f;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let l=this.top.children[i];return l.dirty==au&&l.dom==l.contentDOM&&(l.dirty=Xd),l.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,l){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof kf){let m=this.preMatch.matched.get(d);if(m!=null&&m!=s)return!1;let y=d.dom,x,C=this.isLocked(y)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=au&&Q1(n,d.outerDeco));if(!C&&d.update(e,n,r,i))return this.destroyBetween(this.index,f),d.dom!=y&&(this.changed=!0),this.index++,!0;if(!C&&(x=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,f),this.top.children[this.index]=x,x.contentDOM&&(x.dirty=Xd,x.updateChildren(i,l+1),x.dirty=sa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Q1(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let f=kf.create(this.top,n,r,i,s,l);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,n,r,i,s){let l=kf.create(this.top,e,n,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new pk(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof bh;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Tb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Oo||Zi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new mk(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function E6(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,l=[];e:for(;i>0;){let f;for(;;)if(r){let m=n.children[r-1];if(m instanceof bh)n=m,r=m.children.length;else{f=m,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=f.node;if(d){if(d!=t.child(i-1))break;--i,s.set(f,i),l.push(f)}}return{index:i,matched:s,matches:l.reverse()}}function T6(t,e){return t.type.side-e.type.side}function O6(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let m=0;m<t.childCount;m++){let y=t.child(m);r(y,i,e.forChild(s,y),m),s+=y.nodeSize}return}let l=0,f=[],d=null;for(let m=0;;){let y,x;for(;l<i.length&&i[l].to==s;){let R=i[l++];R.widget&&(y?(x||(x=[y])).push(R):y=R)}if(y)if(x){x.sort(T6);for(let R=0;R<x.length;R++)n(x[R],m,!!d)}else n(y,m,!!d);let C,T;if(d)T=-1,C=d,d=null;else if(m<t.childCount)T=m,C=t.child(m++);else break;for(let R=0;R<f.length;R++)f[R].to<=s&&f.splice(R--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)f.push(i[l++]);let E=s+C.nodeSize;if(C.isText){let R=E;l<i.length&&i[l].from<R&&(R=i[l].from);for(let H=0;H<f.length;H++)f[H].to<R&&(R=f[H].to);R<E&&(d=C.cut(R-s),C=C.cut(0,R-s),E=R,T=-1)}else for(;l<i.length&&i[l].to<E;)l++;let k=C.isInline&&!C.isLeaf?f.filter(R=>!R.inline):f.slice();r(C,k,e.forChild(s,C),T),s=E}}function A6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function k6(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let l=t.child(i++),f=s;if(s+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let m=t.child(i++);if(s+=m.nodeSize,!m.isText)break;d+=m.text}if(s>=n){if(s>=r&&d.slice(r-e.length-f,r-f)==e)return r-e.length;let m=f<r?d.lastIndexOf(e,r-f-1):-1;if(m>=0&&m+e.length+f>=n)return f+m;if(n==r&&d.length>=r+e.length-f&&d.slice(r-f,r-f+e.length)==e)return r}}return-1}function dS(t,e,n,r,i){let s=[];for(let l=0,f=0;l<t.length;l++){let d=t[l],m=f,y=f+=d.size;m>=n||y<=e?s.push(d):(m<e&&s.push(d.slice(0,e-m,r)),i&&(s.push(i),i=void 0),y>n&&s.push(d.slice(n-m,d.size,r)))}return s}function gC(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let f=r.resolve(l),d,m;if(Eb(n)){for(d=l;i&&!i.node;)i=i.parent;let x=i.node;if(i&&x.isAtom&&Dt.isSelectable(x)&&i.parent&&!(x.isInline&&e6(n.focusNode,n.focusOffset,i.dom))){let C=i.posBefore;m=new Dt(l==C?f:r.resolve(C))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let x=l,C=l;for(let T=0;T<n.rangeCount;T++){let E=n.getRangeAt(T);x=Math.min(x,t.docView.posFromDOM(E.startContainer,E.startOffset,1)),C=Math.max(C,t.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(x<0)return null;[d,l]=C==t.state.selection.anchor?[C,x]:[x,C],f=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let y=r.resolve(d);if(!m){let x=e=="pointer"||t.state.selection.head<f.pos&&!s?1:-1;m=yC(t,y,f,x)}return m}function bk(t){return t.editable?t.hasFocus():wk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function nc(t,e=!1){let n=t.state.selection;if(xk(t,n),!!bk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Zi){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&vh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)D6(t);else{let{anchor:r,head:i}=n,s,l;zE&&!(n instanceof Ut)&&(n.$from.parent.inlineContent||(s=HE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=HE(t,n.to))),t.docView.setSelection(r,i,t,e),zE&&(s&&PE(s),l&&PE(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&M6(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zE=Oo||Zi&&ak<63;function HE(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Oo&&i&&i.contentEditable=="false")return fw(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return fw(i);if(s)return fw(s)}}function fw(t){return t.contentEditable="true",Oo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function PE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function M6(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bk(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function D6(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,zi(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Wo&&Af<=11&&(r.disabled=!0,r.disabled=!1)}function xk(t,e){if(e instanceof Dt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(FE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else FE(t)}function FE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yC(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ut.between(e,n,r)}function qE(t){return t.editable&&!t.hasFocus()?!1:wk(t)}function wk(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function R6(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return vh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function hS(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Jt.findFrom(s,e)}function sf(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function UE(t,e,n){let r=t.state.selection;if(r instanceof Ut)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return sf(t,new Ut(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=hS(t.state,e);return i&&i instanceof Dt?sf(t,i):!1}else if(!(ra&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let f=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=t.docView.descAt(f))&&!l.contentDOM?Dt.isSelectable(s)?sf(t,new Dt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):v0?sf(t,new Ut(t.state.doc.resolve(e<0?f:f+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Dt&&r.node.isInline)return sf(t,new Ut(e>0?r.$to:r.$from));{let i=hS(t.state,e);return i?sf(t,i):!1}}}function X1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function My(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Bp(t,e){return e<0?_6(t):N6(t)}function _6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,l=!1;for(Xa&&n.nodeType==1&&r<X1(n)&&My(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let f=n.childNodes[r-1];if(My(f,-1))i=n,s=--r;else if(f.nodeType==3)n=f,r=n.nodeValue.length;else break}}else{if(Sk(n))break;{let f=n.previousSibling;for(;f&&My(f,-1);)i=n.parentNode,s=zi(f),f=f.previousSibling;if(f)n=f,r=X1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?pS(t,n,r):i&&pS(t,i,s)}function N6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=X1(n),s,l;for(;;)if(r<i){if(n.nodeType!=1)break;let f=n.childNodes[r];if(My(f,1))s=n,l=++r;else break}else{if(Sk(n))break;{let f=n.nextSibling;for(;f&&My(f,1);)s=f.parentNode,l=zi(f)+1,f=f.nextSibling;if(f)n=f,r=0,i=X1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&pS(t,s,l)}function Sk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function L6(t,e){for(;t&&e==t.childNodes.length&&!y0(t);)e=zi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function B6(t,e){for(;t&&!e&&!y0(t);)e=zi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function pS(t,e,n){if(e.nodeType!=3){let s,l;(l=L6(e,n))?(e=l,n=0):(s=B6(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Eb(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&nc(t)},50)}function VE(t,e){let n=t.state.doc.resolve(e);if(!(Zi||r6)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jE(t,e,n){let r=t.state.selection;if(r instanceof Ut&&!r.empty||n.indexOf("s")>-1||ra&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=hS(t.state,e);if(l&&l instanceof Dt)return sf(t,l)}if(!i.parent.inlineContent){let l=e<0?i:s,f=r instanceof Ds?Jt.near(l,e):Jt.findFrom(l,e);return f?sf(t,f):!1}return!1}function KE(t,e){if(!(t.state.selection instanceof Ut))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function $E(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function I6(t){if(!Oo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$E(t,r,"true"),setTimeout(()=>$E(t,r,"false"),20)}return!1}function z6(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function H6(t,e){let n=e.keyCode,r=z6(e);if(n==8||ra&&n==72&&r=="c")return KE(t,-1)||Bp(t,-1);if(n==46&&!e.shiftKey||ra&&n==68&&r=="c")return KE(t,1)||Bp(t,1);if(n==13||n==27)return!0;if(n==37||ra&&n==66&&r=="c"){let i=n==37?VE(t,t.state.selection.from)=="ltr"?-1:1:-1;return UE(t,i,r)||Bp(t,i)}else if(n==39||ra&&n==70&&r=="c"){let i=n==39?VE(t,t.state.selection.from)=="ltr"?1:-1:1;return UE(t,i,r)||Bp(t,i)}else{if(n==38||ra&&n==80&&r=="c")return jE(t,-1,r)||Bp(t,-1);if(n==40||ra&&n==78&&r=="c")return I6(t)||jE(t,1,r)||Bp(t,1);if(r==(ra?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vC(t,e){t.someProp("transformCopied",T=>{e=T(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let T=r.firstChild;n.push(T.type.name,T.attrs!=T.type.defaultAttrs?T.attrs:null),r=T.content}let l=t.someProp("clipboardSerializer")||Th.fromSchema(t.state.schema),f=kk(),d=f.createElement("div");d.appendChild(l.serializeFragment(r,{document:f}));let m=d.firstChild,y,x=0;for(;m&&m.nodeType==1&&(y=Ak[m.nodeName.toLowerCase()]);){for(let T=y.length-1;T>=0;T--){let E=f.createElement(y[T]);for(;d.firstChild;)E.appendChild(d.firstChild);d.appendChild(E),x++}m=d.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${i} ${s}${x?` -${x}`:""} ${JSON.stringify(n)}`);let C=t.someProp("clipboardTextSerializer",T=>T(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:C,slice:e}}function Ck(t,e,n,r,i){let s=i.parent.type.spec.code,l,f;if(!n&&!e)return null;let d=e&&(r||s||!n);if(d){if(t.someProp("transformPastedText",C=>{e=C(e,s||r,t)}),s)return e?new ct(Fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ct.empty;let x=t.someProp("clipboardTextParser",C=>C(e,i,r,t));if(x)f=x;else{let C=i.marks(),{schema:T}=t.state,E=Th.fromSchema(T);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let R=l.appendChild(document.createElement("p"));k&&R.appendChild(E.serializeNode(T.text(k,C)))})}}else t.someProp("transformPastedHTML",x=>{n=x(n,t)}),l=U6(n),v0&&V6(l);let m=l&&l.querySelector("[data-pm-slice]"),y=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let x=+y[3];x>0;x--){let C=l.firstChild;for(;C&&C.nodeType!=1;)C=C.nextSibling;if(!C)break;l=C}if(f||(f=(t.someProp("clipboardParser")||t.someProp("domParser")||Of.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||y),context:i,ruleFromNode(C){return C.nodeName=="BR"&&!C.nextSibling&&C.parentNode&&!P6.test(C.parentNode.nodeName)?{ignore:!0}:null}})),y)f=j6(YE(f,+y[1],+y[2]),y[4]);else if(f=ct.maxOpen(F6(f.content,i),!0),f.openStart||f.openEnd){let x=0,C=0;for(let T=f.content.firstChild;x<f.openStart&&!T.type.spec.isolating;x++,T=T.firstChild);for(let T=f.content.lastChild;C<f.openEnd&&!T.type.spec.isolating;C++,T=T.lastChild);f=YE(f,x,C)}return t.someProp("transformPasted",x=>{f=x(f,t)}),f}const P6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function F6(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(f=>{if(!l)return;let d=i.findWrapping(f.type),m;if(!d)return l=null;if(m=l.length&&s.length&&Tk(d,s,f,l[l.length-1],0))l[l.length-1]=m;else{l.length&&(l[l.length-1]=Ok(l[l.length-1],s.length));let y=Ek(f,d);l.push(y),i=i.matchType(y.type),s=d}}),l)return Fe.from(l)}return t}function Ek(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Fe.from(t));return t}function Tk(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Tk(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Fe.from(Ek(n,t,i+1))))}}function Ok(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Ok(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Fe.empty,!0);return t.copy(n.append(r))}function mS(t,e,n,r,i,s){let l=e<0?t.firstChild:t.lastChild,f=l.content;return t.childCount>1&&(s=0),i<r-1&&(f=mS(f,e,n,r,i+1,s)),i>=n&&(f=e<0?l.contentMatchAt(0).fillBefore(f,s<=i).append(f):f.append(l.contentMatchAt(l.childCount).fillBefore(Fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(f))}function YE(t,e,n){return e<t.openStart&&(t=new ct(mS(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ct(mS(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ak={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let GE=null;function kk(){return GE||(GE=document.implementation.createHTMLDocument("title"))}let dw=null;function q6(t){let e=window.trustedTypes;return e?(dw||(dw=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),dw.createHTML(t)):t}function U6(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=kk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Ak[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=q6(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function V6(t){let e=t.querySelectorAll(Zi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function j6(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:l}=t;for(let f=r.length-2;f>=0;f-=2){let d=n.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;i=Fe.from(d.create(r[f+1],i)),s++,l++}return new ct(i,s,l)}const Ao={},ko={},K6={touchstart:!0,touchmove:!0};class $6{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Y6(t){for(let e in Ao){let n=Ao[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{W6(t,r)&&!bC(t,r)&&(t.editable||!(r.type in ko))&&n(t,r)},K6[e]?{passive:!0}:void 0)}Oo&&t.dom.addEventListener("input",()=>null),gS(t)}function Ef(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function G6(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function gS(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>bC(t,r))})}function bC(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function W6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Q6(t,e){!bC(t,e)&&Ao[e.type]&&(t.editable||!(e.type in ko))&&Ao[e.type](t,e)}ko.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Dk(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ju&&Zi&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),um&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ud(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||H6(t,n)?n.preventDefault():Ef(t,"key")};ko.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ko.keypress=(t,e)=>{let n=e;if(Dk(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ra&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ut)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Ob(t){return{left:t.clientX,top:t.clientY}}function X6(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function xC(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,f=>l>s.depth?f(t,n,s.nodeAfter,s.before(l),i,!0):f(t,n,s.node(l),s.before(l),i,!1)))return!0;return!1}function jp(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function J6(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Dt.isSelectable(r)?(jp(t,new Dt(n)),!0):!1}function Z6(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Dt&&(r=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let f=l>s.depth?s.nodeAfter:s.node(l);if(Dt.isSelectable(f)){r&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(l);break}}return i!=null?(jp(t,Dt.create(t.state.doc,i)),!0):!1}function e8(t,e,n,r,i){return xC(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Z6(t,n):J6(t,n))}function t8(t,e,n,r){return xC(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function n8(t,e,n,r){return xC(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||r8(t,n,r)}function r8(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(jp(t,Ut.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),f=i.before(s);if(l.inlineContent)jp(t,Ut.create(r,f+1,f+1+l.content.size));else if(Dt.isSelectable(l))jp(t,Dt.create(r,f));else continue;return!0}}function wC(t){return J1(t)}const Mk=ra?"metaKey":"ctrlKey";Ao.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=wC(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&X6(n,t.input.lastClick)&&!n[Mk]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let l=t.posAtCoords(Ob(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new i8(t,l,n,!!r)):(s=="doubleClick"?t8:n8)(t,l.pos,l.inside,n)?n.preventDefault():Ef(t,"pointer"))};class i8{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Mk],this.allowDefault=r.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let y=e.state.doc.resolve(n.pos);s=y.parent,l=y.depth?y.before():0}const f=i?null:r.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:m}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||m instanceof Dt&&m.from<=l&&m.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ef(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ob(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ef(this.view,"pointer"):e8(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Oo&&this.mightDrag&&!this.mightDrag.node.isAtom||Zi&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(jp(this.view,Jt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ef(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ef(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ao.touchstart=t=>{t.input.lastTouch=Date.now(),wC(t),Ef(t,"pointer")};Ao.touchmove=t=>{t.input.lastTouch=Date.now(),Ef(t,"pointer")};Ao.contextmenu=t=>wC(t);function Dk(t,e){return t.composing?!0:Oo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const o8=Ju?5e3:-1;ko.compositionstart=ko.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ut&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),J1(t,!0),t.markCursor=null;else if(J1(t,!e.selection.empty),Xa&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let f=t.domSelection();f&&f.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}t.input.composing=!0}Rk(t,o8)};ko.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Rk(t,20))};function Rk(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>J1(t),e))}function _k(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=a8());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function s8(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=J5(e.focusNode,e.focusOffset),r=Z5(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function a8(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function J1(t,e=!1){if(!(Ju&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_k(t),e||t.docView&&t.docView.dirty){let n=gC(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function l8(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Yy=Wo&&Af<15||um&&i6<604;Ao.copy=ko.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Yy?null:n.clipboardData,l=r.content(),{dom:f,text:d}=vC(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",f.innerHTML),s.setData("text/plain",d)):l8(t,f),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function u8(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function c8(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Gy(t,r.value,null,i,e):Gy(t,r.textContent,r.innerHTML,i,e)},50)}function Gy(t,e,n,r,i){let s=Ck(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,s||ct.empty)))return!0;if(!s)return!1;let l=u8(s),f=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(s);return t.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Nk(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ko.paste=(t,e)=>{let n=e;if(t.composing&&!Ju)return;let r=Yy?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Gy(t,Nk(r),r.getData("text/html"),i,n)?n.preventDefault():c8(t,n)};class Lk{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Bk=ra?"altKey":"ctrlKey";Ao.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Ob(n)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Dt?i.to-1:i.to))){if(r&&r.mightDrag)l=Dt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let x=t.docView.nearestDesc(n.target,!0);x&&x.node.type.spec.draggable&&x!=t.docView&&(l=Dt.create(t.state.doc,x.posBefore))}}let f=(l||t.state.selection).content(),{dom:d,text:m,slice:y}=vC(t,f);(!n.dataTransfer.files.length||!Zi||ak>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Yy?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Yy||n.dataTransfer.setData("text/plain",m),t.dragging=new Lk(y,!n[Bk],l)};Ao.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ko.dragover=ko.dragenter=(t,e)=>e.preventDefault();ko.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Ob(n));if(!i)return;let s=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",E=>{l=E(l,t)}):l=Ck(t,Nk(n.dataTransfer),Yy?null:n.dataTransfer.getData("text/html"),!1,s);let f=!!(r&&!n[Bk]);if(t.someProp("handleDrop",E=>E(t,n,l||ct.empty,f))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?ZA(t.state.doc,s.pos,l):s.pos;d==null&&(d=s.pos);let m=t.state.tr;if(f){let{node:E}=r;E?E.replace(m):m.deleteSelection()}let y=m.mapping.map(d),x=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,C=m.doc;if(x?m.replaceRangeWith(y,y,l.content.firstChild):m.replaceRange(y,y,l),m.doc.eq(C))return;let T=m.doc.resolve(y);if(x&&Dt.isSelectable(l.content.firstChild)&&T.nodeAfter&&T.nodeAfter.sameMarkup(l.content.firstChild))m.setSelection(new Dt(T));else{let E=m.mapping.map(d);m.mapping.maps[m.mapping.maps.length-1].forEach((k,R,H,K)=>E=K),m.setSelection(yC(t,T,m.doc.resolve(E)))}t.focus(),t.dispatch(m.setMeta("uiEvent","drop"))};Ao.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&nc(t)},20))};Ao.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ao.beforeinput=(t,e)=>{if(Zi&&Ju&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ud(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ko)Ao[t]=ko[t];function Wy(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Z1{constructor(e,n){this.toDOM=e,this.spec=n||uh,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new ks(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Z1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Wy(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Mf{constructor(e,n){this.attrs=e,this.spec=n||uh}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new ks(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Mf&&Wy(this.attrs,e.attrs)&&Wy(this.spec,e.spec)}static is(e){return e.type instanceof Mf}destroy(){}}class SC{constructor(e,n){this.attrs=e,this.spec=n||uh}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=s.pos?null:new ks(s.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof SC&&Wy(this.attrs,e.attrs)&&Wy(this.spec,e.spec)}destroy(){}}class ks{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ks(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ks(e,e,new Z1(n,r))}static inline(e,n,r,i){return new ks(e,n,new Mf(r,i))}static node(e,n,r,i){return new ks(e,n,new SC(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mf}get widget(){return this.type instanceof Z1}}const zp=[],uh={};class Yr{constructor(e,n){this.local=e.length?e:zp,this.children=n.length?n:zp}static create(e,n){return n.length?eb(n,e,0,uh):Ji}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let l=0;l<this.local.length;l++){let f=this.local[l];f.from<=n&&f.to>=e&&(!s||s(f.spec))&&r.push(f.copy(f.from+i,f.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let f=this.children[l]+1;this.children[l+2].findInner(e-f,n-f,r,i+f,s)}}map(e,n,r){return this==Ji||e.maps.length==0?this:this.mapInner(e,n,0,0,r||uh)}mapInner(e,n,r,i,s){let l;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):s.onRemove&&s.onRemove(this.local[f].spec)}return this.children.length?f8(this.children,l||[],e,n,r,i,s):l?new Yr(l.sort(ch),zp):Ji}add(e,n){return n.length?this==Ji?Yr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((f,d)=>{let m=d+r,y;if(y=zk(n,f,m)){for(i||(i=this.children.slice());s<i.length&&i[s]<d;)s+=3;i[s]==d?i[s+2]=i[s+2].addInner(f,y,m+1):i.splice(s,0,d,d+f.nodeSize,eb(y,f,m+1,uh)),s+=3}});let l=Ik(s?Hk(n):n,-r);for(let f=0;f<l.length;f++)l[f].type.valid(e,l[f])||l.splice(f--,1);return new Yr(l.length?this.local.concat(l).sort(ch):this.local,i||this.children)}remove(e){return e.length==0||this==Ji?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,f=r[s]+n,d=r[s+1]+n;for(let y=0,x;y<e.length;y++)(x=e[y])&&x.from>f&&x.to<d&&(e[y]=null,(l||(l=[])).push(x));if(!l)continue;r==this.children&&(r=this.children.slice());let m=r[s+2].removeInner(l,f+1);m!=Ji?r[s+2]=m:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let f=0;f<i.length;f++)i[f].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Yr(i,r):Ji}forChild(e,n){if(this==Ji)return this;if(n.isLeaf)return Yr.empty;let r,i;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let s=e+1,l=s+n.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<l&&d.to>s&&d.type instanceof Mf){let m=Math.max(s,d.from)-s,y=Math.min(l,d.to)-s;m<y&&(i||(i=[])).push(d.copy(m,y))}}if(i){let f=new Yr(i.sort(ch),zp);return r?new ff([f,r]):f}return r||Ji}eq(e){if(this==e)return!0;if(!(e instanceof Yr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return CC(this.localsInner(e))}localsInner(e){if(this==Ji)return zp;if(e.inlineContent||!this.local.some(Mf.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Mf||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Yr.empty=new Yr([],[]);Yr.removeOverlap=CC;const Ji=Yr.empty;class ff{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,uh));return ff.from(r)}forChild(e,n){if(n.isLeaf)return Yr.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Ji&&(s instanceof ff?r=r.concat(s.members):r.push(s))}return ff.from(r)}eq(e){if(!(e instanceof ff)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?CC(r?n:n.sort(ch)):zp}static from(e){switch(e.length){case 0:return Ji;case 1:return e[0];default:return new ff(e.every(n=>n instanceof Yr)?e:e.reduce((n,r)=>n.concat(r instanceof Yr?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function f8(t,e,n,r,i,s,l){let f=t.slice();for(let m=0,y=s;m<n.maps.length;m++){let x=0;n.maps[m].forEach((C,T,E,k)=>{let R=k-E-(T-C);for(let H=0;H<f.length;H+=3){let K=f[H+1];if(K<0||C>K+y-x)continue;let Y=f[H]+y-x;T>=Y?f[H+1]=C<=Y?-2:-1:C>=y&&R&&(f[H]+=R,f[H+1]+=R)}x+=R}),y=n.maps[m].map(y,-1)}let d=!1;for(let m=0;m<f.length;m+=3)if(f[m+1]<0){if(f[m+1]==-2){d=!0,f[m+1]=-1;continue}let y=n.map(t[m]+s),x=y-i;if(x<0||x>=r.content.size){d=!0;continue}let C=n.map(t[m+1]+s,-1),T=C-i,{index:E,offset:k}=r.content.findIndex(x),R=r.maybeChild(E);if(R&&k==x&&k+R.nodeSize==T){let H=f[m+2].mapInner(n,R,y+1,t[m]+s+1,l);H!=Ji?(f[m]=x,f[m+1]=T,f[m+2]=H):(f[m+1]=-2,d=!0)}else d=!0}if(d){let m=d8(f,t,e,n,i,s,l),y=eb(m,r,0,l);e=y.local;for(let x=0;x<f.length;x+=3)f[x+1]<0&&(f.splice(x,3),x-=3);for(let x=0,C=0;x<y.children.length;x+=3){let T=y.children[x];for(;C<f.length&&f[C]<T;)C+=3;f.splice(C,0,y.children[x],y.children[x+1],y.children[x+2])}}return new Yr(e.sort(ch),f)}function Ik(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ks(i.from+e,i.to+e,i.type))}return n}function d8(t,e,n,r,i,s,l){function f(d,m){for(let y=0;y<d.local.length;y++){let x=d.local[y].map(r,i,m);x?n.push(x):l.onRemove&&l.onRemove(d.local[y].spec)}for(let y=0;y<d.children.length;y+=3)f(d.children[y+2],d.children[y]+m+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&f(t[d+2],e[d]+s+1);return n}function zk(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[s]=null);return i}function Hk(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function eb(t,e,n,r){let i=[],s=!1;e.forEach((f,d)=>{let m=zk(t,f,d+n);if(m){s=!0;let y=eb(m,f,n+d+1,r);y!=Ji&&i.push(d,d+f.nodeSize,y)}});let l=Ik(s?Hk(t):t,-n).sort(ch);for(let f=0;f<l.length;f++)l[f].type.valid(e,l[f])||(r.onRemove&&r.onRemove(l[f].spec),l.splice(f--,1));return l.length||i.length?new Yr(l,i):Ji}function ch(t,e){return t.from-e.from||t.to-e.to}function CC(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),WE(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),WE(e,i,r.copy(s.from,r.to)));break}}}return e}function WE(t,e,n){for(;e<t.length&&ch(n,t[e])>0;)e++;t.splice(e,0,n)}function hw(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ji&&e.push(r)}),t.cursorWrapper&&e.push(Yr.create(t.state.doc,[t.cursorWrapper.deco])),ff.from(e)}const h8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},p8=Wo&&Af<=11;class m8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class g8{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new m8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Wo&&Af<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),p8&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,h8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qE(this.view)){if(this.suppressingSelectionUpdates)return nc(this.view);if(Wo&&Af<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&vh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=lm(s))n.add(s);for(let s=e.anchorNode;s;s=lm(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qE(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,f=!1,d=[];if(e.editable)for(let y=0;y<n.length;y++){let x=this.registerMutation(n[y],d);x&&(s=s<0?x.from:Math.min(x.from,s),l=l<0?x.to:Math.max(x.to,l),x.typeOver&&(f=!0))}if(Xa&&d.length){let y=d.filter(x=>x.nodeName=="BR");if(y.length==2){let[x,C]=y;x.parentNode&&x.parentNode.parentNode==C.parentNode?C.remove():x.remove()}else{let{focusNode:x}=this.currentSelection;for(let C of y){let T=C.parentNode;T&&T.nodeName=="LI"&&(!x||b8(e,x)!=T)&&C.remove()}}}let m=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Eb(r)&&(m=gC(e))&&m.eq(Jt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,nc(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),y8(e)),this.handleDOMChange(s,l,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||nc(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let x=e.addedNodes[y];n.push(x),x.nodeType==3&&(this.lastChangedTextNode=x)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Wo&&Af<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:x,nextSibling:C}=e.addedNodes[y];(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x),(!C||Array.prototype.indexOf.call(e.addedNodes,C)<0)&&(s=C)}let l=i&&i.parentNode==e.target?zi(i)+1:0,f=r.localPosFromDOM(e.target,l,-1),d=s&&s.parentNode==e.target?zi(s):e.target.childNodes.length,m=r.localPosFromDOM(e.target,d,1);return{from:f,to:m}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let QE=new WeakMap,XE=!1;function y8(t){if(!QE.has(t)&&(QE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Xa,XE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),XE=!0}}function JE(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return vh(l.node,l.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function v8(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return JE(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?JE(t,n):null}function b8(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function x8(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:l,to:f}=t.docView.parseRange(e,n),d=t.domSelectionRange(),m,y=d.anchorNode;if(y&&t.dom.contains(y.nodeType==1?y:y.parentNode)&&(m=[{node:y,offset:d.anchorOffset}],Eb(d)||m.push({node:d.focusNode,offset:d.focusOffset})),Zi&&t.input.lastKeyCode===8)for(let R=s;R>i;R--){let H=r.childNodes[R-1],K=H.pmViewDesc;if(H.nodeName=="BR"&&!K){s=R;break}if(!K||K.size)break}let x=t.state.doc,C=t.someProp("domParser")||Of.fromSchema(t.state.schema),T=x.resolve(l),E=null,k=C.parse(r,{topNode:T.parent,topMatch:T.parent.contentMatchAt(T.index()),topOpen:!0,from:i,to:s,preserveWhitespace:T.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:w8,context:T});if(m&&m[0].pos!=null){let R=m[0].pos,H=m[1]&&m[1].pos;H==null&&(H=R),E={anchor:R+l,head:H+l}}return{doc:k,sel:E,from:l,to:f}}function w8(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Oo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Oo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const S8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function C8(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let fe=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Me=gC(t,fe);if(Me&&!t.state.selection.eq(Me)){if(Zi&&Ju&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ve=>Ve(t,Ud(13,"Enter"))))return;let et=t.state.tr.setSelection(Me);fe=="pointer"?et.setMeta("pointer",!0):fe=="key"&&et.scrollIntoView(),s&&et.setMeta("composition",s),t.dispatch(et)}return}let l=t.state.doc.resolve(e),f=l.sharedDepth(n);e=l.before(f+1),n=t.state.doc.resolve(n).after(f+1);let d=t.state.selection,m=x8(t,e,n),y=t.state.doc,x=y.slice(m.from,m.to),C,T;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(C=t.state.selection.to,T="end"):(C=t.state.selection.from,T="start"),t.input.lastKeyCode=null;let E=O8(x.content,m.doc.content,m.from,C,T);if(E&&t.input.domChangeCount++,(um&&t.input.lastIOSEnter>Date.now()-225||Ju)&&i.some(fe=>fe.nodeType==1&&!S8.test(fe.nodeName))&&(!E||E.endA>=E.endB)&&t.someProp("handleKeyDown",fe=>fe(t,Ud(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!E)if(r&&d instanceof Ut&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))E={start:d.from,endA:d.to,endB:d.to};else{if(m.sel){let fe=ZE(t,t.state.doc,m.sel);if(fe&&!fe.eq(t.state.selection)){let Me=t.state.tr.setSelection(fe);s&&Me.setMeta("composition",s),t.dispatch(Me)}}return}t.state.selection.from<t.state.selection.to&&E.start==E.endB&&t.state.selection instanceof Ut&&(E.start>t.state.selection.from&&E.start<=t.state.selection.from+2&&t.state.selection.from>=m.from?E.start=t.state.selection.from:E.endA<t.state.selection.to&&E.endA>=t.state.selection.to-2&&t.state.selection.to<=m.to&&(E.endB+=t.state.selection.to-E.endA,E.endA=t.state.selection.to)),Wo&&Af<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>m.from&&m.doc.textBetween(E.start-m.from-1,E.start-m.from+1)=="  "&&(E.start--,E.endA--,E.endB--);let k=m.doc.resolveNoCache(E.start-m.from),R=m.doc.resolveNoCache(E.endB-m.from),H=y.resolve(E.start),K=k.sameParent(R)&&k.parent.inlineContent&&H.end()>=E.endA,Y;if((um&&t.input.lastIOSEnter>Date.now()-225&&(!K||i.some(fe=>fe.nodeName=="DIV"||fe.nodeName=="P"))||!K&&k.pos<m.doc.content.size&&!k.sameParent(R)&&(Y=Jt.findFrom(m.doc.resolve(k.pos+1),1,!0))&&Y.head==R.pos)&&t.someProp("handleKeyDown",fe=>fe(t,Ud(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>E.start&&T8(y,E.start,E.endA,k,R)&&t.someProp("handleKeyDown",fe=>fe(t,Ud(8,"Backspace")))){Ju&&Zi&&t.domObserver.suppressSelectionUpdates();return}Zi&&E.endB==E.start&&(t.input.lastChromeDelete=Date.now()),Ju&&!K&&k.start()!=R.start()&&R.parentOffset==0&&k.depth==R.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==E.endA&&(E.endB-=2,R=m.doc.resolveNoCache(E.endB-m.from),setTimeout(()=>{t.someProp("handleKeyDown",function(fe){return fe(t,Ud(13,"Enter"))})},20));let U=E.start,G=E.endA,re,de,we;if(K){if(k.pos==R.pos)Wo&&Af<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>nc(t),20)),re=t.state.tr.delete(U,G),de=y.resolve(E.start).marksAcross(y.resolve(E.endA));else if(E.endA==E.endB&&(we=E8(k.parent.content.cut(k.parentOffset,R.parentOffset),H.parent.content.cut(H.parentOffset,E.endA-H.start()))))re=t.state.tr,we.type=="add"?re.addMark(U,G,we.mark):re.removeMark(U,G,we.mark);else if(k.parent.child(k.index()).isText&&k.index()==R.index()-(R.textOffset?0:1)){let fe=k.parent.textBetween(k.parentOffset,R.parentOffset);if(t.someProp("handleTextInput",Me=>Me(t,U,G,fe)))return;re=t.state.tr.insertText(fe,U,G)}}if(re||(re=t.state.tr.replace(U,G,m.doc.slice(E.start-m.from,E.endB-m.from))),m.sel){let fe=ZE(t,re.doc,m.sel);fe&&!(Zi&&t.composing&&fe.empty&&(E.start!=E.endB||t.input.lastChromeDelete<Date.now()-100)&&(fe.head==U||fe.head==re.mapping.map(G)-1)||Wo&&fe.empty&&fe.head==U)&&re.setSelection(fe)}de&&re.ensureMarks(de),s&&re.setMeta("composition",s),t.dispatch(re.scrollIntoView())}function ZE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:yC(t,e.resolve(n.anchor),e.resolve(n.head))}function E8(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,l,f,d;for(let y=0;y<r.length;y++)i=r[y].removeFromSet(i);for(let y=0;y<n.length;y++)s=n[y].removeFromSet(s);if(i.length==1&&s.length==0)f=i[0],l="add",d=y=>y.mark(f.addToSet(y.marks));else if(i.length==0&&s.length==1)f=s[0],l="remove",d=y=>y.mark(f.removeFromSet(y.marks));else return null;let m=[];for(let y=0;y<e.childCount;y++)m.push(d(e.child(y)));if(Fe.from(m).eq(t))return{mark:f,type:l}}function T8(t,e,n,r,i){if(n-e<=i.pos-r.pos||pw(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let f=s.nodeAfter;return f!=null&&n==e+f.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(pw(s,!0,!0));return!l.parent.isTextblock||l.pos>n||pw(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function pw(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function O8(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:f}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,s-Math.min(l,f));r-=l+d-s}if(l<s&&t.size<e.size){let d=r<=s&&r>=l?s-r:0;s-=d,s&&s<e.size&&eT(e.textBetween(s-1,s+1))&&(s+=d?1:-1),f=s+(f-l),l=s}else if(f<s){let d=r<=s&&r>=f?s-r:0;s-=d,s&&s<t.size&&eT(t.textBetween(s-1,s+1))&&(s+=d?1:-1),l=s+(l-f),f=s}return{start:s,endA:l,endB:f}}function eT(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class A8{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(oT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rT(this),nT(this),this.nodeViews=iT(this),this.docView=BE(this.state.doc,tT(this),hw(this),this.dom,this),this.domObserver=new g8(this,(r,i,s,l)=>C8(this,r,i,s,l)),this.domObserver.start(),Y6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gS(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(oT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(_k(this),l=!0),this.state=e;let f=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(f||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let T=iT(this);M8(T,this.nodeViews)&&(this.nodeViews=T,s=!0)}(f||n.handleDOMEvents!=this._props.handleDOMEvents)&&gS(this),this.editable=rT(this),nT(this);let d=hw(this),m=tT(this),y=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",x=s||!this.docView.matchesNode(e.doc,m,d);(x||!e.selection.eq(i.selection))&&(l=!0);let C=y=="preserve"&&l&&this.dom.style.overflowAnchor==null&&a6(this);if(l){this.domObserver.stop();let T=x&&(Wo||Zi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&k8(i.selection,e.selection);if(x){let E=Zi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=s8(this)),(s||!this.docView.update(e.doc,m,d,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=BE(e.doc,m,d,this.dom,this)),E&&!this.trackWrites&&(T=!0)}T||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&R6(this))?nc(this,T):(xk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():C&&l6(C)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Dt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&ME(this,n.getBoundingClientRect(),e)}else ME(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Lk(e.slice,e.move,i<0?void 0:Dt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let f=this.directPlugins[l].props[e];if(f!=null&&(i=n?n(f):f))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let f=s[l].props[e];if(f!=null&&(i=n?n(f):f))return i}}hasFocus(){if(Wo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&u6(this.dom),nc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return p6(this,e)}coordsAtPos(e,n=1){return dk(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return b6(this,n||this.state,e)}pasteHTML(e,n){return Gy(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Gy(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return vC(this,e)}destroy(){this.docView&&(G6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Q5())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Q6(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Oo&&this.root.nodeType===11&&t6(this.dom.ownerDocument)==this.dom&&v8(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function tT(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ks.node(0,t.state.doc.content.size,e)]}function nT(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ks.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function k8(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function iT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function M8(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function oT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Rf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D8=typeof navigator<"u"&&/Mac/.test(navigator.platform),R8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hi=0;Hi<10;Hi++)Rf[48+Hi]=Rf[96+Hi]=String(Hi);for(var Hi=1;Hi<=24;Hi++)Rf[Hi+111]="F"+Hi;for(var Hi=65;Hi<=90;Hi++)Rf[Hi]=String.fromCharCode(Hi+32),tb[Hi]=String.fromCharCode(Hi);for(var mw in Rf)tb.hasOwnProperty(mw)||(tb[mw]=Rf[mw]);function _8(t){var e=D8&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||R8&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tb:Rf)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const N8=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function L8(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,l;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))N8?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function B8(t){let e=Object.create(null);for(let n in t)e[L8(n)]=t[n];return e}function gw(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function I8(t){return new Fi({props:{handleKeyDown:Pk(t)}})}function Pk(t){let e=B8(t);return function(n,r){let i=_8(r),s,l=e[gw(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let f=e[gw(i,r,!1)];if(f&&f(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Rf[r.keyCode])&&s!=i){let f=e[gw(s,r)];if(f&&f(n.state,n.dispatch,n))return!0}}return!1}}const EC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Fk(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const qk=(t,e,n)=>{let r=Fk(t,n);if(!r)return!1;let i=TC(r);if(!i){let l=r.blockRange(),f=l&&Tm(l);return f==null?!1:(e&&e(t.tr.lift(l,f).scrollIntoView()),!0)}let s=i.nodeBefore;if(Qk(t,i,e,-1))return!0;if(r.parent.content.size==0&&(cm(s,"end")||Dt.isSelectable(s)))for(let l=r.depth;;l--){let f=Sb(t.doc,r.before(l),r.after(l),ct.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=t.tr.step(f);d.setSelection(cm(s,"end")?Jt.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Dt.create(d.doc,i.pos-s.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},z8=(t,e,n)=>{let r=Fk(t,n);if(!r)return!1;let i=TC(r);return i?Uk(t,i,e):!1},H8=(t,e,n)=>{let r=jk(t,n);if(!r)return!1;let i=OC(r);return i?Uk(t,i,e):!1};function Uk(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let y=i.lastChild;if(!y)return!1;i=y}let l=e.nodeAfter,f=l,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let y=f.firstChild;if(!y)return!1;f=y}let m=Sb(t.doc,s,d,ct.empty);if(!m||m.from!=s||m instanceof wi&&m.slice.size>=d-s)return!1;if(n){let y=t.tr.step(m);y.setSelection(Ut.create(y.doc,s)),n(y.scrollIntoView())}return!0}function cm(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Vk=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=TC(r)}let l=s&&s.nodeBefore;return!l||!Dt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Dt.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function TC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function jk(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Kk=(t,e,n)=>{let r=jk(t,n);if(!r)return!1;let i=OC(r);if(!i)return!1;let s=i.nodeAfter;if(Qk(t,i,e,1))return!0;if(r.parent.content.size==0&&(cm(s,"start")||Dt.isSelectable(s))){let l=Sb(t.doc,r.before(),r.after(),ct.empty);if(l&&l.slice.size<l.to-l.from){if(e){let f=t.tr.step(l);f.setSelection(cm(s,"start")?Jt.findFrom(f.doc.resolve(f.mapping.map(i.pos)),1):Dt.create(f.doc,f.mapping.map(i.pos))),e(f.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},$k=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=OC(r)}let l=s&&s.nodeAfter;return!l||!Dt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Dt.create(t.doc,s.pos)).scrollIntoView()),!0)};function OC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const P8=(t,e)=>{let n=t.selection,r=n instanceof Dt,i;if(r){if(n.node.isTextblock||!_f(t.doc,n.from))return!1;i=n.from}else if(i=wb(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Dt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},F8=(t,e)=>{let n=t.selection,r;if(n instanceof Dt){if(n.node.isTextblock||!_f(t.doc,n.to))return!1;r=n.to}else if(r=wb(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},q8=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Tm(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Yk=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function AC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const U8=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),l=AC(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let f=n.after(),d=t.tr.replaceWith(f,f,l.createAndFill());d.setSelection(Jt.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},Gk=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Ds||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=AC(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,f=t.tr.insert(l,s.createAndFill());f.setSelection(Ut.create(f.doc,l+1)),e(f.scrollIntoView())}return!0},Wk=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(tc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Tm(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function V8(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Dt&&e.selection.node.isBlock)return!r.parentOffset||!tc(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,f,d=!1,m=!1;for(let T=r.depth;;T--)if(r.node(T).isBlock){d=r.end(T)==r.pos+(r.depth-T),m=r.start(T)==r.pos-(r.depth-T),f=AC(r.node(T-1).contentMatchAt(r.indexAfter(T-1))),s.unshift(d&&f?{type:f}:null),l=T;break}else{if(T==1)return!1;s.unshift(null)}let y=e.tr;(e.selection instanceof Ut||e.selection instanceof Ds)&&y.deleteSelection();let x=y.mapping.map(r.pos),C=tc(y.doc,x,s.length,s);if(C||(s[0]=f?{type:f}:null,C=tc(y.doc,x,s.length,s)),y.split(x,s.length,s),!d&&m&&r.node(l).type!=f){let T=y.mapping.map(r.before(l)),E=y.doc.resolve(T);f&&r.node(l-1).canReplaceWith(E.index(),E.index()+1,f)&&y.setNodeMarkup(y.mapping.map(r.before(l)),f)}return n&&n(y.scrollIntoView()),!0}}const j8=V8(),K8=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Dt.create(t.doc,i))),!0)};function $8(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||_f(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Qk(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,l,f,d=i.type.spec.isolating||s.type.spec.isolating;if(!d&&$8(t,e,n))return!0;let m=!d&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(l=(f=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&f.matchType(l[0]||s.type).validEnd){if(n){let T=e.pos+s.nodeSize,E=Fe.empty;for(let H=l.length-1;H>=0;H--)E=Fe.from(l[H].create(null,E));E=Fe.from(i.copy(E));let k=t.tr.step(new Si(e.pos-1,T,e.pos,T,new ct(E,1,0),l.length,!0)),R=k.doc.resolve(T+2*l.length);R.nodeAfter&&R.nodeAfter.type==i.type&&_f(k.doc,R.pos)&&k.join(R.pos),n(k.scrollIntoView())}return!0}let y=s.type.spec.isolating||r>0&&d?null:Jt.findFrom(e,1),x=y&&y.$from.blockRange(y.$to),C=x&&Tm(x);if(C!=null&&C>=e.depth)return n&&n(t.tr.lift(x,C).scrollIntoView()),!0;if(m&&cm(s,"start",!0)&&cm(i,"end")){let T=i,E=[];for(;E.push(T),!T.isTextblock;)T=T.lastChild;let k=s,R=1;for(;!k.isTextblock;k=k.firstChild)R++;if(T.canReplace(T.childCount,T.childCount,k.content)){if(n){let H=Fe.empty;for(let Y=E.length-1;Y>=0;Y--)H=Fe.from(E[Y].copy(H));let K=t.tr.step(new Si(e.pos-E.length,e.pos+s.nodeSize,e.pos+R,e.pos+s.nodeSize-R,new ct(H,E.length,0),0,!0));n(K.scrollIntoView())}return!0}}return!1}function Xk(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ut.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Y8=Xk(-1),G8=Xk(1);function W8(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),f=l&&hC(l,t,e);return f?(r&&r(n.tr.wrap(l,f).scrollIntoView()),!0):!1}}function sT(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:f}}=n.selection.ranges[s];n.doc.nodesBetween(l,f,(d,m)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let y=n.doc.resolve(m),x=y.index();i=y.parent.canReplaceWith(x,x+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:f},$to:{pos:d}}=n.selection.ranges[l];s.setBlockType(f,d,t,e)}r(s.scrollIntoView())}return!0}}function kC(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}kC(EC,qk,Vk);kC(EC,Kk,$k);kC(Yk,Gk,Wk,j8);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Q8(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s);if(!l)return!1;let f=r?n.tr:null;return X8(f,l,t,e)?(r&&r(f.scrollIntoView()),!0):!1}}function X8(t,e,n,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);s=new G1(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new G1(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let f=hC(s,n,r,e);return f?(t&&J8(t,e,f,i,n),!0):!1}function J8(t,e,n,r,i){let s=Fe.empty;for(let y=n.length-1;y>=0;y--)s=Fe.from(n[y].type.create(n[y].attrs,s));t.step(new Si(e.start-(r?2:0),e.end,e.start,e.end,new ct(s,0,0),n.length,!0));let l=0;for(let y=0;y<n.length;y++)n[y].type==i&&(l=y+1);let f=n.length-l,d=e.start+n.length-(r?2:0),m=e.parent;for(let y=e.startIndex,x=e.endIndex,C=!0;y<x;y++,C=!1)!C&&tc(t.doc,d,f)&&(t.split(d,f),d+=2*f),d+=m.child(y).nodeSize;return t}function Z8(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?e7(e,n,t,s):t7(e,n,s):!0:!1}}function e7(t,e,n,r){let i=t.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new Si(s-1,l,s,l,new ct(Fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new G1(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const f=Tm(r);if(f==null)return!1;i.lift(r,f);let d=i.doc.resolve(i.mapping.map(s,-1)-1);return _f(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function t7(t,e,n){let r=t.tr,i=n.parent;for(let T=n.end,E=n.endIndex-1,k=n.startIndex;E>k;E--)T-=i.child(E).nodeSize,r.delete(T-1,T+1);let s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let f=n.startIndex==0,d=n.endIndex==i.childCount,m=s.node(-1),y=s.index(-1);if(!m.canReplace(y+(f?0:1),y+1,l.content.append(d?Fe.empty:Fe.from(i))))return!1;let x=s.pos,C=x+l.nodeSize;return r.step(new Si(x-(f?1:0),C+(d?1:0),x+1,C-1,new ct((f?Fe.empty:Fe.from(i.copy(Fe.empty))).append(d?Fe.empty:Fe.from(i.copy(Fe.empty))),f?0:1,d?0:1),f?0:1)),e(r.scrollIntoView()),!0}function n7(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,m=>m.childCount>0&&m.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let f=s.parent,d=f.child(l-1);if(d.type!=t)return!1;if(n){let m=d.lastChild&&d.lastChild.type==f.type,y=Fe.from(m?t.create():null),x=new ct(Fe.from(t.create(null,Fe.from(f.type.create(null,y)))),m?3:1,0),C=s.start,T=s.end;n(e.tr.step(new Si(C-(m?3:1),T,C,T,x,1,!0)).scrollIntoView())}return!0}}function Ab(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class kb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,l=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...y)=>{const x=d(...y)(l);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),x}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:l}=i,f=[],d=!!e,m=e||s.tr,y=()=>(!d&&n&&!m.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(m),f.every(C=>C===!0)),x={...Object.fromEntries(Object.entries(r).map(([C,T])=>[C,(...k)=>{const R=this.buildProps(m,n),H=T(...k)(R);return f.push(H),x}])),run:y};return x}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,l=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([d,m])=>[d,(...y)=>m(...y)({...l,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:l}=i,f={tr:e,editor:i,view:l,state:Ab({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,m])=>[d,(...y)=>m(...y)(f)]))}};return f}}class r7{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function pt(t,e,n){return t.config[e]===void 0&&t.parent?pt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?pt(t.parent,e,n):null}):t.config[e]}function Mb(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Jk(t){const e=[],{nodeExtensions:n,markExtensions:r}=Mb(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const f={name:l.name,options:l.options,storage:l.storage,extensions:i},d=pt(l,"addGlobalAttributes",f);if(!d)return;d().forEach(y=>{y.types.forEach(x=>{Object.entries(y.attributes).forEach(([C,T])=>{e.push({type:x,name:C,attribute:{...s,...T}})})})})}),i.forEach(l=>{const f={name:l.name,options:l.options,storage:l.storage},d=pt(l,"addAttributes",f);if(!d)return;const m=d();Object.entries(m).forEach(([y,x])=>{const C={...s,...x};typeof(C==null?void 0:C.default)=="function"&&(C.default=C.default()),C!=null&&C.isRequired&&(C==null?void 0:C.default)===void 0&&delete C.default,e.push({type:l.name,name:y,attribute:C})})}),e}function Ei(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function to(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const f=s?String(s).split(" "):[],d=r[i]?r[i].split(" "):[],m=f.filter(y=>!d.includes(y));r[i]=[...d,...m].join(" ")}else if(i==="style"){const f=s?s.split(";").map(y=>y.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(y=>y.trim()).filter(Boolean):[],m=new Map;d.forEach(y=>{const[x,C]=y.split(":").map(T=>T.trim());m.set(x,C)}),f.forEach(y=>{const[x,C]=y.split(":").map(T=>T.trim());m.set(x,C)}),r[i]=Array.from(m.entries()).map(([y,x])=>`${y}: ${x}`).join("; ")}else r[i]=s}),r},{})}function yS(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>to(n,r),{})}function Zk(t){return typeof t=="function"}function on(t,e=void 0,...n){return Zk(t)?e?t.bind(e)(...n):t(...n):t}function i7(t={}){return Object.keys(t).length===0&&t.constructor===Object}function o7(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function aT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const f=l.attribute.parseHTML?l.attribute.parseHTML(n):o7(n.getAttribute(l.name));return f==null?s:{...s,[l.name]:f}},{});return{...r,...i}}}}function lT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&i7(n)?!1:n!=null))}function s7(t,e){var n;const r=Jk(t),{nodeExtensions:i,markExtensions:s}=Mb(t),l=(n=i.find(m=>pt(m,"topNode")))===null||n===void 0?void 0:n.name,f=Object.fromEntries(i.map(m=>{const y=r.filter(H=>H.type===m.name),x={name:m.name,options:m.options,storage:m.storage,editor:e},C=t.reduce((H,K)=>{const Y=pt(K,"extendNodeSchema",x);return{...H,...Y?Y(m):{}}},{}),T=lT({...C,content:on(pt(m,"content",x)),marks:on(pt(m,"marks",x)),group:on(pt(m,"group",x)),inline:on(pt(m,"inline",x)),atom:on(pt(m,"atom",x)),selectable:on(pt(m,"selectable",x)),draggable:on(pt(m,"draggable",x)),code:on(pt(m,"code",x)),whitespace:on(pt(m,"whitespace",x)),linebreakReplacement:on(pt(m,"linebreakReplacement",x)),defining:on(pt(m,"defining",x)),isolating:on(pt(m,"isolating",x)),attrs:Object.fromEntries(y.map(H=>{var K;return[H.name,{default:(K=H==null?void 0:H.attribute)===null||K===void 0?void 0:K.default}]}))}),E=on(pt(m,"parseHTML",x));E&&(T.parseDOM=E.map(H=>aT(H,y)));const k=pt(m,"renderHTML",x);k&&(T.toDOM=H=>k({node:H,HTMLAttributes:yS(H,y)}));const R=pt(m,"renderText",x);return R&&(T.toText=R),[m.name,T]})),d=Object.fromEntries(s.map(m=>{const y=r.filter(R=>R.type===m.name),x={name:m.name,options:m.options,storage:m.storage,editor:e},C=t.reduce((R,H)=>{const K=pt(H,"extendMarkSchema",x);return{...R,...K?K(m):{}}},{}),T=lT({...C,inclusive:on(pt(m,"inclusive",x)),excludes:on(pt(m,"excludes",x)),group:on(pt(m,"group",x)),spanning:on(pt(m,"spanning",x)),code:on(pt(m,"code",x)),attrs:Object.fromEntries(y.map(R=>{var H;return[R.name,{default:(H=R==null?void 0:R.attribute)===null||H===void 0?void 0:H.default}]}))}),E=on(pt(m,"parseHTML",x));E&&(T.parseDOM=E.map(R=>aT(R,y)));const k=pt(m,"renderHTML",x);return k&&(T.toDOM=R=>k({mark:R,HTMLAttributes:yS(R,y)})),[m.name,T]}));return new UA({topNode:l,nodes:f,marks:d})}function yw(t,e){return e.nodes[t]||e.marks[t]||null}function uT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function MC(t,e){const n=Th.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const a7=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,f)=>{var d,m;const y=((m=(d=i.type.spec).toText)===null||m===void 0?void 0:m.call(d,{node:i,pos:s,parent:l,index:f}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?y:y.slice(0,Math.max(0,r-s))}),n};function DC(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Db{constructor(e){this.find=e.find,this.handler=e.handler}}const l7=(t,e)=>{if(DC(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function s1(t){var e;const{editor:n,from:r,to:i,text:s,rules:l,plugin:f}=t,{view:d}=n;if(d.composing)return!1;const m=d.state.doc.resolve(r);if(m.parent.type.spec.code||!((e=m.nodeBefore||m.nodeAfter)===null||e===void 0)&&e.marks.find(C=>C.type.spec.code))return!1;let y=!1;const x=a7(m)+s;return l.forEach(C=>{if(y)return;const T=l7(x,C.find);if(!T)return;const E=d.state.tr,k=Ab({state:d.state,transaction:E}),R={from:r-(T[0].length-s.length),to:i},{commands:H,chain:K,can:Y}=new kb({editor:n,state:k});C.handler({state:k,range:R,match:T,commands:H,chain:K,can:Y})===null||!E.steps.length||(E.setMeta(f,{transform:E,from:r,to:i,text:s}),d.dispatch(E),y=!0)}),y}function u7(t){const{editor:e,rules:n}=t,r=new Fi({state:{init(){return null},apply(i,s,l){const f=i.getMeta(r);if(f)return f;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:y}=d;typeof y=="string"?y=y:y=MC(Fe.from(y),l.schema);const{from:x}=d,C=x+y.length;s1({editor:e,from:x,to:C,text:y,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,f){return s1({editor:e,from:s,to:l,text:f,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&s1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?s1({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function c7(t){return Object.prototype.toString.call(t).slice(8,-1)}function a1(t){return c7(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Rb(t,e){const n={...t};return a1(t)&&a1(e)&&Object.keys(e).forEach(r=>{a1(e[r])&&a1(t[r])?n[r]=Rb(t[r],e[r]):n[r]=e[r]}),n}class oc{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(pt(this,"addOptions",{name:this.name}))),this.storage=on(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new oc(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Rb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new oc(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(pt(n,"addOptions",{name:n.name})),n.storage=on(pt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(m=>(m==null?void 0:m.type.name)===n.name))return!1;const d=l.find(m=>(m==null?void 0:m.type.name)===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function f7(t){return typeof t=="number"}class d7{constructor(e){this.find=e.find,this.handler=e.handler}}const h7=(t,e,n)=>{if(DC(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function p7(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:l,dropEvent:f}=t,{commands:d,chain:m,can:y}=new kb({editor:e,state:n}),x=[];return n.doc.nodesBetween(r,i,(T,E)=>{if(!T.isTextblock||T.type.spec.code)return;const k=Math.max(r,E),R=Math.min(i,E+T.content.size),H=T.textBetween(k-E,R-E,void 0,"￼");h7(H,s.find,l).forEach(Y=>{if(Y.index===void 0)return;const U=k+Y.index+1,G=U+Y[0].length,re={from:n.tr.mapping.map(U),to:n.tr.mapping.map(G)},de=s.handler({state:n,range:re,match:Y,commands:d,chain:m,can:y,pasteEvent:l,dropEvent:f});x.push(de)})}),x.every(T=>T!==null)}let l1=null;const m7=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function g7(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:y,from:x,to:C,rule:T,pasteEvt:E})=>{const k=y.tr,R=Ab({state:y,transaction:k});if(!(!p7({editor:e,state:R,from:Math.max(x-1,0),to:C.b-1,rule:T,pasteEvent:E,dropEvent:f})||!k.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(y=>new Fi({view(x){const C=E=>{var k;r=!((k=x.dom.parentElement)===null||k===void 0)&&k.contains(E.target)?x.dom.parentElement:null,r&&(l1=e)},T=()=>{l1&&(l1=null)};return window.addEventListener("dragstart",C),window.addEventListener("dragend",T),{destroy(){window.removeEventListener("dragstart",C),window.removeEventListener("dragend",T)}}},props:{handleDOMEvents:{drop:(x,C)=>{if(s=r===x.dom.parentElement,f=C,!s){const T=l1;T&&setTimeout(()=>{const E=T.state.selection;E&&T.commands.deleteRange({from:E.from,to:E.to})},10)}return!1},paste:(x,C)=>{var T;const E=(T=C.clipboardData)===null||T===void 0?void 0:T.getData("text/html");return l=C,i=!!(E!=null&&E.includes("data-pm-slice")),!1}}},appendTransaction:(x,C,T)=>{const E=x[0],k=E.getMeta("uiEvent")==="paste"&&!i,R=E.getMeta("uiEvent")==="drop"&&!s,H=E.getMeta("applyPasteRules"),K=!!H;if(!k&&!R&&!K)return;if(K){let{text:G}=H;typeof G=="string"?G=G:G=MC(Fe.from(G),T.schema);const{from:re}=H,de=re+G.length,we=m7(G);return d({rule:y,state:T,from:re,to:{b:de},pasteEvt:we})}const Y=C.doc.content.findDiffStart(T.doc.content),U=C.doc.content.findDiffEnd(T.doc.content);if(!(!f7(Y)||!U||Y===U.b))return d({rule:y,state:T,from:Y,to:U,pasteEvt:l})}}))}function y7(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Fp{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Fp.resolve(e),this.schema=s7(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Fp.sort(Fp.flatten(e)),r=y7(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=pt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=pt(r,"priority")||100,l=pt(i,"priority")||100;return s>l?-1:s<l?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:yw(n.name,this.schema)},i=pt(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Fp.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(l=>{const f={name:l.name,options:l.options,storage:l.storage,editor:e,type:yw(l.name,this.schema)},d=[],m=pt(l,"addKeyboardShortcuts",f);let y={};if(l.type==="mark"&&pt(l,"exitable",f)&&(y.ArrowRight=()=>oc.handleExit({editor:e,mark:l})),m){const k=Object.fromEntries(Object.entries(m()).map(([R,H])=>[R,()=>H({editor:e})]));y={...y,...k}}const x=I8(y);d.push(x);const C=pt(l,"addInputRules",f);uT(l,e.options.enableInputRules)&&C&&r.push(...C());const T=pt(l,"addPasteRules",f);uT(l,e.options.enablePasteRules)&&T&&i.push(...T());const E=pt(l,"addProseMirrorPlugins",f);if(E){const k=E();d.push(...k)}return d}).flat();return[u7({editor:e,rules:r}),...g7({editor:e,rules:i}),...s]}get attributes(){return Jk(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Mb(this.extensions);return Object.fromEntries(n.filter(r=>!!pt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(d=>d.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ei(r.name,this.schema)},l=pt(r,"addNodeView",s);if(!l)return[];const f=(d,m,y,x,C)=>{const T=yS(d,i);return l()({node:d,view:m,getPos:y,decorations:x,innerDecorations:C,editor:e,extension:r,HTMLAttributes:T})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:yw(e.name,this.schema)};e.type==="mark"&&(!((n=on(pt(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=pt(e,"onBeforeCreate",r),s=pt(e,"onCreate",r),l=pt(e,"onUpdate",r),f=pt(e,"onSelectionUpdate",r),d=pt(e,"onTransaction",r),m=pt(e,"onFocus",r),y=pt(e,"onBlur",r),x=pt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),m&&this.editor.on("focus",m),y&&this.editor.on("blur",y),x&&this.editor.on("destroy",x)})}}class si{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(pt(this,"addOptions",{name:this.name}))),this.storage=on(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new si(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Rb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new si({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(pt(n,"addOptions",{name:n.name})),n.storage=on(pt(n,"addStorage",{name:n.name,options:n.options})),n}}function eM(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let f="";return t.nodesBetween(r,i,(d,m,y,x)=>{var C;d.isBlock&&m>r&&(f+=s);const T=l==null?void 0:l[d.type.name];if(T)return y&&(f+=T({node:d,pos:m,parent:y,index:x,range:e})),!1;d.isText&&(f+=(C=d==null?void 0:d.text)===null||C===void 0?void 0:C.slice(Math.max(r,m)-m,i-m))}),f}function RC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const v7=si.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Fi({key:new _s("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(y=>y.$from.pos)),f=Math.max(...s.map(y=>y.$to.pos)),d=RC(n);return eM(r,{from:l,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),b7=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),x7=(t=!1)=>({commands:e})=>e.setContent("",t),w7=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(f,d)=>{if(f.type.isText)return;const{doc:m,mapping:y}=e,x=m.resolve(y.map(d)),C=m.resolve(y.map(d+f.nodeSize)),T=x.blockRange(C);if(!T)return;const E=Tm(T);if(f.type.isTextblock){const{defaultType:k}=x.parent.contentMatchAt(x.index());e.setNodeMarkup(T.start,k)}(E||E===0)&&e.lift(T,E)})}),!0},S7=t=>e=>t(e),C7=()=>({state:t,dispatch:e})=>Gk(t,e),E7=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new Ut(r.doc.resolve(l-1))),!0},T7=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const f=i.before(s),d=i.after(s);t.delete(f,d).scrollIntoView()}return!0}return!1},O7=t=>({tr:e,state:n,dispatch:r})=>{const i=Ei(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const d=s.before(l),m=s.after(l);e.delete(d,m).scrollIntoView()}return!0}return!1},A7=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},k7=()=>({state:t,dispatch:e})=>EC(t,e),M7=()=>({commands:t})=>t.keyboardShortcut("Enter"),D7=()=>({state:t,dispatch:e})=>U8(t,e);function nb(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:DC(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function tM(t,e,n={}){return t.find(r=>r.type===e&&nb(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function cT(t,e,n={}){return!!tM(t,e,n)}function _C(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(y=>y.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(y=>y.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!tM([...i.node.marks],e,n)))return;let l=i.index,f=t.start()+i.offset,d=l+1,m=f+i.node.nodeSize;for(;l>0&&cT([...t.parent.child(l-1).marks],e,n);)l-=1,f-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&cT([...t.parent.child(d).marks],e,n);)m+=t.parent.child(d).nodeSize,d+=1;return{from:f,to:m}}function Lf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const R7=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Lf(t,r.schema),{doc:l,selection:f}=n,{$from:d,from:m,to:y}=f;if(i){const x=_C(d,s,e);if(x&&x.from<=m&&x.to>=y){const C=Ut.create(l,x.from,x.to);n.setSelection(C)}}return!0},_7=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function NC(t){return t instanceof Ut}function Zu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function nM(t,e=null){if(!e)return null;const n=Jt.atStart(t),r=Jt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ut.create(t,Zu(0,i,s),Zu(t.content.size,i,s)):Ut.create(t,Zu(e,i,s),Zu(e,i,s))}function N7(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function LC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const L7=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(LC()||N7())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!NC(n.state.selection))return l(),!0;const f=nM(i.doc,t)||n.state.selection,d=n.state.selection.eq(f);return s&&(d||i.setSelection(f),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},B7=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),I7=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),rM=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&rM(r)}return t};function u1(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return rM(n)}function rb(t,e,n){if(t instanceof Tf||t instanceof Fe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Fe.fromArray(t.map(f=>e.nodeFromJSON(f)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),rb("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,f="";const d=new UA({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(l=!0,f=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?Of.fromSchema(d).parseSlice(u1(t),n.parseOptions):Of.fromSchema(d).parse(u1(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const s=Of.fromSchema(e);return n.slice?s.parseSlice(u1(t),n.parseOptions).content:s.parse(u1(t),n.parseOptions)}return rb("",e,n)}function z7(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof wi||i instanceof Si))return;const s=t.mapping.maps[r];let l=0;s.forEach((f,d,m,y)=>{l===0&&(l=y)}),t.setSelection(Jt.near(t.doc.resolve(l),n))}const H7=t=>!("type"in t),P7=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let f;try{f=rb(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck})}catch(E){return s.emit("contentError",{editor:s,error:E,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((H7(f)?f:[f]).forEach(E=>{E.check(),y=y?E.isText&&E.marks.length===0:!1,x=x?E.isBlock:!1}),d===m&&x){const{parent:E}=r.doc.resolve(d);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(d-=1,m+=1)}let T;if(y){if(Array.isArray(e))T=e.map(E=>E.text||"").join("");else if(e instanceof Fe){let E="";e.forEach(k=>{k.text&&(E+=k.text)}),T=E}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,d,m)}else T=f,r.replaceWith(d,m,T);n.updateSelection&&z7(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:T}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:T})}return!0},F7=()=>({state:t,dispatch:e})=>P8(t,e),q7=()=>({state:t,dispatch:e})=>F8(t,e),U7=()=>({state:t,dispatch:e})=>qk(t,e),V7=()=>({state:t,dispatch:e})=>Kk(t,e),j7=()=>({state:t,dispatch:e,tr:n})=>{try{const r=wb(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},K7=()=>({state:t,dispatch:e,tr:n})=>{try{const r=wb(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},$7=()=>({state:t,dispatch:e})=>z8(t,e),Y7=()=>({state:t,dispatch:e})=>H8(t,e);function iM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function G7(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,l;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))LC()||iM()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const W7=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=G7(t).split(/-(?!$)/),l=s.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),f=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,f))});return d==null||d.steps.forEach(m=>{const y=m.map(r.mapping);y&&i&&r.maybeStep(y)}),!0};function Qy(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,l=e?Ei(e,t.schema):null,f=[];t.doc.nodesBetween(r,i,(x,C)=>{if(x.isText)return;const T=Math.max(r,C),E=Math.min(i,C+x.nodeSize);f.push({node:x,from:T,to:E})});const d=i-r,m=f.filter(x=>l?l.name===x.node.type.name:!0).filter(x=>nb(x.node.attrs,n,{strict:!1}));return s?!!m.length:m.reduce((x,C)=>x+C.to-C.from,0)>=d}const Q7=(t,e={})=>({state:n,dispatch:r})=>{const i=Ei(t,n.schema);return Qy(n,i,e)?q8(n,r):!1},X7=()=>({state:t,dispatch:e})=>Wk(t,e),J7=t=>({state:e,dispatch:n})=>{const r=Ei(t,e.schema);return Z8(r)(e,n)},Z7=()=>({state:t,dispatch:e})=>Yk(t,e);function _b(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function fT(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const eN=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const f=_b(typeof t=="string"?t:t.name,r.schema);return f?(f==="node"&&(s=Ei(t,r.schema)),f==="mark"&&(l=Lf(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(m,y)=>{s&&s===m.type&&n.setNodeMarkup(y,void 0,fT(m.attrs,e)),l&&m.marks.length&&m.marks.forEach(x=>{l===x.type&&n.addMark(y,y+m.nodeSize,l.create(fT(x.attrs,e)))})})}),!0):!1},tN=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),nN=()=>({tr:t,dispatch:e})=>{if(e){const n=new Ds(t.doc);t.setSelection(n)}return!0},rN=()=>({state:t,dispatch:e})=>Vk(t,e),iN=()=>({state:t,dispatch:e})=>$k(t,e),oN=()=>({state:t,dispatch:e})=>K8(t,e),sN=()=>({state:t,dispatch:e})=>G8(t,e),aN=()=>({state:t,dispatch:e})=>Y8(t,e);function vS(t,e,n={},r={}){return rb(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const lN=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:l,commands:f})=>{var d,m;const{doc:y}=s;if(n.preserveWhitespace!=="full"){const x=vS(t,i.schema,n,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck});return l&&s.replaceWith(0,y.content.size,x).setMeta("preventUpdate",!e),!0}return l&&s.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:y.content.size},t,{parseOptions:n,errorOnInvalidContent:(m=r.errorOnInvalidContent)!==null&&m!==void 0?m:i.options.enableContentCheck})};function oM(t,e){const n=Lf(e,t.schema),{from:r,to:i,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const f=l.find(d=>d.type.name===n.name);return f?{...f.attrs}:{}}function uN(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function cN(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function BC(t){return e=>cN(e.$from,t)}function sM(t,e){const n={from:0,to:t.content.size};return eM(t,n,e)}function fN(t,e){const n=Ei(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,f=>{s.push(f)});const l=s.reverse().find(f=>f.type.name===n.name);return l?{...l.attrs}:{}}function dN(t,e){const n=_b(typeof e=="string"?e:e.name,t.schema);return n==="node"?fN(t,e):n==="mark"?oM(t,e):{}}function aM(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),l=_C(s,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}function M1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function bS(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Lf(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(x=>s?s.name===x.type.name:!0).find(x=>nb(x.attrs,n,{strict:!1}));let l=0;const f=[];if(i.forEach(({$from:x,$to:C})=>{const T=x.pos,E=C.pos;t.doc.nodesBetween(T,E,(k,R)=>{if(!k.isText&&!k.marks.length)return;const H=Math.max(T,R),K=Math.min(E,R+k.nodeSize),Y=K-H;l+=Y,f.push(...k.marks.map(U=>({mark:U,from:H,to:K})))})}),l===0)return!1;const d=f.filter(x=>s?s.name===x.mark.type.name:!0).filter(x=>nb(x.mark.attrs,n,{strict:!1})).reduce((x,C)=>x+C.to-C.from,0),m=f.filter(x=>s?x.mark.type!==s&&x.mark.type.excludes(s):!0).reduce((x,C)=>x+C.to-C.from,0);return(d>0?d+m:d)>=l}function hN(t,e,n={}){if(!e)return Qy(t,null,n)||bS(t,null,n);const r=_b(e,t.schema);return r==="node"?Qy(t,e,n):r==="mark"?bS(t,e,n):!1}function dT(t,e){const{nodeExtensions:n}=Mb(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=on(pt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Nb(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Nb(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function lM(t){return t instanceof Dt}function uM(t,e,n){const i=t.state.doc.content.size,s=Zu(e,0,i),l=Zu(n,0,i),f=t.coordsAtPos(s),d=t.coordsAtPos(l,-1),m=Math.min(f.top,d.top),y=Math.max(f.bottom,d.bottom),x=Math.min(f.left,d.left),C=Math.max(f.right,d.right),T=C-x,E=y-m,H={top:m,bottom:y,left:x,right:C,width:T,height:E,x,y:m};return{...H,toJSON:()=>H}}function pN(t,e,n){var r;const{selection:i}=e;let s=null;if(NC(i)&&(s=i.$cursor),s){const f=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(f)||!f.some(d=>d.type.excludes(n))}const{ranges:l}=i;return l.some(({$from:f,$to:d})=>{let m=f.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(f.pos,d.pos,(y,x,C)=>{if(m)return!1;if(y.isInline){const T=!C||C.type.allowsMarkType(n),E=!!n.isInSet(y.marks)||!y.marks.some(k=>k.type.excludes(n));m=T&&E}return!m}),m})}const mN=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:l,ranges:f}=s,d=Lf(t,r.schema);if(i)if(l){const m=oM(r,d);n.addStoredMark(d.create({...m,...e}))}else f.forEach(m=>{const y=m.$from.pos,x=m.$to.pos;r.doc.nodesBetween(y,x,(C,T)=>{const E=Math.max(T,y),k=Math.min(T+C.nodeSize,x);C.marks.find(H=>H.type===d)?C.marks.forEach(H=>{d===H.type&&n.addMark(E,k,d.create({...H.attrs,...e}))}):n.addMark(E,k,d.create(e))})});return pN(r,n,d)},gN=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),yN=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Ei(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:f})=>sT(s,{...l,...e})(n)?!0:f.clearNodes()).command(({state:f})=>sT(s,{...l,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vN=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Zu(t,0,r.content.size),s=Dt.create(r,i);e.setSelection(s)}return!0},bN=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,l=Ut.atStart(r).from,f=Ut.atEnd(r).to,d=Zu(i,l,f),m=Zu(s,l,f),y=Ut.create(r,d,m);e.setSelection(y)}return!0},xN=t=>({state:e,dispatch:n})=>{const r=Ei(t,e.schema);return n7(r)(e,n)};function hT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const wN=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:f,$to:d}=s,m=i.extensionManager.attributes,y=M1(m,f.node().type.name,f.node().attrs);if(s instanceof Dt&&s.node.isBlock)return!f.parentOffset||!tc(l,f.pos)?!1:(r&&(t&&hT(n,i.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const x=d.parentOffset===d.parent.content.size,C=f.depth===0?void 0:uN(f.node(-1).contentMatchAt(f.indexAfter(-1)));let T=x&&C?[{type:C,attrs:y}]:void 0,E=tc(e.doc,e.mapping.map(f.pos),1,T);if(!T&&!E&&tc(e.doc,e.mapping.map(f.pos),1,C?[{type:C}]:void 0)&&(E=!0,T=C?[{type:C,attrs:y}]:void 0),r){if(E&&(s instanceof Ut&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,T),C&&!x&&!f.parentOffset&&f.parent.type!==C)){const k=e.mapping.map(f.before()),R=e.doc.resolve(k);f.node(-1).canReplaceWith(R.index(),R.index()+1,C)&&e.setNodeMarkup(e.mapping.map(f.before()),C)}t&&hT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return E},SN=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var l;const f=Ei(t,r.schema),{$from:d,$to:m}=r.selection,y=r.selection.node;if(y&&y.isBlock||d.depth<2||!d.sameParent(m))return!1;const x=d.node(-1);if(x.type!==f)return!1;const C=s.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let H=Fe.empty;const K=d.index(-1)?1:d.index(-2)?2:3;for(let we=d.depth-K;we>=d.depth-3;we-=1)H=Fe.from(d.node(we).copy(H));const Y=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,U={...M1(C,d.node().type.name,d.node().attrs),...e},G=((l=f.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(U))||void 0;H=H.append(Fe.from(f.createAndFill(null,G)||void 0));const re=d.before(d.depth-(K-1));n.replace(re,d.after(-Y),new ct(H,4-K,0));let de=-1;n.doc.nodesBetween(re,n.doc.content.size,(we,fe)=>{if(de>-1)return!1;we.isTextblock&&we.content.size===0&&(de=fe+1)}),de>-1&&n.setSelection(Ut.near(n.doc.resolve(de))),n.scrollIntoView()}return!0}const T=m.pos===d.end()?x.contentMatchAt(0).defaultType:null,E={...M1(C,x.type.name,x.attrs),...e},k={...M1(C,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,m.pos);const R=T?[{type:f,attrs:E},{type:T,attrs:k}]:[{type:f,attrs:E}];if(!tc(n.doc,d.pos,2))return!1;if(i){const{selection:H,storedMarks:K}=r,{splittableMarks:Y}=s.extensionManager,U=K||H.$to.parentOffset&&H.$from.marks();if(n.split(d.pos,2,R).scrollIntoView(),!U||!i)return!0;const G=U.filter(re=>Y.includes(re.type.name));n.ensureMarks(G)}return!0},vw=(t,e)=>{const n=BC(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&_f(t.doc,n.pos)&&t.join(n.pos),!0},bw=(t,e)=>{const n=BC(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&_f(t.doc,r)&&t.join(r),!0},CN=(t,e,n,r={})=>({editor:i,tr:s,state:l,dispatch:f,chain:d,commands:m,can:y})=>{const{extensions:x,splittableMarks:C}=i.extensionManager,T=Ei(t,l.schema),E=Ei(e,l.schema),{selection:k,storedMarks:R}=l,{$from:H,$to:K}=k,Y=H.blockRange(K),U=R||k.$to.parentOffset&&k.$from.marks();if(!Y)return!1;const G=BC(re=>dT(re.type.name,x))(k);if(Y.depth>=1&&G&&Y.depth-G.depth<=1){if(G.node.type===T)return m.liftListItem(E);if(dT(G.node.type.name,x)&&T.validContent(G.node.content)&&f)return d().command(()=>(s.setNodeMarkup(G.pos,T),!0)).command(()=>vw(s,T)).command(()=>bw(s,T)).run()}return!n||!U||!f?d().command(()=>y().wrapInList(T,r)?!0:m.clearNodes()).wrapInList(T,r).command(()=>vw(s,T)).command(()=>bw(s,T)).run():d().command(()=>{const re=y().wrapInList(T,r),de=U.filter(we=>C.includes(we.type.name));return s.ensureMarks(de),re?!0:m.clearNodes()}).wrapInList(T,r).command(()=>vw(s,T)).command(()=>bw(s,T)).run()},EN=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,l=Lf(t,r.schema);return bS(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},TN=(t,e,n={})=>({state:r,commands:i})=>{const s=Ei(t,r.schema),l=Ei(e,r.schema),f=Qy(r,s,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?i.setNode(l,d):i.setNode(s,{...d,...n})},ON=(t,e={})=>({state:n,commands:r})=>{const i=Ei(t,n.schema);return Qy(n,i,e)?r.lift(i):r.wrapIn(i,e)},AN=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const l=t.tr,f=s.transform;for(let d=f.steps.length-1;d>=0;d-=1)l.step(f.steps[d].invert(f.docs[d]));if(s.text){const d=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,d))}else l.delete(s.from,s.to)}return!0}}return!1},kN=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},MN=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:f}=n,d=Lf(t,r.schema),{$from:m,empty:y,ranges:x}=f;if(!i)return!0;if(y&&l){let{from:C,to:T}=f;const E=(s=m.marks().find(R=>R.type===d))===null||s===void 0?void 0:s.attrs,k=_C(m,d,E);k&&(C=k.from,T=k.to),n.removeMark(C,T,d)}else x.forEach(C=>{n.removeMark(C.$from.pos,C.$to.pos,d)});return n.removeStoredMark(d),!0},DN=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const f=_b(typeof t=="string"?t:t.name,r.schema);return f?(f==="node"&&(s=Ei(t,r.schema)),f==="mark"&&(l=Lf(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const m=d.$from.pos,y=d.$to.pos;let x,C,T,E;n.selection.empty?r.doc.nodesBetween(m,y,(k,R)=>{s&&s===k.type&&(T=Math.max(R,m),E=Math.min(R+k.nodeSize,y),x=R,C=k)}):r.doc.nodesBetween(m,y,(k,R)=>{R<m&&s&&s===k.type&&(T=Math.max(R,m),E=Math.min(R+k.nodeSize,y),x=R,C=k),R>=m&&R<=y&&(s&&s===k.type&&n.setNodeMarkup(R,void 0,{...k.attrs,...e}),l&&k.marks.length&&k.marks.forEach(H=>{if(l===H.type){const K=Math.max(R,m),Y=Math.min(R+k.nodeSize,y);n.addMark(K,Y,l.create({...H.attrs,...e}))}}))}),C&&(x!==void 0&&n.setNodeMarkup(x,void 0,{...C.attrs,...e}),l&&C.marks.length&&C.marks.forEach(k=>{l===k.type&&n.addMark(T,E,l.create({...k.attrs,...e}))}))}),!0):!1},RN=(t,e={})=>({state:n,dispatch:r})=>{const i=Ei(t,n.schema);return W8(i,e)(n,r)},_N=(t,e={})=>({state:n,dispatch:r})=>{const i=Ei(t,n.schema);return Q8(i,e)(n,r)};var NN=Object.freeze({__proto__:null,blur:b7,clearContent:x7,clearNodes:w7,command:S7,createParagraphNear:C7,cut:E7,deleteCurrentNode:T7,deleteNode:O7,deleteRange:A7,deleteSelection:k7,enter:M7,exitCode:D7,extendMarkRange:R7,first:_7,focus:L7,forEach:B7,insertContent:I7,insertContentAt:P7,joinBackward:U7,joinDown:q7,joinForward:V7,joinItemBackward:j7,joinItemForward:K7,joinTextblockBackward:$7,joinTextblockForward:Y7,joinUp:F7,keyboardShortcut:W7,lift:Q7,liftEmptyBlock:X7,liftListItem:J7,newlineInCode:Z7,resetAttributes:eN,scrollIntoView:tN,selectAll:nN,selectNodeBackward:rN,selectNodeForward:iN,selectParentNode:oN,selectTextblockEnd:sN,selectTextblockStart:aN,setContent:lN,setMark:mN,setMeta:gN,setNode:yN,setNodeSelection:vN,setTextSelection:bN,sinkListItem:xN,splitBlock:wN,splitListItem:SN,toggleList:CN,toggleMark:EN,toggleNode:TN,toggleWrap:ON,undoInputRule:AN,unsetAllMarks:kN,unsetMark:MN,updateAttributes:DN,wrapIn:RN,wrapInList:_N});const LN=si.create({name:"commands",addCommands(){return{...NN}}}),BN=si.create({name:"drop",addProseMirrorPlugins(){return[new Fi({key:new _s("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),IN=si.create({name:"editable",addProseMirrorPlugins(){return[new Fi({key:new _s("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zN=si.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Fi({key:new _s("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),HN=si.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:f})=>{const{selection:d,doc:m}=f,{empty:y,$anchor:x}=d,{pos:C,parent:T}=x,E=x.parent.isTextblock&&C>0?f.doc.resolve(C-1):x,k=E.parent.type.spec.isolating,R=x.pos-x.parentOffset,H=k&&E.parent.childCount===1?R===x.pos:Jt.atStart(m).from===C;return!y||!T.type.isTextblock||T.textContent.length||!H||H&&x.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return LC()||iM()?s:i},addProseMirrorPlugins(){return[new Fi({key:new _s("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:f}=e.selection,d=Jt.atStart(e.doc).from,m=Jt.atEnd(e.doc).to;if(s||!(l===d&&f===m)||!Nb(n.doc))return;const C=n.tr,T=Ab({state:n,transaction:C}),{commands:E}=new kb({editor:this.editor,state:T});if(E.clearNodes(),!!C.steps.length)return C}})]}}),PN=si.create({name:"paste",addProseMirrorPlugins(){return[new Fi({key:new _s("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),FN=si.create({name:"tabindex",addProseMirrorPlugins(){return[new Fi({key:new _s("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Vd{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Vd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Vd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Vd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+r+(s?0:1),f=this.resolvedPos.doc.resolve(l);if(!i&&f.depth<=this.depth)return;const d=new Vd(f,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new Vd(f,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,l=Object.keys(n);for(let f=0;f<l.length;f+=1){const d=l[f];if(s[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const qN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function UN(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class VN extends r7{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=UN(qN,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=Zk(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;r=n.filter(f=>!f.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[IN,v7.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),LN,zN,HN,FN,BN,PN].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Fp(i,this)}createCommandManager(){this.commandManager=new kb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=vS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),n=vS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=nM(n,this.options.autofocus);this.view=new A8(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Pp.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(l)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return dN(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return hN(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return MC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return sM(this.state.doc,{blockSeparator:n,textSerializers:{...RC(this.schema),...r}})}get isEmpty(){return Nb(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Vd(n,this)}get $doc(){return this.$pos(0)}}function fm(t){return new Db({find:t.find,handler:({state:e,range:n,match:r})=>{const i=on(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],f=r[0];if(l){const d=f.search(/\S/),m=n.from+f.indexOf(l),y=m+l.length;if(aM(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(k=>k===t.type&&k!==T.mark.type)).filter(T=>T.to>m).length)return null;y<n.to&&s.delete(y,n.to),m>n.from&&s.delete(n.from+d,m);const C=n.from+d+l.length;s.addMark(n.from+d,C,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function jN(t){return new Db({find:t.find,handler:({state:e,range:n,match:r})=>{const i=on(t.getAttributes,void 0,r)||{},{tr:s}=e,l=n.from;let f=n.to;const d=t.type.create(i);if(r[1]){const m=r[0].lastIndexOf(r[1]);let y=l+m;y>f?y=f:f=y+r[1].length;const x=r[0][r[0].length-1];s.insertText(x,l+r[0].length-1),s.replaceWith(y,f,d)}else if(r[0]){const m=t.type.isInline?l:l-1;s.insert(m,t.type.create(i)).delete(s.mapping.map(l),s.mapping.map(f))}s.scrollIntoView()}})}function xS(t){return new Db({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=on(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Xy(t){return new Db({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=on(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),m=d&&hC(d,t.type,s);if(!m)return null;if(l.wrap(d,m),t.keepMarks&&t.editor){const{selection:x,storedMarks:C}=e,{splittableMarks:T}=t.editor.extensionManager,E=C||x.$to.parentOffset&&x.$from.marks();if(E){const k=E.filter(R=>T.includes(R.type.name));l.ensureMarks(k)}}if(t.keepAttributes){const x=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(x,s).run()}const y=l.doc.resolve(n.from-1).nodeBefore;y&&y.type===t.type&&_f(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,y))&&l.join(n.from-1)}})}class Zo{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(pt(this,"addOptions",{name:this.name}))),this.storage=on(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Zo(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Rb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Zo(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(pt(n,"addOptions",{name:n.name})),n.storage=on(pt(n,"addStorage",{name:n.name,options:n.options})),n}}function dm(t){return new d7({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=on(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,f=r[r.length-1],d=r[0];let m=n.to;if(f){const y=d.search(/\S/),x=n.from+d.indexOf(f),C=x+f.length;if(aM(n.from,n.to,e.doc).filter(E=>E.mark.type.excluded.find(R=>R===t.type&&R!==E.mark.type)).filter(E=>E.to>x).length)return null;C<n.to&&l.delete(C,n.to),x>n.from&&l.delete(n.from+y,x),m=n.from+y+f.length,l.addMark(n.from+y,m,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var Qo="top",la="bottom",ua="right",Xo="left",IC="auto",x0=[Qo,la,ua,Xo],hm="start",Jy="end",KN="clippingParents",cM="viewport",vy="popper",$N="reference",pT=x0.reduce(function(t,e){return t.concat([e+"-"+hm,e+"-"+Jy])},[]),fM=[].concat(x0,[IC]).reduce(function(t,e){return t.concat([e,e+"-"+hm,e+"-"+Jy])},[]),YN="beforeRead",GN="read",WN="afterRead",QN="beforeMain",XN="main",JN="afterMain",ZN="beforeWrite",eL="write",tL="afterWrite",nL=[YN,GN,WN,QN,XN,JN,ZN,eL,tL];function lu(t){return t?(t.nodeName||"").toLowerCase():null}function Rs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xh(t){var e=Rs(t).Element;return t instanceof e||t instanceof Element}function aa(t){var e=Rs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function zC(t){if(typeof ShadowRoot>"u")return!1;var e=Rs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function rL(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!aa(s)||!lu(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var f=i[l];f===!1?s.removeAttribute(l):s.setAttribute(l,f===!0?"":f)}))})}function iL(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),f=l.reduce(function(d,m){return d[m]="",d},{});!aa(i)||!lu(i)||(Object.assign(i.style,f),Object.keys(s).forEach(function(d){i.removeAttribute(d)}))})}}const dM={name:"applyStyles",enabled:!0,phase:"write",fn:rL,effect:iL,requires:["computeStyles"]};function iu(t){return t.split("-")[0]}var fh=Math.max,ib=Math.min,pm=Math.round;function wS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function hM(){return!/^((?!chrome|android).)*safari/i.test(wS())}function mm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&aa(t)&&(i=t.offsetWidth>0&&pm(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&pm(r.height)/t.offsetHeight||1);var l=xh(t)?Rs(t):window,f=l.visualViewport,d=!hM()&&n,m=(r.left+(d&&f?f.offsetLeft:0))/i,y=(r.top+(d&&f?f.offsetTop:0))/s,x=r.width/i,C=r.height/s;return{width:x,height:C,top:y,right:m+x,bottom:y+C,left:m,x:m,y}}function HC(t){var e=mm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function pM(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&zC(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sc(t){return Rs(t).getComputedStyle(t)}function oL(t){return["table","td","th"].indexOf(lu(t))>=0}function Bf(t){return((xh(t)?t.ownerDocument:t.document)||window.document).documentElement}function Lb(t){return lu(t)==="html"?t:t.assignedSlot||t.parentNode||(zC(t)?t.host:null)||Bf(t)}function mT(t){return!aa(t)||sc(t).position==="fixed"?null:t.offsetParent}function sL(t){var e=/firefox/i.test(wS()),n=/Trident/i.test(wS());if(n&&aa(t)){var r=sc(t);if(r.position==="fixed")return null}var i=Lb(t);for(zC(i)&&(i=i.host);aa(i)&&["html","body"].indexOf(lu(i))<0;){var s=sc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function w0(t){for(var e=Rs(t),n=mT(t);n&&oL(n)&&sc(n).position==="static";)n=mT(n);return n&&(lu(n)==="html"||lu(n)==="body"&&sc(n).position==="static")?e:n||sL(t)||e}function PC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Dy(t,e,n){return fh(t,ib(e,n))}function aL(t,e,n){var r=Dy(t,e,n);return r>n?n:r}function mM(){return{top:0,right:0,bottom:0,left:0}}function gM(t){return Object.assign({},mM(),t)}function yM(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var lL=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gM(typeof e!="number"?e:yM(e,x0))};function uL(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,l=n.modifiersData.popperOffsets,f=iu(n.placement),d=PC(f),m=[Xo,ua].indexOf(f)>=0,y=m?"height":"width";if(!(!s||!l)){var x=lL(i.padding,n),C=HC(s),T=d==="y"?Qo:Xo,E=d==="y"?la:ua,k=n.rects.reference[y]+n.rects.reference[d]-l[d]-n.rects.popper[y],R=l[d]-n.rects.reference[d],H=w0(s),K=H?d==="y"?H.clientHeight||0:H.clientWidth||0:0,Y=k/2-R/2,U=x[T],G=K-C[y]-x[E],re=K/2-C[y]/2+Y,de=Dy(U,re,G),we=d;n.modifiersData[r]=(e={},e[we]=de,e.centerOffset=de-re,e)}}function cL(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pM(e.elements.popper,i)&&(e.elements.arrow=i))}const fL={name:"arrow",enabled:!0,phase:"main",fn:uL,effect:cL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gm(t){return t.split("-")[1]}var dL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hL(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:pm(n*i)/i||0,y:pm(r*i)/i||0}}function gT(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,l=t.offsets,f=t.position,d=t.gpuAcceleration,m=t.adaptive,y=t.roundOffsets,x=t.isFixed,C=l.x,T=C===void 0?0:C,E=l.y,k=E===void 0?0:E,R=typeof y=="function"?y({x:T,y:k}):{x:T,y:k};T=R.x,k=R.y;var H=l.hasOwnProperty("x"),K=l.hasOwnProperty("y"),Y=Xo,U=Qo,G=window;if(m){var re=w0(n),de="clientHeight",we="clientWidth";if(re===Rs(n)&&(re=Bf(n),sc(re).position!=="static"&&f==="absolute"&&(de="scrollHeight",we="scrollWidth")),re=re,i===Qo||(i===Xo||i===ua)&&s===Jy){U=la;var fe=x&&re===G&&G.visualViewport?G.visualViewport.height:re[de];k-=fe-r.height,k*=d?1:-1}if(i===Xo||(i===Qo||i===la)&&s===Jy){Y=ua;var Me=x&&re===G&&G.visualViewport?G.visualViewport.width:re[we];T-=Me-r.width,T*=d?1:-1}}var et=Object.assign({position:f},m&&dL),Ve=y===!0?hL({x:T,y:k},Rs(n)):{x:T,y:k};if(T=Ve.x,k=Ve.y,d){var Je;return Object.assign({},et,(Je={},Je[U]=K?"0":"",Je[Y]=H?"0":"",Je.transform=(G.devicePixelRatio||1)<=1?"translate("+T+"px, "+k+"px)":"translate3d("+T+"px, "+k+"px, 0)",Je))}return Object.assign({},et,(e={},e[U]=K?k+"px":"",e[Y]=H?T+"px":"",e.transform="",e))}function pL(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,l=s===void 0?!0:s,f=n.roundOffsets,d=f===void 0?!0:f,m={placement:iu(e.placement),variation:gm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gT(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gT(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pL,data:{}};var c1={passive:!0};function gL(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,f=l===void 0?!0:l,d=Rs(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&m.forEach(function(y){y.addEventListener("scroll",n.update,c1)}),f&&d.addEventListener("resize",n.update,c1),function(){s&&m.forEach(function(y){y.removeEventListener("scroll",n.update,c1)}),f&&d.removeEventListener("resize",n.update,c1)}}const yL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gL,data:{}};var vL={left:"right",right:"left",bottom:"top",top:"bottom"};function D1(t){return t.replace(/left|right|bottom|top/g,function(e){return vL[e]})}var bL={start:"end",end:"start"};function yT(t){return t.replace(/start|end/g,function(e){return bL[e]})}function FC(t){var e=Rs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function qC(t){return mm(Bf(t)).left+FC(t).scrollLeft}function xL(t,e){var n=Rs(t),r=Bf(t),i=n.visualViewport,s=r.clientWidth,l=r.clientHeight,f=0,d=0;if(i){s=i.width,l=i.height;var m=hM();(m||!m&&e==="fixed")&&(f=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:f+qC(t),y:d}}function wL(t){var e,n=Bf(t),r=FC(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=fh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=fh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+qC(t),d=-r.scrollTop;return sc(i||n).direction==="rtl"&&(f+=fh(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:f,y:d}}function UC(t){var e=sc(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function vM(t){return["html","body","#document"].indexOf(lu(t))>=0?t.ownerDocument.body:aa(t)&&UC(t)?t:vM(Lb(t))}function Ry(t,e){var n;e===void 0&&(e=[]);var r=vM(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Rs(r),l=i?[s].concat(s.visualViewport||[],UC(r)?r:[]):r,f=e.concat(l);return i?f:f.concat(Ry(Lb(l)))}function SS(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function SL(t,e){var n=mm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vT(t,e,n){return e===cM?SS(xL(t,n)):xh(e)?SL(e,n):SS(wL(Bf(t)))}function CL(t){var e=Ry(Lb(t)),n=["absolute","fixed"].indexOf(sc(t).position)>=0,r=n&&aa(t)?w0(t):t;return xh(r)?e.filter(function(i){return xh(i)&&pM(i,r)&&lu(i)!=="body"}):[]}function EL(t,e,n,r){var i=e==="clippingParents"?CL(t):[].concat(e),s=[].concat(i,[n]),l=s[0],f=s.reduce(function(d,m){var y=vT(t,m,r);return d.top=fh(y.top,d.top),d.right=ib(y.right,d.right),d.bottom=ib(y.bottom,d.bottom),d.left=fh(y.left,d.left),d},vT(t,l,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function bM(t){var e=t.reference,n=t.element,r=t.placement,i=r?iu(r):null,s=r?gm(r):null,l=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,d;switch(i){case Qo:d={x:l,y:e.y-n.height};break;case la:d={x:l,y:e.y+e.height};break;case ua:d={x:e.x+e.width,y:f};break;case Xo:d={x:e.x-n.width,y:f};break;default:d={x:e.x,y:e.y}}var m=i?PC(i):null;if(m!=null){var y=m==="y"?"height":"width";switch(s){case hm:d[m]=d[m]-(e[y]/2-n[y]/2);break;case Jy:d[m]=d[m]+(e[y]/2-n[y]/2);break}}return d}function Zy(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,l=s===void 0?t.strategy:s,f=n.boundary,d=f===void 0?KN:f,m=n.rootBoundary,y=m===void 0?cM:m,x=n.elementContext,C=x===void 0?vy:x,T=n.altBoundary,E=T===void 0?!1:T,k=n.padding,R=k===void 0?0:k,H=gM(typeof R!="number"?R:yM(R,x0)),K=C===vy?$N:vy,Y=t.rects.popper,U=t.elements[E?K:C],G=EL(xh(U)?U:U.contextElement||Bf(t.elements.popper),d,y,l),re=mm(t.elements.reference),de=bM({reference:re,element:Y,placement:i}),we=SS(Object.assign({},Y,de)),fe=C===vy?we:re,Me={top:G.top-fe.top+H.top,bottom:fe.bottom-G.bottom+H.bottom,left:G.left-fe.left+H.left,right:fe.right-G.right+H.right},et=t.modifiersData.offset;if(C===vy&&et){var Ve=et[i];Object.keys(Me).forEach(function(Je){var wt=[ua,la].indexOf(Je)>=0?1:-1,Et=[Qo,la].indexOf(Je)>=0?"y":"x";Me[Je]+=Ve[Et]*wt})}return Me}function TL(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,l=n.padding,f=n.flipVariations,d=n.allowedAutoPlacements,m=d===void 0?fM:d,y=gm(r),x=y?f?pT:pT.filter(function(E){return gm(E)===y}):x0,C=x.filter(function(E){return m.indexOf(E)>=0});C.length===0&&(C=x);var T=C.reduce(function(E,k){return E[k]=Zy(t,{placement:k,boundary:i,rootBoundary:s,padding:l})[iu(k)],E},{});return Object.keys(T).sort(function(E,k){return T[E]-T[k]})}function OL(t){if(iu(t)===IC)return[];var e=D1(t);return[yT(t),e,yT(e)]}function AL(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,f=l===void 0?!0:l,d=n.fallbackPlacements,m=n.padding,y=n.boundary,x=n.rootBoundary,C=n.altBoundary,T=n.flipVariations,E=T===void 0?!0:T,k=n.allowedAutoPlacements,R=e.options.placement,H=iu(R),K=H===R,Y=d||(K||!E?[D1(R)]:OL(R)),U=[R].concat(Y).reduce(function(Ge,ht){return Ge.concat(iu(ht)===IC?TL(e,{placement:ht,boundary:y,rootBoundary:x,padding:m,flipVariations:E,allowedAutoPlacements:k}):ht)},[]),G=e.rects.reference,re=e.rects.popper,de=new Map,we=!0,fe=U[0],Me=0;Me<U.length;Me++){var et=U[Me],Ve=iu(et),Je=gm(et)===hm,wt=[Qo,la].indexOf(Ve)>=0,Et=wt?"width":"height",Ne=Zy(e,{placement:et,boundary:y,rootBoundary:x,altBoundary:C,padding:m}),$e=wt?Je?ua:Xo:Je?la:Qo;G[Et]>re[Et]&&($e=D1($e));var Ye=D1($e),mt=[];if(s&&mt.push(Ne[Ve]<=0),f&&mt.push(Ne[$e]<=0,Ne[Ye]<=0),mt.every(function(Ge){return Ge})){fe=et,we=!1;break}de.set(et,mt)}if(we)for(var ee=E?3:1,Oe=function(ht){var ot=U.find(function(cn){var yt=de.get(cn);if(yt)return yt.slice(0,ht).every(function(Pe){return Pe})});if(ot)return fe=ot,"break"},tt=ee;tt>0;tt--){var it=Oe(tt);if(it==="break")break}e.placement!==fe&&(e.modifiersData[r]._skip=!0,e.placement=fe,e.reset=!0)}}const kL={name:"flip",enabled:!0,phase:"main",fn:AL,requiresIfExists:["offset"],data:{_skip:!1}};function bT(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xT(t){return[Qo,ua,la,Xo].some(function(e){return t[e]>=0})}function ML(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=Zy(e,{elementContext:"reference"}),f=Zy(e,{altBoundary:!0}),d=bT(l,r),m=bT(f,i,s),y=xT(d),x=xT(m);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:y,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":x})}const DL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ML};function RL(t,e,n){var r=iu(t),i=[Xo,Qo].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=s[0],f=s[1];return l=l||0,f=(f||0)*i,[Xo,ua].indexOf(r)>=0?{x:f,y:l}:{x:l,y:f}}function _L(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,l=fM.reduce(function(y,x){return y[x]=RL(x,e.rects,s),y},{}),f=l[e.placement],d=f.x,m=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=m),e.modifiersData[r]=l}const NL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_L};function LL(t){var e=t.state,n=t.name;e.modifiersData[n]=bM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const BL={name:"popperOffsets",enabled:!0,phase:"read",fn:LL,data:{}};function IL(t){return t==="x"?"y":"x"}function zL(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,f=l===void 0?!1:l,d=n.boundary,m=n.rootBoundary,y=n.altBoundary,x=n.padding,C=n.tether,T=C===void 0?!0:C,E=n.tetherOffset,k=E===void 0?0:E,R=Zy(e,{boundary:d,rootBoundary:m,padding:x,altBoundary:y}),H=iu(e.placement),K=gm(e.placement),Y=!K,U=PC(H),G=IL(U),re=e.modifiersData.popperOffsets,de=e.rects.reference,we=e.rects.popper,fe=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,Me=typeof fe=="number"?{mainAxis:fe,altAxis:fe}:Object.assign({mainAxis:0,altAxis:0},fe),et=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ve={x:0,y:0};if(re){if(s){var Je,wt=U==="y"?Qo:Xo,Et=U==="y"?la:ua,Ne=U==="y"?"height":"width",$e=re[U],Ye=$e+R[wt],mt=$e-R[Et],ee=T?-we[Ne]/2:0,Oe=K===hm?de[Ne]:we[Ne],tt=K===hm?-we[Ne]:-de[Ne],it=e.elements.arrow,Ge=T&&it?HC(it):{width:0,height:0},ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mM(),ot=ht[wt],cn=ht[Et],yt=Dy(0,de[Ne],Ge[Ne]),Pe=Y?de[Ne]/2-ee-yt-ot-Me.mainAxis:Oe-yt-ot-Me.mainAxis,ft=Y?-de[Ne]/2+ee+yt+cn+Me.mainAxis:tt+yt+cn+Me.mainAxis,fn=e.elements.arrow&&w0(e.elements.arrow),Tt=fn?U==="y"?fn.clientTop||0:fn.clientLeft||0:0,Cn=(Je=et==null?void 0:et[U])!=null?Je:0,dn=$e+Pe-Cn-Tt,Rn=$e+ft-Cn,dr=Dy(T?ib(Ye,dn):Ye,$e,T?fh(mt,Rn):mt);re[U]=dr,Ve[U]=dr-$e}if(f){var tr,te=U==="x"?Qo:Xo,ge=U==="x"?la:ua,be=re[G],Le=G==="y"?"height":"width",qe=be+R[te],Ie=be-R[ge],st=[Qo,Xo].indexOf(H)!==-1,St=(tr=et==null?void 0:et[G])!=null?tr:0,sn=st?qe:be-de[Le]-we[Le]-St+Me.altAxis,Ht=st?be+de[Le]+we[Le]-St-Me.altAxis:Ie,hn=T&&st?aL(sn,be,Ht):Dy(T?sn:qe,be,T?Ht:Ie);re[G]=hn,Ve[G]=hn-be}e.modifiersData[r]=Ve}}const HL={name:"preventOverflow",enabled:!0,phase:"main",fn:zL,requiresIfExists:["offset"]};function PL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function FL(t){return t===Rs(t)||!aa(t)?FC(t):PL(t)}function qL(t){var e=t.getBoundingClientRect(),n=pm(e.width)/t.offsetWidth||1,r=pm(e.height)/t.offsetHeight||1;return n!==1||r!==1}function UL(t,e,n){n===void 0&&(n=!1);var r=aa(e),i=aa(e)&&qL(e),s=Bf(e),l=mm(t,i,n),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((lu(e)!=="body"||UC(s))&&(f=FL(e)),aa(e)?(d=mm(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):s&&(d.x=qC(s))),{x:l.left+f.scrollLeft-d.x,y:l.top+f.scrollTop-d.y,width:l.width,height:l.height}}function VL(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(f){if(!n.has(f)){var d=e.get(f);d&&i(d)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function jL(t){var e=VL(t);return nL.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function KL(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $L(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var wT={placement:"bottom",modifiers:[],strategy:"absolute"};function ST(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YL(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?wT:i;return function(f,d,m){m===void 0&&(m=s);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},wT,s),modifiersData:{},elements:{reference:f,popper:d},attributes:{},styles:{}},x=[],C=!1,T={state:y,setOptions:function(H){var K=typeof H=="function"?H(y.options):H;k(),y.options=Object.assign({},s,y.options,K),y.scrollParents={reference:xh(f)?Ry(f):f.contextElement?Ry(f.contextElement):[],popper:Ry(d)};var Y=jL($L([].concat(r,y.options.modifiers)));return y.orderedModifiers=Y.filter(function(U){return U.enabled}),E(),T.update()},forceUpdate:function(){if(!C){var H=y.elements,K=H.reference,Y=H.popper;if(ST(K,Y)){y.rects={reference:UL(K,w0(Y),y.options.strategy==="fixed"),popper:HC(Y)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(Me){return y.modifiersData[Me.name]=Object.assign({},Me.data)});for(var U=0;U<y.orderedModifiers.length;U++){if(y.reset===!0){y.reset=!1,U=-1;continue}var G=y.orderedModifiers[U],re=G.fn,de=G.options,we=de===void 0?{}:de,fe=G.name;typeof re=="function"&&(y=re({state:y,options:we,name:fe,instance:T})||y)}}}},update:KL(function(){return new Promise(function(R){T.forceUpdate(),R(y)})}),destroy:function(){k(),C=!0}};if(!ST(f,d))return T;T.setOptions(m).then(function(R){!C&&m.onFirstUpdate&&m.onFirstUpdate(R)});function E(){y.orderedModifiers.forEach(function(R){var H=R.name,K=R.options,Y=K===void 0?{}:K,U=R.effect;if(typeof U=="function"){var G=U({state:y,name:H,instance:T,options:Y}),re=function(){};x.push(G||re)}})}function k(){x.forEach(function(R){return R()}),x=[]}return T}}var GL=[yL,BL,mL,dM,NL,kL,HL,fL,DL],WL=YL({defaultModifiers:GL}),QL="tippy-box",xM="tippy-content",XL="tippy-backdrop",wM="tippy-arrow",SM="tippy-svg-arrow",qd={passive:!0,capture:!0},CM=function(){return document.body};function xw(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function VC(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function EM(t,e){return typeof t=="function"?t.apply(void 0,e):t}function CT(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function JL(t){return t.split(/\s+/).filter(Boolean)}function Hp(t){return[].concat(t)}function ET(t,e){t.indexOf(e)===-1&&t.push(e)}function ZL(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function eB(t){return t.split("-")[0]}function ob(t){return[].slice.call(t)}function TT(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function _y(){return document.createElement("div")}function Bb(t){return["Element","Fragment"].some(function(e){return VC(t,e)})}function tB(t){return VC(t,"NodeList")}function nB(t){return VC(t,"MouseEvent")}function rB(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function iB(t){return Bb(t)?[t]:tB(t)?ob(t):Array.isArray(t)?t:ob(document.querySelectorAll(t))}function ww(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function OT(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function oB(t){var e,n=Hp(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function sB(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,l=i.popperState,f=i.props,d=f.interactiveBorder,m=eB(l.placement),y=l.modifiersData.offset;if(!y)return!0;var x=m==="bottom"?y.top.y:0,C=m==="top"?y.bottom.y:0,T=m==="right"?y.left.x:0,E=m==="left"?y.right.x:0,k=s.top-r+x>d,R=r-s.bottom-C>d,H=s.left-n+T>d,K=n-s.right-E>d;return k||R||H||K})}function Sw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function AT(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Jl={isTouch:!1},kT=0;function aB(){Jl.isTouch||(Jl.isTouch=!0,window.performance&&document.addEventListener("mousemove",TM))}function TM(){var t=performance.now();t-kT<20&&(Jl.isTouch=!1,document.removeEventListener("mousemove",TM)),kT=t}function lB(){var t=document.activeElement;if(rB(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function uB(){document.addEventListener("touchstart",aB,qd),window.addEventListener("blur",lB)}var cB=typeof window<"u"&&typeof document<"u",fB=cB?!!window.msCrypto:!1,dB={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},hB={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Qa=Object.assign({appendTo:CM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},dB,hB),pB=Object.keys(Qa),mB=function(e){var n=Object.keys(e);n.forEach(function(r){Qa[r]=e[r]})};function OM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,l=i.defaultValue;if(s){var f;r[s]=t[s]!==void 0?t[s]:(f=Qa[s])!=null?f:l}return r},{});return Object.assign({},t,n)}function gB(t,e){var n=e?Object.keys(OM(Object.assign({},Qa,{plugins:e}))):pB,r=n.reduce(function(i,s){var l=(t.getAttribute("data-tippy-"+s)||"").trim();if(!l)return i;if(s==="content")i[s]=l;else try{i[s]=JSON.parse(l)}catch{i[s]=l}return i},{});return r}function MT(t,e){var n=Object.assign({},e,{content:EM(e.content,[t])},e.ignoreAttributes?{}:gB(t,e.plugins));return n.aria=Object.assign({},Qa.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var yB=function(){return"innerHTML"};function CS(t,e){t[yB()]=e}function DT(t){var e=_y();return t===!0?e.className=wM:(e.className=SM,Bb(t)?e.appendChild(t):CS(e,t)),e}function RT(t,e){Bb(e.content)?(CS(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?CS(t,e.content):t.textContent=e.content)}function ES(t){var e=t.firstElementChild,n=ob(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(xM)}),arrow:n.find(function(r){return r.classList.contains(wM)||r.classList.contains(SM)}),backdrop:n.find(function(r){return r.classList.contains(XL)})}}function AM(t){var e=_y(),n=_y();n.className=QL,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=_y();r.className=xM,r.setAttribute("data-state","hidden"),RT(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,l){var f=ES(e),d=f.box,m=f.content,y=f.arrow;l.theme?d.setAttribute("data-theme",l.theme):d.removeAttribute("data-theme"),typeof l.animation=="string"?d.setAttribute("data-animation",l.animation):d.removeAttribute("data-animation"),l.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?d.setAttribute("role",l.role):d.removeAttribute("role"),(s.content!==l.content||s.allowHTML!==l.allowHTML)&&RT(m,t.props),l.arrow?y?s.arrow!==l.arrow&&(d.removeChild(y),d.appendChild(DT(l.arrow))):d.appendChild(DT(l.arrow)):y&&d.removeChild(y)}return{popper:e,onUpdate:i}}AM.$$tippy=!0;var vB=1,f1=[],Cw=[];function bB(t,e){var n=MT(t,Object.assign({},Qa,OM(TT(e)))),r,i,s,l=!1,f=!1,d=!1,m=!1,y,x,C,T=[],E=CT(dn,n.interactiveDebounce),k,R=vB++,H=null,K=ZL(n.plugins),Y={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},U={id:R,reference:t,popper:_y(),popperInstance:H,props:n,state:Y,plugins:K,clearDelayTimeouts:sn,setProps:Ht,setContent:hn,show:Mr,hide:Qr,hideWithInteractivity:nr,enable:st,disable:St,unmount:Pr,destroy:Dr};if(!n.render)return U;var G=n.render(U),re=G.popper,de=G.onUpdate;re.setAttribute("data-tippy-root",""),re.id="tippy-"+U.id,U.popper=re,t._tippy=U,re._tippy=U;var we=K.map(function(Ce){return Ce.fn(U)}),fe=t.hasAttribute("aria-expanded");return fn(),ee(),$e(),Ye("onCreate",[U]),n.showOnCreate&&qe(),re.addEventListener("mouseenter",function(){U.props.interactive&&U.state.isVisible&&U.clearDelayTimeouts()}),re.addEventListener("mouseleave",function(){U.props.interactive&&U.props.trigger.indexOf("mouseenter")>=0&&wt().addEventListener("mousemove",E)}),U;function Me(){var Ce=U.props.touch;return Array.isArray(Ce)?Ce:[Ce,0]}function et(){return Me()[0]==="hold"}function Ve(){var Ce;return!!((Ce=U.props.render)!=null&&Ce.$$tippy)}function Je(){return k||t}function wt(){var Ce=Je().parentNode;return Ce?oB(Ce):document}function Et(){return ES(re)}function Ne(Ce){return U.state.isMounted&&!U.state.isVisible||Jl.isTouch||y&&y.type==="focus"?0:xw(U.props.delay,Ce?0:1,Qa.delay)}function $e(Ce){Ce===void 0&&(Ce=!1),re.style.pointerEvents=U.props.interactive&&!Ce?"":"none",re.style.zIndex=""+U.props.zIndex}function Ye(Ce,nt,ke){if(ke===void 0&&(ke=!0),we.forEach(function(It){It[Ce]&&It[Ce].apply(It,nt)}),ke){var At;(At=U.props)[Ce].apply(At,nt)}}function mt(){var Ce=U.props.aria;if(Ce.content){var nt="aria-"+Ce.content,ke=re.id,At=Hp(U.props.triggerTarget||t);At.forEach(function(It){var Qn=It.getAttribute(nt);if(U.state.isVisible)It.setAttribute(nt,Qn?Qn+" "+ke:ke);else{var We=Qn&&Qn.replace(ke,"").trim();We?It.setAttribute(nt,We):It.removeAttribute(nt)}})}}function ee(){if(!(fe||!U.props.aria.expanded)){var Ce=Hp(U.props.triggerTarget||t);Ce.forEach(function(nt){U.props.interactive?nt.setAttribute("aria-expanded",U.state.isVisible&&nt===Je()?"true":"false"):nt.removeAttribute("aria-expanded")})}}function Oe(){wt().removeEventListener("mousemove",E),f1=f1.filter(function(Ce){return Ce!==E})}function tt(Ce){if(!(Jl.isTouch&&(d||Ce.type==="mousedown"))){var nt=Ce.composedPath&&Ce.composedPath()[0]||Ce.target;if(!(U.props.interactive&&AT(re,nt))){if(Hp(U.props.triggerTarget||t).some(function(ke){return AT(ke,nt)})){if(Jl.isTouch||U.state.isVisible&&U.props.trigger.indexOf("click")>=0)return}else Ye("onClickOutside",[U,Ce]);U.props.hideOnClick===!0&&(U.clearDelayTimeouts(),U.hide(),f=!0,setTimeout(function(){f=!1}),U.state.isMounted||ot())}}}function it(){d=!0}function Ge(){d=!1}function ht(){var Ce=wt();Ce.addEventListener("mousedown",tt,!0),Ce.addEventListener("touchend",tt,qd),Ce.addEventListener("touchstart",Ge,qd),Ce.addEventListener("touchmove",it,qd)}function ot(){var Ce=wt();Ce.removeEventListener("mousedown",tt,!0),Ce.removeEventListener("touchend",tt,qd),Ce.removeEventListener("touchstart",Ge,qd),Ce.removeEventListener("touchmove",it,qd)}function cn(Ce,nt){Pe(Ce,function(){!U.state.isVisible&&re.parentNode&&re.parentNode.contains(re)&&nt()})}function yt(Ce,nt){Pe(Ce,nt)}function Pe(Ce,nt){var ke=Et().box;function At(It){It.target===ke&&(Sw(ke,"remove",At),nt())}if(Ce===0)return nt();Sw(ke,"remove",x),Sw(ke,"add",At),x=At}function ft(Ce,nt,ke){ke===void 0&&(ke=!1);var At=Hp(U.props.triggerTarget||t);At.forEach(function(It){It.addEventListener(Ce,nt,ke),T.push({node:It,eventType:Ce,handler:nt,options:ke})})}function fn(){et()&&(ft("touchstart",Cn,{passive:!0}),ft("touchend",Rn,{passive:!0})),JL(U.props.trigger).forEach(function(Ce){if(Ce!=="manual")switch(ft(Ce,Cn),Ce){case"mouseenter":ft("mouseleave",Rn);break;case"focus":ft(fB?"focusout":"blur",dr);break;case"focusin":ft("focusout",dr);break}})}function Tt(){T.forEach(function(Ce){var nt=Ce.node,ke=Ce.eventType,At=Ce.handler,It=Ce.options;nt.removeEventListener(ke,At,It)}),T=[]}function Cn(Ce){var nt,ke=!1;if(!(!U.state.isEnabled||tr(Ce)||f)){var At=((nt=y)==null?void 0:nt.type)==="focus";y=Ce,k=Ce.currentTarget,ee(),!U.state.isVisible&&nB(Ce)&&f1.forEach(function(It){return It(Ce)}),Ce.type==="click"&&(U.props.trigger.indexOf("mouseenter")<0||l)&&U.props.hideOnClick!==!1&&U.state.isVisible?ke=!0:qe(Ce),Ce.type==="click"&&(l=!ke),ke&&!At&&Ie(Ce)}}function dn(Ce){var nt=Ce.target,ke=Je().contains(nt)||re.contains(nt);if(!(Ce.type==="mousemove"&&ke)){var At=Le().concat(re).map(function(It){var Qn,We=It._tippy,Fr=(Qn=We.popperInstance)==null?void 0:Qn.state;return Fr?{popperRect:It.getBoundingClientRect(),popperState:Fr,props:n}:null}).filter(Boolean);sB(At,Ce)&&(Oe(),Ie(Ce))}}function Rn(Ce){var nt=tr(Ce)||U.props.trigger.indexOf("click")>=0&&l;if(!nt){if(U.props.interactive){U.hideWithInteractivity(Ce);return}Ie(Ce)}}function dr(Ce){U.props.trigger.indexOf("focusin")<0&&Ce.target!==Je()||U.props.interactive&&Ce.relatedTarget&&re.contains(Ce.relatedTarget)||Ie(Ce)}function tr(Ce){return Jl.isTouch?et()!==Ce.type.indexOf("touch")>=0:!1}function te(){ge();var Ce=U.props,nt=Ce.popperOptions,ke=Ce.placement,At=Ce.offset,It=Ce.getReferenceClientRect,Qn=Ce.moveTransition,We=Ve()?ES(re).arrow:null,Fr=It?{getBoundingClientRect:It,contextElement:It.contextElement||Je()}:t,Bn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(rr){var ir=rr.state;if(Ve()){var br=Et(),Xn=br.box;["placement","reference-hidden","escaped"].forEach(function(hr){hr==="placement"?Xn.setAttribute("data-placement",ir.placement):ir.attributes.popper["data-popper-"+hr]?Xn.setAttribute("data-"+hr,""):Xn.removeAttribute("data-"+hr)}),ir.attributes.popper={}}}},gn=[{name:"offset",options:{offset:At}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Qn}},Bn];Ve()&&We&&gn.push({name:"arrow",options:{element:We,padding:3}}),gn.push.apply(gn,(nt==null?void 0:nt.modifiers)||[]),U.popperInstance=WL(Fr,re,Object.assign({},nt,{placement:ke,onFirstUpdate:C,modifiers:gn}))}function ge(){U.popperInstance&&(U.popperInstance.destroy(),U.popperInstance=null)}function be(){var Ce=U.props.appendTo,nt,ke=Je();U.props.interactive&&Ce===CM||Ce==="parent"?nt=ke.parentNode:nt=EM(Ce,[ke]),nt.contains(re)||nt.appendChild(re),U.state.isMounted=!0,te()}function Le(){return ob(re.querySelectorAll("[data-tippy-root]"))}function qe(Ce){U.clearDelayTimeouts(),Ce&&Ye("onTrigger",[U,Ce]),ht();var nt=Ne(!0),ke=Me(),At=ke[0],It=ke[1];Jl.isTouch&&At==="hold"&&It&&(nt=It),nt?r=setTimeout(function(){U.show()},nt):U.show()}function Ie(Ce){if(U.clearDelayTimeouts(),Ye("onUntrigger",[U,Ce]),!U.state.isVisible){ot();return}if(!(U.props.trigger.indexOf("mouseenter")>=0&&U.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ce.type)>=0&&l)){var nt=Ne(!1);nt?i=setTimeout(function(){U.state.isVisible&&U.hide()},nt):s=requestAnimationFrame(function(){U.hide()})}}function st(){U.state.isEnabled=!0}function St(){U.hide(),U.state.isEnabled=!1}function sn(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Ht(Ce){if(!U.state.isDestroyed){Ye("onBeforeUpdate",[U,Ce]),Tt();var nt=U.props,ke=MT(t,Object.assign({},nt,TT(Ce),{ignoreAttributes:!0}));U.props=ke,fn(),nt.interactiveDebounce!==ke.interactiveDebounce&&(Oe(),E=CT(dn,ke.interactiveDebounce)),nt.triggerTarget&&!ke.triggerTarget?Hp(nt.triggerTarget).forEach(function(At){At.removeAttribute("aria-expanded")}):ke.triggerTarget&&t.removeAttribute("aria-expanded"),ee(),$e(),de&&de(nt,ke),U.popperInstance&&(te(),Le().forEach(function(At){requestAnimationFrame(At._tippy.popperInstance.forceUpdate)})),Ye("onAfterUpdate",[U,Ce])}}function hn(Ce){U.setProps({content:Ce})}function Mr(){var Ce=U.state.isVisible,nt=U.state.isDestroyed,ke=!U.state.isEnabled,At=Jl.isTouch&&!U.props.touch,It=xw(U.props.duration,0,Qa.duration);if(!(Ce||nt||ke||At)&&!Je().hasAttribute("disabled")&&(Ye("onShow",[U],!1),U.props.onShow(U)!==!1)){if(U.state.isVisible=!0,Ve()&&(re.style.visibility="visible"),$e(),ht(),U.state.isMounted||(re.style.transition="none"),Ve()){var Qn=Et(),We=Qn.box,Fr=Qn.content;ww([We,Fr],0)}C=function(){var gn;if(!(!U.state.isVisible||m)){if(m=!0,re.offsetHeight,re.style.transition=U.props.moveTransition,Ve()&&U.props.animation){var Kn=Et(),rr=Kn.box,ir=Kn.content;ww([rr,ir],It),OT([rr,ir],"visible")}mt(),ee(),ET(Cw,U),(gn=U.popperInstance)==null||gn.forceUpdate(),Ye("onMount",[U]),U.props.animation&&Ve()&&yt(It,function(){U.state.isShown=!0,Ye("onShown",[U])})}},be()}}function Qr(){var Ce=!U.state.isVisible,nt=U.state.isDestroyed,ke=!U.state.isEnabled,At=xw(U.props.duration,1,Qa.duration);if(!(Ce||nt||ke)&&(Ye("onHide",[U],!1),U.props.onHide(U)!==!1)){if(U.state.isVisible=!1,U.state.isShown=!1,m=!1,l=!1,Ve()&&(re.style.visibility="hidden"),Oe(),ot(),$e(!0),Ve()){var It=Et(),Qn=It.box,We=It.content;U.props.animation&&(ww([Qn,We],At),OT([Qn,We],"hidden"))}mt(),ee(),U.props.animation?Ve()&&cn(At,U.unmount):U.unmount()}}function nr(Ce){wt().addEventListener("mousemove",E),ET(f1,E),E(Ce)}function Pr(){U.state.isVisible&&U.hide(),U.state.isMounted&&(ge(),Le().forEach(function(Ce){Ce._tippy.unmount()}),re.parentNode&&re.parentNode.removeChild(re),Cw=Cw.filter(function(Ce){return Ce!==U}),U.state.isMounted=!1,Ye("onHidden",[U]))}function Dr(){U.state.isDestroyed||(U.clearDelayTimeouts(),U.unmount(),Tt(),delete t._tippy,U.state.isDestroyed=!0,Ye("onDestroy",[U]))}}function Om(t,e){e===void 0&&(e={});var n=Qa.plugins.concat(e.plugins||[]);uB();var r=Object.assign({},e,{plugins:n}),i=iB(t),s=i.reduce(function(l,f){var d=f&&bB(f,r);return d&&l.push(d),l},[]);return Bb(t)?s[0]:s}Om.defaultProps=Qa;Om.setDefaultProps=mB;Om.currentInput=Jl;Object.assign({},dM,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Om.setDefaultProps({render:AM});class xB{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:l}){this.preventHide=!1,this.shouldShow=({view:f,state:d,from:m,to:y})=>{const{doc:x,selection:C}=d,{empty:T}=C,E=!x.textBetween(m,y).length&&NC(d.selection),k=this.element.contains(document.activeElement);return!(!(f.hasFocus()||k)||T||E||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var d;if(this.preventHide){this.preventHide=!1;return}f!=null&&f.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(f.relatedTarget))||(f==null?void 0:f.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=f=>{this.blurHandler({event:f})},this.handleDebouncedUpdate=(f,d)=>{const m=!(d!=null&&d.selection.eq(f.state.selection)),y=!(d!=null&&d.doc.eq(f.state.doc));!m&&!y||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,m,y,d)},this.updateDelay))},this.updateHandler=(f,d,m,y)=>{var x,C,T;const{state:E,composing:k}=f,{selection:R}=E;if(k||!d&&!m)return;this.createTooltip();const{ranges:K}=R,Y=Math.min(...K.map(re=>re.$from.pos)),U=Math.max(...K.map(re=>re.$to.pos));if(!((x=this.shouldShow)===null||x===void 0?void 0:x.call(this,{editor:this.editor,element:this.element,view:f,state:E,oldState:y,from:Y,to:U}))){this.hide();return}(C=this.tippy)===null||C===void 0||C.setProps({getReferenceClientRect:((T=this.tippyOptions)===null||T===void 0?void 0:T.getReferenceClientRect)||(()=>{if(lM(E.selection)){let re=f.nodeDOM(Y);if(re){const de=re.dataset.nodeViewWrapper?re:re.querySelector("[data-node-view-wrapper]");if(de&&(re=de.firstChild),re)return re.getBoundingClientRect()}}return uM(f,Y,U)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Om(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),l=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,l,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const kM=t=>new Fi({key:typeof t.pluginKey=="string"?new _s(t.pluginKey):t.pluginKey,view:e=>new xB({view:e,...t})});si.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[kM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class wB{getTextContent(e){return sM(e,{textSerializers:RC(this.editor.schema)})}constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:l,state:f})=>{const{selection:d}=f,{$anchor:m,empty:y}=d,x=m.depth===1,C=m.parent.isTextblock&&!m.parent.type.spec.code&&!m.parent.textContent&&m.parent.childCount===0&&!this.getTextContent(m.parent);return!(!l.hasFocus()||!y||!x||!C||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var f;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((f=this.element.parentNode)===null||f===void 0)&&f.contains(l.relatedTarget))||(l==null?void 0:l.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.editor=e,this.element=n,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Om(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){var r,i,s;const{state:l}=e,{doc:f,selection:d}=l,{from:m,to:y}=d;if(n&&n.doc.eq(f)&&n.selection.eq(d))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:l,oldState:n}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>uM(e,m,y))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const MM=t=>new Fi({key:typeof t.pluginKey=="string"?new _s(t.pluginKey):t.pluginKey,view:e=>new wB({view:e,...t})});si.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[MM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});function SB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DM={exports:{}},Ew={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function CB(){if(_T)return Ew;_T=1;var t=gt;function e(x,C){return x===C&&(x!==0||1/x===1/C)||x!==x&&C!==C}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function f(x,C){var T=C(),E=r({inst:{value:T,getSnapshot:C}}),k=E[0].inst,R=E[1];return s(function(){k.value=T,k.getSnapshot=C,d(k)&&R({inst:k})},[x,T,C]),i(function(){return d(k)&&R({inst:k}),x(function(){d(k)&&R({inst:k})})},[x]),l(T),T}function d(x){var C=x.getSnapshot;x=x.value;try{var T=C();return!n(x,T)}catch{return!0}}function m(x,C){return C()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Ew.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Ew}DM.exports=CB();var jC=DM.exports;const EB=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},TB=({contentComponent:t})=>{const e=jC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return gt.createElement(gt.Fragment,null,Object.values(e))};function OB(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:j4.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class AB extends gt.Component{constructor(e){var n;super(e),this.editorContentRef=gt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=OB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return gt.createElement(gt.Fragment,null,gt.createElement("div",{ref:EB(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&gt.createElement(TB,{contentComponent:e.contentComponent}))}}const kB=F.forwardRef((t,e)=>{const n=gt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return gt.createElement(AB,{key:n,innerRef:e,...t})}),MB=gt.memo(kB);var DB=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},RB=SB(DB),RM={exports:{}},Tw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function _B(){if(NT)return Tw;NT=1;var t=gt,e=jC;function n(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,f=t.useMemo,d=t.useDebugValue;return Tw.useSyncExternalStoreWithSelector=function(m,y,x,C,T){var E=s(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=f(function(){function H(re){if(!K){if(K=!0,Y=re,re=C(re),T!==void 0&&k.hasValue){var de=k.value;if(T(de,re))return U=de}return U=re}if(de=U,r(Y,re))return de;var we=C(re);return T!==void 0&&T(de,we)?de:(Y=re,U=we)}var K=!1,Y,U,G=x===void 0?null:x;return[function(){return H(y())},G===null?void 0:function(){return H(G())}]},[y,x,C,T]);var R=i(m,E[0],E[1]);return l(function(){k.hasValue=!0,k.value=R},[R]),d(R),R},Tw}RM.exports=_B();var NB=RM.exports;const LB=typeof window<"u"?F.useLayoutEffect:F.useEffect;class BB{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function IB(t){var e;const[n]=F.useState(()=>new BB(t.editor)),r=NB.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:RB);return LB(()=>n.watch(t.editor),[t.editor,n]),F.useDebugValue(r),r}const zB=!1,TS=typeof window>"u",HB=TS||!!(typeof window<"u"&&window.next);class KC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?TS||HB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new VN(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=n.extensions)===null||l===void 0?void 0:l[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?KC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function PB(t={},e=[]){const n=F.useRef(t);n.current=t;const[r]=F.useState(()=>new KC(n)),i=jC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return F.useDebugValue(i),F.useEffect(r.onRender(e)),IB({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const _M=F.createContext({editor:null});_M.Consumer;const NM=()=>F.useContext(_M),FB=t=>{const[e,n]=F.useState(null),{editor:r}=NM();return F.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:l,tippyOptions:f={},updateDelay:d,shouldShow:m=null}=t,y=l||r;if(!y){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const x=kM({updateDelay:d,editor:y,element:e,pluginKey:s,shouldShow:m,tippyOptions:f});return y.registerPlugin(x),()=>{y.unregisterPlugin(s)}},[t.editor,r,e]),gt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},qB=t=>{const[e,n]=F.useState(null),{editor:r}=NM();return F.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="floatingMenu",editor:l,tippyOptions:f={},shouldShow:d=null}=t,m=l||r;if(!m){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const y=MM({pluginKey:s,editor:m,element:e,tippyOptions:f,shouldShow:d});return m.registerPlugin(y),()=>{m.unregisterPlugin(s)}},[t.editor,r,e]),gt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},UB=F.createContext({onDragStart:void 0}),VB=()=>F.useContext(UB);gt.forwardRef((t,e)=>{const{onDragStart:n}=VB(),r=t.as||"div";return gt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const jB=/^\s*>\s$/,KB=Zo.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Xy({find:jB,type:this.type})]}}),$B=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,YB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,GB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,WB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QB=oc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[fm({find:$B,type:this.type}),fm({find:GB,type:this.type})]},addPasteRules(){return[dm({find:YB,type:this.type}),dm({find:WB,type:this.type})]}}),XB="listItem",LT="textStyle",BT=/^\s*([-+*])\s$/,JB=Zo.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",to(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(XB,this.editor.getAttributes(LT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Xy({find:BT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Xy({find:BT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(LT),editor:this.editor})),[t]}}),ZB=/(^|[^`])`([^`]+)`(?!`)/,eI=/(^|[^`])`([^`]+)`(?!`)/g,tI=oc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[fm({find:ZB,type:this.type})]},addPasteRules(){return[dm({find:eI,type:this.type})]}}),nI=/^```([a-z]+)?[\s\n]$/,rI=/^~~~([a-z]+)?[\s\n]$/,iI=Zo.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",to(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const f=i.after();return f===void 0?!1:r.nodeAt(f)?t.commands.command(({tr:m})=>(m.setSelection(Jt.near(r.resolve(f))),!0)):t.commands.exitCode()}}},addInputRules(){return[xS({find:nI,type:this.type,getAttributes:t=>({language:t[1]})}),xS({find:rI,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Fi({key:new _s("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:l,schema:f}=t.state,d=f.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ut.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),oI=Zo.create({name:"doc",topNode:!0,content:"block+"});function sI(t={}){return new Fi({view(e){return new aI(e,t)}})}class aI{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=l=>{this[i](l)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let f=e.nodeBefore,d=e.nodeAfter;if(f||d){let m=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(m){let y=m.getBoundingClientRect(),x=f?y.bottom:y.top;f&&d&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:y.left,right:y.right,top:x-this.width/2,bottom:x+this.width/2}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos);r={left:f.left-this.width/2,right:f.left+this.width/2,top:f.top,bottom:f.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,l;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,l=-pageYOffset;else{let f=i.getBoundingClientRect();s=f.left-i.scrollLeft,l=f.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-l+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=ZA(this.editorView.state.doc,l,this.editorView.dragging.slice);f!=null&&(l=f)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const lI=si.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sI(this.options)]}});class kr extends Jt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return kr.valid(r)?new kr(r):Jt.near(r)}content(){return ct.empty}eq(e){return e instanceof kr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new kr(e.resolve(n.pos))}getBookmark(){return new $C(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!uI(e)||!cI(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&kr.valid(e))return e;let i=e.pos,s=null;for(let l=e.depth;;l--){let f=e.node(l);if(n>0?e.indexAfter(l)<f.childCount:e.index(l)>0){s=f.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if(kr.valid(d))return d}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!Dt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=l,i+=n;let f=e.doc.resolve(i);if(kr.valid(f))return f}return null}}}kr.prototype.visible=!1;kr.findFrom=kr.findGapCursorFrom;Jt.jsonID("gapcursor",kr);class $C{constructor(e){this.pos=e}map(e){return new $C(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return kr.valid(n)?new kr(n):Jt.near(n)}}function uI(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function cI(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function fI(){return new Fi({props:{decorations:mI,createSelectionBetween(t,e,n){return e.pos==n.pos&&kr.valid(n)?new kr(n):null},handleClick:hI,handleKeyDown:dI,handleDOMEvents:{beforeinput:pI}}})}const dI=Pk({ArrowLeft:d1("horiz",-1),ArrowRight:d1("horiz",1),ArrowUp:d1("vert",-1),ArrowDown:d1("vert",1)});function d1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let l=r.selection,f=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ut){if(!s.endOfTextblock(n)||f.depth==0)return!1;d=!1,f=r.doc.resolve(e>0?f.after():f.before())}let m=kr.findGapCursorFrom(f,e,d);return m?(i&&i(r.tr.setSelection(new kr(m))),!0):!1}}function hI(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!kr.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Dt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new kr(r))),!0)}function pI(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof kr))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Fe.empty;for(let l=r.length-1;l>=0;l--)i=Fe.from(r[l].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ct(i,0,0));return s.setSelection(Ut.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function mI(t){if(!(t.selection instanceof kr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Yr.create(t.doc,[ks.widget(t.selection.head,e,{key:"gapcursor"})])}const gI=si.create({name:"gapCursor",addProseMirrorPlugins(){return[fI()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=on(pt(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),yI=Zo.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",to(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:f}=r.extensionManager,d=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:y})=>{if(y&&d&&l){const x=d.filter(C=>f.includes(C.type.name));m.ensureMarks(x)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),vI=Zo.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,to(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>xS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var sb=200,Ci=function(){};Ci.prototype.append=function(e){return e.length?(e=Ci.from(e),!this.length&&e||e.length<sb&&this.leafAppend(e)||this.length<sb&&e.leafPrepend(this)||this.appendInner(e)):this};Ci.prototype.prepend=function(e){return e.length?Ci.from(e).append(this):this};Ci.prototype.appendInner=function(e){return new bI(this,e)};Ci.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ci.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ci.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ci.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ci.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},n,r),i};Ci.from=function(e){return e instanceof Ci?e:e&&e.length?new LM(e):Ci.empty};var LM=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,f){for(var d=s;d<l;d++)if(i(this.values[d],f+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,f){for(var d=s-1;d>=l;d--)if(i(this.values[d],f+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=sb)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=sb)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ci);Ci.empty=new LM([]);var bI=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var f=this.left.length;if(i<f&&this.left.forEachInner(r,i,Math.min(s,f),l)===!1||s>f&&this.right.forEachInner(r,Math.max(i-f,0),Math.min(this.length,s)-f,l+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var f=this.left.length;if(i>f&&this.right.forEachInvertedInner(r,i-f,Math.max(s,f)-f,l+f)===!1||s<f&&this.left.forEachInvertedInner(r,Math.min(i,f),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ci);const xI=500;class Wa{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,f,d,m=[],y=[];return this.items.forEach((x,C)=>{if(!x.step){i||(i=this.remapping(r,C+1),s=i.maps.length),s--,y.push(x);return}if(i){y.push(new Kl(x.map));let T=x.step.map(i.slice(s)),E;T&&l.maybeStep(T).doc&&(E=l.mapping.maps[l.mapping.maps.length-1],m.push(new Kl(E,void 0,void 0,m.length+y.length))),s--,E&&i.appendMap(E,s)}else l.maybeStep(x.step);if(x.selection)return f=i?x.selection.map(i.slice(s)):x.selection,d=new Wa(this.items.slice(0,r).append(y.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:f}}addTransform(e,n,r,i){let s=[],l=this.eventCount,f=this.items,d=!i&&f.length?f.get(f.length-1):null;for(let y=0;y<e.steps.length;y++){let x=e.steps[y].invert(e.docs[y]),C=new Kl(e.mapping.maps[y],x,n),T;(T=d&&d.merge(C))&&(C=T,y?s.pop():f=f.slice(0,f.length-1)),s.push(C),n&&(l++,n=void 0),i||(d=C)}let m=l-r.depth;return m>SI&&(f=wI(f,m),l-=m),new Wa(f.append(s),l)}remapping(e,n){let r=new Ky;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new Wa(this.items.append(e.map(n=>new Kl(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,f=this.eventCount;this.items.forEach(C=>{C.selection&&f--},i);let d=n;this.items.forEach(C=>{let T=s.getMirror(--d);if(T==null)return;l=Math.min(l,T);let E=s.maps[T];if(C.step){let k=e.steps[T].invert(e.docs[T]),R=C.selection&&C.selection.map(s.slice(d+1,T));R&&f++,r.push(new Kl(E,k,R))}else r.push(new Kl(E))},i);let m=[];for(let C=n;C<l;C++)m.push(new Kl(s.maps[C]));let y=this.items.slice(0,i).append(m).append(r),x=new Wa(y,f);return x.emptyItemCount()>xI&&(x=x.compress(this.items.length-r.length)),x}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((l,f)=>{if(f>=e)i.push(l),l.selection&&s++;else if(l.step){let d=l.step.map(n.slice(r)),m=d&&d.getMap();if(r--,m&&n.appendMap(m,r),d){let y=l.selection&&l.selection.map(n.slice(r));y&&s++;let x=new Kl(m.invert(),d,y),C,T=i.length-1;(C=i.length&&i[T].merge(x))?i[T]=C:i.push(x)}}else l.map&&r--},this.items.length,0),new Wa(Ci.from(i.reverse()),s)}}Wa.empty=new Wa(Ci.empty,0);function wI(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Kl{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Kl(n.getMap().invert(),n,this.selection)}}}class af{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const SI=20;function CI(t,e,n,r){let i=n.getMeta(dh),s;if(i)return i.historyState;n.getMeta(OI)&&(t=new af(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(dh))return l.getMeta(dh).redo?new af(t.done.addTransform(n,void 0,r,R1(e)),t.undone,IT(n.mapping.maps),t.prevTime,t.prevComposition):new af(t.done,t.undone.addTransform(n,void 0,r,R1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let f=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=f&&(t.prevTime<(n.time||0)-r.newGroupDelay||!EI(n,t.prevRanges)),m=l?Ow(t.prevRanges,n.mapping):IT(n.mapping.maps);return new af(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,R1(e)),Wa.empty,m,n.time,f??t.prevComposition)}else return(s=n.getMeta("rebased"))?new af(t.done.rebased(n,s),t.undone.rebased(n,s),Ow(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new af(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ow(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function EI(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function IT(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,l)=>e.push(s,l));return e}function Ow(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function TI(t,e,n){let r=R1(e),i=dh.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),f=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),d=new af(n?f:s.remaining,n?s.remaining:f,null,0,-1);return s.transform.setSelection(l).setMeta(dh,{redo:n,historyState:d})}let Aw=!1,zT=null;function R1(t){let e=t.plugins;if(zT!=e){Aw=!1,zT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Aw=!0;break}}return Aw}const dh=new _s("history"),OI=new _s("closeHistory");function AI(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Fi({key:dh,state:{init(){return new af(Wa.empty,Wa.empty,null,0,-1)},apply(e,n,r){return CI(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?IM:r=="historyRedo"?zM:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function BM(t,e){return(n,r)=>{let i=dh.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=TI(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const IM=BM(!1,!0),zM=BM(!0,!0),kI=si.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>IM(t,e),redo:()=>({state:t,dispatch:e})=>zM(t,e)}},addProseMirrorPlugins(){return[AI(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),MI=Zo.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",to(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):lM(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:l,dispatch:f})=>{var d;if(f){const{$to:m}=l.selection,y=m.end();if(m.nodeAfter)m.nodeAfter.isTextblock?l.setSelection(Ut.create(l.doc,m.pos+1)):m.nodeAfter.isBlock?l.setSelection(Dt.create(l.doc,m.pos)):l.setSelection(Ut.create(l.doc,m.pos));else{const x=(d=m.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();x&&(l.insert(y,x),l.setSelection(Ut.create(l.doc,y+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[jN({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),DI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,RI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_I=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,NI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,LI=oc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[fm({find:DI,type:this.type}),fm({find:_I,type:this.type})]},addPasteRules(){return[dm({find:RI,type:this.type}),dm({find:NI,type:this.type})]}}),HM=Zo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",to(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),BI="listItem",HT="textStyle",PT=/^(\d+)\.\s$/,II=Zo.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",to(this.options.HTMLAttributes,n),0]:["ol",to(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BI,this.editor.getAttributes(HT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Xy({find:PT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Xy({find:PT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(HT)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),zI=Zo.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),HI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,PI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,FI=oc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",to(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[fm({find:HI,type:this.type})]},addPasteRules(){return[dm({find:PI,type:this.type})]}}),qI=Zo.create({name:"text",group:"inline"}),PM=si.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,l,f,d,m,y,x,C,T,E,k,R,H;const K=[];return this.options.bold!==!1&&K.push(QB.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&K.push(KB.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&K.push(JB.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&K.push(tI.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&K.push(iI.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&K.push(oI.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&K.push(lI.configure((l=this.options)===null||l===void 0?void 0:l.dropcursor)),this.options.gapcursor!==!1&&K.push(gI.configure((f=this.options)===null||f===void 0?void 0:f.gapcursor)),this.options.hardBreak!==!1&&K.push(yI.configure((d=this.options)===null||d===void 0?void 0:d.hardBreak)),this.options.heading!==!1&&K.push(vI.configure((m=this.options)===null||m===void 0?void 0:m.heading)),this.options.history!==!1&&K.push(kI.configure((y=this.options)===null||y===void 0?void 0:y.history)),this.options.horizontalRule!==!1&&K.push(MI.configure((x=this.options)===null||x===void 0?void 0:x.horizontalRule)),this.options.italic!==!1&&K.push(LI.configure((C=this.options)===null||C===void 0?void 0:C.italic)),this.options.listItem!==!1&&K.push(HM.configure((T=this.options)===null||T===void 0?void 0:T.listItem)),this.options.orderedList!==!1&&K.push(II.configure((E=this.options)===null||E===void 0?void 0:E.orderedList)),this.options.paragraph!==!1&&K.push(zI.configure((k=this.options)===null||k===void 0?void 0:k.paragraph)),this.options.strike!==!1&&K.push(FI.configure((R=this.options)===null||R===void 0?void 0:R.strike)),this.options.text!==!1&&K.push(qI.configure((H=this.options)===null||H===void 0?void 0:H.text)),K}}),FT=[{searchText:"heading1, 제목1, heading 1",label:"Heading 1",icon:"H1",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:1}).run()},isActive:t=>t.isActive("heading",{level:1}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:1}).run()},{searchText:"heading2, 제목2, heading 2",label:"Heading 2",icon:"H2",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:2}).run()},isActive:t=>t.isActive("heading",{level:2}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:2}).run()},{searchText:"heading3, 제목3, heading 3",label:"Heading 3",icon:"H3",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:3}).run()},isActive:t=>t.isActive("heading",{level:3}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:3}).run()},{searchText:"heading4, 제목4, heading 4",label:"Heading 4",icon:"H4",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:4}).run()},isActive:t=>t.isActive("heading",{level:4}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:4}).run()},{searchText:"heading5, 제목5, heading 5",label:"Heading 5",icon:"H5",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:5}).run()},isActive:t=>t.isActive("heading",{level:5}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:5}).run()},{searchText:"heading6, 제목6, heading 6",label:"Heading 6",icon:"H6",action:t=>{Ua(t),t.chain().focus().toggleHeading({level:6}).run()},isActive:t=>t.isActive("heading",{level:6}),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleHeading({level:6}).run()},{searchText:"bulletlist, bullet, list, 리스트",label:"Bullet List",icon:"•",action:t=>{Ua(t),t.chain().focus().toggleBulletList().run()},isActive:t=>t.isActive("bulletList"),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleBulletList().run()},{searchText:"orderedlist, ordered, list, 리스트, 숫자, 순서",label:"Ordered List",icon:"1.",action:t=>{Ua(t),t.chain().focus().toggleOrderedList().run()},isActive:t=>t.isActive("orderedList"),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleOrderedList().run()},{searchText:"codeblock, code, 코드, 코드블럭, 코드 블럭",label:"Code Block",icon:"</>",action:t=>{Ua(t),t.chain().focus().toggleCodeBlock().run()},isActive:t=>t.isActive("codeBlock"),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleCodeBlock().run()},{searchText:"blockquote, block, quote, 인용문",label:"Blockquote",icon:"❝",action:t=>{Ua(t),t.chain().focus().toggleBlockquote().run()},isActive:t=>t.isActive("blockquote"),canExecute:t=>t==null?void 0:t.can().chain().focus().toggleBlockquote().run()},{searchText:"horizontalrule, horizontal, rule, 경계선, 수평선, 구분선",label:"Horizontal Rule",icon:"---",action:t=>{Ua(t),t.chain().focus().setHorizontalRule().run()},isActive:()=>!1,canExecute:t=>t==null?void 0:t.can().chain().focus().setHorizontalRule().run()}];function Ua(t){const{$from:e}=t.state.selection,n=e.start(),r=e.end();t.commands.deleteRange({from:n,to:r})}const h1={container:t=>({width:"150px",minHeight:"40px",maxHeight:"200px",border:`1px solid ${t.colors.border.gray}`,borderRadius:t.radius.small,backgroundColor:t.colors.background.deep,overflowY:"scroll",overflowX:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","::-webkit-scrollbar":{display:"none"},boxShadow:t.shadow.small,zIndex:9999}),item:t=>({width:"100%",height:"40px",cursor:"pointer",border:"none",borderBottom:`1px solid ${t.colors.border.gray}`,color:t.colors.text.primary,backgroundColor:t.colors.background.deep,"&:hover":{backgroundColor:t.colors.primary.light,color:"white"},textAlign:"left",padding:"0 10px",zIndex:9999}),itemActive:t=>({width:"100%",height:"40px",cursor:"pointer",backgroundColor:t.colors.primary.light,color:"white",border:"none",textAlign:"left",padding:"0 10px"}),icon:t=>({display:"inline-block",width:"20px",color:t.colors.text.primary,fontWeight:"bold",marginRight:"5px"})};function UI({editor:t}){const[e,n]=F.useState(FT),[r,i]=F.useState(-1),[s,l]=F.useState(!1),f=F.useRef([]),d=es(),m=y=>{const x=FT.filter(C=>C.searchText.includes(y));n(x),x.length===0?i(-1):i(0)};return F.useEffect(()=>{const y=C=>{var T;s&&(["ArrowUp","ArrowDown"].includes(C.key)?(C.preventDefault(),C.key==="ArrowUp"?i(E=>E>0?E-1:e.length-1):C.key==="ArrowDown"&&i(E=>E<e.length-1?E+1:0)):C.key==="Enter"&&t?(C.preventDefault(),C.stopPropagation(),(T=e[r])==null||T.action(t),l(!1)):C.key==="Escape"&&(C.preventDefault(),C.stopPropagation(),l(!1)))},x=t==null?void 0:t.view.props.handleKeyDown;return t==null||t.view.setProps({handleKeyDown(C,T){return y(T),s&&(T.key==="Enter"||T.key==="Escape")?!0:(x==null?void 0:x(C,T))||!1}}),()=>{t!=null&&t.view&&t.view.setProps({handleKeyDown:x||void 0})}},[s,r,e,t]),F.useEffect(()=>{const y=f.current[r];y&&y.scrollIntoView({block:"nearest",behavior:"smooth"})},[r]),L(ru,{children:t&&L(qB,{editor:t,shouldShow:({state:y})=>{const{$from:x}=y.selection,C=x.parent.textBetween(0,x.parentOffset,void 0,"");if(/^\/[^\s]*$/.test(C)){const T=C.slice(1);m(T)}return i(0),l(/^\/[^\s]*$/.test(C)),/^\/[^\s]*$/.test(C)},tippyOptions:{duration:100,placement:"bottom",offset:[100,5],zIndex:9999},children:L("div",{css:{...h1.container(d)},children:e.map((y,x)=>Qe("button",{ref:C=>{f.current[x]=C},css:r===x?h1.itemActive(d):h1.item(d),onClick:()=>{y.action(t),i(x),l(!1)},children:[L("span",{css:h1.icon,children:y==null?void 0:y.icon}),y.label]},x))})})})}const VI=si.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Fi({key:new _s("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,f)=>{const d=r>=f&&r<=f+l.nodeSize,m=!l.isLeaf&&Nb(l);if((d||!this.options.showOnlyCurrent)&&m){const y=[this.options.emptyNodeClass];s&&y.push(this.options.emptyEditorClass);const x=ks.node(f,f+l.nodeSize,{class:y.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:f,hasAnchor:d}):this.options.placeholder});i.push(x)}return this.options.includeChildren}),Yr.create(t,i)}}})]}}),p1={container:t=>({display:"flex",gap:"10px",padding:"5px",border:`1px solid ${t.colors.border.gray}`,borderRadius:"8px",backgroundColor:t.colors.background.deep,boxShadow:t.shadow.medium}),button:t=>({cursor:"pointer",padding:"5px 10px",border:"none",borderRadius:"4px",color:t.colors.text.primary,backgroundColor:t.colors.background.gray,"&:hover":{backgroundColor:t.colors.primary.light}})};function jI({editor:t}){if(!t)return null;const e=n=>{switch(n){case"bold":t.chain().focus().toggleBold().run();break;case"italic":t.chain().focus().toggleItalic().run();break;case"strike":t.chain().focus().toggleStrike().run();break}};return L(FB,{editor:t,tippyOptions:{duration:100,placement:"top"},children:Qe("div",{css:p1.container,children:[L("button",{css:p1.button,onClick:()=>e("bold"),children:"Bold"}),L("button",{css:p1.button,onClick:()=>e("italic"),children:"Italic"}),L("button",{css:p1.button,onClick:()=>e("strike"),children:"Strike"})]})})}const qT={".ProseMirror":{},".tiptap p.is-editor-empty:first-child::before":{color:"#adb5bd",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},".tiptap p.is-empty::before":{color:"#adb5bd",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},".tiptap":{outline:"none",ul:{padding:"0 1rem",margin:"0.3rem 0",li:{marginBottom:"0rem",p:{marginBottom:"0em"}}},ol:{padding:"0 1.5rem",margin:"0.3rem 0",li:{marginBottom:"0rem",p:{marginTop:"0em",marginBottom:"0em"}}},h1:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.8rem"},h2:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.6rem"},h3:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.4rem"},h4:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.2rem"},h5:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.1rem"},h6:{lineHeight:1.3,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1rem"},p:{fontSize:"0.9rem",lineHeight:"1.5",marginTop:"0rem",marginBottom:"0rem"},code:{backgroundColor:"#c3c2c2",borderRadius:"0.4rem",fontSize:"0.75rem",padding:"0.2em 0.25em",color:"#000"},pre:{backgroundColor:"#c3c2c2",borderRadius:"0.4rem",fontFamily:"'JetBrainsMono', monospace",margin:"0.8rem 0",padding:"0.6rem 0.8rem",code:{background:"none",fontSize:"0.7rem",padding:0}},blockquote:{borderLeft:"2px solid #ddd",margin:"1rem 0",paddingLeft:"0.8rem",lineHeight:"1.5"},hr:{border:"none",borderTop:"1px solid #ddd",margin:"1rem 0"}}},KI={".ProseMirror":{},".tiptap p.is-editor-empty:first-child::before":{color:"#adb5bd",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},".tiptap p.is-empty::before":{color:"#adb5bd",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},".tiptap":{outline:"none",fontSize:"0.3rem",lineHeight:"1.6",ul:{padding:"0 0.5rem",margin:"0.5rem 0",listStylePosition:"outside",li:{marginBottom:"0.3rem",lineHeight:"1.6"}},ol:{padding:"0 0.5rem",margin:"0.5rem 0",listStylePosition:"outside",li:{marginBottom:"0.3rem",lineHeight:"1.6"}},p:{fontSize:"0.3rem",marginTop:"0.3rem",marginBottom:"0.3rem",lineHeight:"1.6"},h1:{lineHeight:1.2,marginTop:"0.4rem",marginBottom:"0.25rem",fontSize:"0.35rem"},h2:{lineHeight:1.2,marginTop:"0.25rem",marginBottom:"0.2rem",fontSize:"0.3rem"},h3:{lineHeight:1.2,marginTop:"0.2rem",fontSize:"0.275rem"},h4:{lineHeight:1.2,marginTop:"0.2rem",fontSize:"0.25rem"},h5:{lineHeight:1.2,marginTop:"0.2rem",fontSize:"0.25rem"},h6:{lineHeight:1.2,marginTop:"0.2rem",fontSize:"0.25rem"},code:{backgroundColor:"#c3c2c2",borderRadius:"0.1rem",fontSize:"0.2rem",padding:"0.05em 0.075em",color:"#000"},pre:{backgroundColor:"#c3c2c2",borderRadius:"0.1rem",fontFamily:"'JetBrainsMono', monospace",margin:"0.125rem 0",padding:"0.125rem 0.2rem",code:{background:"none",fontSize:"0.2rem",padding:0}},blockquote:{borderLeft:"0.5px solid #ddd",margin:"0.25rem 0",paddingLeft:"0.2rem",fontSize:"0.3rem"},hr:{border:"none",borderTop:"0.5px solid #ddd",margin:"0.375rem 0"}}},FM={position:"relative",padding:"8px",borderRadius:"5px"},$I={...FM,backgroundColor:"inherit",border:"none"};function YC({value:t,setValue:e,readOnly:n=!1,minHeight:r=""}){const i=PB({extensions:[PM,VI.configure({placeholder:"' / ' 를 입력하여 옵션 열기"})],content:t,onUpdate:({editor:l})=>{e(l.getHTML())},editable:!n}),s=es();return F.useEffect(()=>{i&&i.getHTML()!==t&&i.commands.setContent(t)},[t,i]),L("div",{css:{...n?KI:{...qT,...r?{".ProseMirror":{...qT[".ProseMirror"],minHeight:r,color:s.colors.text.primary}}:{}}},children:Qe("div",{css:{...FM,...n?$I:{}},children:[L(MB,{editor:i}),n?null:L(UI,{editor:i}),n?null:L(jI,{editor:i})]})})}const YI=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),l=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${s}`)})},UT=oc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&YI(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",to(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),GI=si.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});GI.configure({types:[UT.name,HM.name]}),PM.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}});function qM({value:t,onChange:e}){const{data:n}=o_(),{mutate:r}=i_(),{mutate:i}=r_();return L(DO,{labels:n||[],selectedLabel:t||void 0,onAddLabel:s=>{i({name:s.name,color:s.color,order:0})},onSelectLabel:s=>{e(s)},onDeleteLabel:s=>{r(s)},onCancelLabel:()=>{e(null)}})}function UM({data:t}){const{container:e,label:n,input:r}=K4,i=es(),{register:s,control:l,isDone:f}=G4(t);return Qe("div",{css:e,children:[Qe("label",{htmlFor:`todo-${t.id}`,css:n,children:[L(uf,{name:"isDone",control:l,defaultValue:!1,render:({field:d})=>L(VS,{checked:d.value,onChange:m=>d.onChange(m.target.checked)})}),L("input",{id:`todo-${t.id}`,css:r(f),type:"text",...s("title")}),L(uf,{name:"isImportant",control:l,defaultValue:0,render:({field:d})=>L(f0,{checked:d.value,onChange:()=>d.onChange(d.value===0?1:0)})})]}),L(uf,{name:"sub",control:l,defaultValue:"[]",render:({field:d})=>L(Z4,{data:d.value||"[]",onChange:d.onChange})}),L(uf,{name:"label",control:l,render:({field:d})=>L(qM,{value:d.value,onChange:m=>{d.onChange(m)}})}),L(uf,{name:"memo",control:l,defaultValue:"",render:({field:d})=>L("div",{css:{color:i.colors.text.primary,borderRadius:"5px"},children:L(YC,{value:d.value||"",setValue:d.onChange})})})]})}const WI={container:()=>({display:"flex",flexDirection:"column"})},Ib={ms:290,s:.3};var S0=(t=>(t.NOTE="NOTE",t.TODO="TODO",t))(S0||{});const el=cu(t=>({title:"",content:void 0,footerText:void 0,itemId:null,type:null,onDelete:void 0,isOpen:!1,isCloseStart:!1,open:({title:e,itemId:n,type:r,content:i,onDelete:s})=>t(()=>({title:e,content:i,itemId:n,type:r,onDelete:s,isOpen:!0,isCloseStart:!1})),close:()=>{t({isCloseStart:!0}),setTimeout(()=>{t(()=>({isOpen:!1,itemId:null,isCloseStart:!1}))},Ib.ms)}})),QI=t=>ts`
  from {
    backdrop-filter: blur(0);
    Webkitbackdrop-filter: blur(0);
    background-color: rgba(0, 0, 0, 0);
  }
  to {
    backdrop-filter: blur(5px);
    Webkitbackdrop-filter: blur(5px);
    background-color: ${t.colors.background.backdrop};
  }
`,XI=t=>ts`
  from {
    backdrop-filter: blur(5px);
    Webkitbackdrop-filter: blur(5px);
    background-color: ${t.colors.background.backdrop};
  }
  to {
    backdrop-filter: blur(0);
    Webkitbackdrop-filter: blur(0);
    background-color: rgba(0, 0, 0, 0);
  }
`,JI=(t,e)=>({animation:`${t?XI(e):QI(e)} ${Ib.s}s forwards ease-in-out`}),ZI=t=>e=>({position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,backgroundColor:e.colors.background.backdrop,...JI(t,e)});function ez({onClick:t}){const{isCloseStart:e}=el(n=>n);return L("div",{css:ZI(e),onClick:t})}const tz=t=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 5px 0 15px",width:"100%",height:"40px",borderBottom:`1px solid ${t.colors.border.gray}`,"& > h4":{margin:0,fontSize:t.typography.size.medium,color:t.colors.text.primary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),nz=t=>({backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:t.typography.size.large,color:t.colors.text.secondary,borderRadius:t.radius.medium,transition:"color 0s","&:hover":{backgroundColor:t.colors.background.hover,color:t.colors.text.primary,transition:"color 0s"},"& > svg":{transition:"color 0s"},"&:hover > svg":{transition:"color 0s"}});function rz({title:t}){const{close:e}=el(n=>n);return Qe("div",{css:tz,children:[L("h4",{children:t}),L("button",{css:nz,onClick:e,children:L(x9,{color:"currentColor"})})]})}const iz=ts`
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
`,oz=ts`
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(100%);
  }
`,sz={width:"100%",height:"calc(100vh)",padding:"10px",paddingLeft:0,zIndex:3e3},az=t=>({backgroundColor:t.colors.background.deep,boxShadow:t.shadow.large,borderRadius:t.radius.medium,height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",zIndex:3e3,".content":{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",overflow:"auto"},".footer":{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"10px","& span":{fontSize:t.typography.size.small,color:t.colors.text.secondary}}}),lz=t=>({border:"none",backgroundColor:"transparent",color:t.colors.text.secondary,cursor:"pointer",borderRadius:t.radius.small,transition:"color 0s","&:hover":{transition:"color 0s",color:t.colors.important.heigh,backgroundColor:t.colors.background.hover}}),uz=t=>({animation:`${t?oz:iz} ${Ib.s}s forwards ease-in-out`});function cz({children:t}){const{isCloseStart:e,title:n,onDelete:r,close:i}=el(s=>s);return L("div",{css:{...sz,...uz(e)},children:Qe("div",{css:az,children:[L(rz,{title:n}),L("div",{className:"content",children:t}),Qe("div",{className:"footer",children:[L("div",{}),r&&L("button",{css:lz,onClick:async()=>{await r(),i()},children:L(FS,{})})]})]})})}const fz=ts`
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
`,dz=ts`
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
`,hz=t=>({animation:`${t?dz:fz} ${Ib.s}s forwards ease-in-out`}),pz={width:"100%",height:"100%"};function mz({children:t}){const{isCloseStart:e}=el();return L("div",{css:{...pz,...hz(e)},children:t})}function gz(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),f=(s=n.getItem(i))!=null?s:null;return f instanceof Promise?f.then(l):l(f)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const OS=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return OS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return OS(r)(n)}}}},yz=(t,e)=>(n,r,i)=>{let s={storage:gz(()=>localStorage),partialize:k=>k,version:0,merge:(k,R)=>({...R,...k}),...e},l=!1;const f=new Set,d=new Set;let m=s.storage;if(!m)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...k)},r,i);const y=()=>{const k=s.partialize({...r()});return m.setItem(s.name,{state:k,version:s.version})},x=i.setState;i.setState=(k,R)=>{x(k,R),y()};const C=t((...k)=>{n(...k),y()},r,i);i.getInitialState=()=>C;let T;const E=()=>{var k,R;if(!m)return;l=!1,f.forEach(K=>{var Y;return K((Y=r())!=null?Y:C)});const H=((R=s.onRehydrateStorage)==null?void 0:R.call(s,(k=r())!=null?k:C))||void 0;return OS(m.getItem.bind(m))(s.name).then(K=>{if(K)if(typeof K.version=="number"&&K.version!==s.version){if(s.migrate){const Y=s.migrate(K.state,K.version);return Y instanceof Promise?Y.then(U=>[!0,U]):[!0,Y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,K.state];return[!1,void 0]}).then(K=>{var Y;const[U,G]=K;if(T=s.merge(G,(Y=r())!=null?Y:C),n(T,!0),U)return y()}).then(()=>{H==null||H(T,void 0),T=r(),l=!0,d.forEach(K=>K(T))}).catch(K=>{H==null||H(void 0,K)})};return i.persist={setOptions:k=>{s={...s,...k},k.storage&&(m=k.storage)},clearStorage:()=>{m==null||m.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>E(),hasHydrated:()=>l,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(d.add(k),()=>{d.delete(k)})},s.skipHydration||E(),T||C},zb=yz,vz=cu()(zb(t=>({leftWidth:50,setLeftWidth:e=>t(()=>({leftWidth:e}))}),{name:"split-resize-storage"})),bz=()=>{const{leftWidth:t,setLeftWidth:e}=vz(),n=F.useRef(null),r=F.useRef(!1),i=()=>{r.current=!0,document.body.style.userSelect="none"};return F.useEffect(()=>{const s=f=>{if(!r.current||!n.current)return;const d=n.current.getBoundingClientRect(),y=(f.clientX-d.left)/d.width*100;y>=30&&y<=70&&e(y)},l=()=>{r.current=!1,document.body.style.userSelect="auto"};return window.addEventListener("mousemove",s),window.addEventListener("mouseup",l),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)}},[]),{leftWidth:t,containerRef:n,handleMouseDown:i}},xz=()=>{const{close:t}=el();F.useEffect(()=>{const e=n=>{n.key==="Escape"&&(n.stopPropagation(),n.preventDefault(),t())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])};function wz({task:t}){const{isOpen:e,content:n,close:r}=el(),i=es();xz();const{containerRef:s,leftWidth:l,handleMouseDown:f}=bz();return L(ru,{children:wf.createPortal(L(ru,{children:e&&Qe(ru,{children:[L(ez,{onClick:r}),Qe("div",{ref:s,css:{position:"fixed",top:0,right:0,zIndex:3e3,width:"100vw",height:"100vh",display:"grid",gridTemplateColumns:`${l}% 10px calc(${100-l}% - 10px)`,gridTemplateRows:"1fr",placeItems:"center"},children:[L("div",{css:{width:"100%",height:"100%",position:"relative"},children:L(mz,{children:t})}),L("div",{css:{display:"flex",justifyContent:"center",alignItems:"center",width:"10px",height:"100%",":hover":{backgroundColor:i.colors.background.hover,"& .split-modal-resize-handle":{opacity:.8},cursor:"ew-resize"}},onMouseDown:f,children:L("div",{className:"split-modal-resize-handle",css:{opacity:0,width:"3px",borderRadius:"3px",height:"calc(100% - 20px)",backgroundColor:i.colors.primary.light}})}),L("div",{css:{width:"100%",height:"100%",position:"relative"},children:L(cz,{children:n})})]})]})}),document.body)})}const VM=()=>{const t=el(i=>i.open),{mutate:e}=$O(),n=i=>async()=>{await e(i)};return{openTodoSplitModal:i=>()=>{const{title:s}=i;t({title:`TODO > ${s}`,itemId:i.id,type:S0.TODO,content:Bt.jsx(UM,{data:i}),onDelete:n(i.id)})}}};function ym({todoList:t}){const{openTodoSplitModal:e}=VM(),{container:n}=WI,r=t==null?void 0:t.filter(s=>!s.isDone),i=t==null?void 0:t.filter(s=>s.isDone);return Qe("div",{css:n,children:[r==null?void 0:r.map(s=>L(U1,{data:s,onClick:e(s)},s.id)),i==null?void 0:i.map(s=>L(U1,{data:s,onClick:e(s)},s.id))]})}async function Sz(){return await eo.getInstance().getCountAll()}async function Cz(){return await eo.getInstance().getAllByIsDone()}async function Ez(t){return await eo.getInstance().getAllByCateId(t)}async function Tz(t){return await eo.getInstance().getCountAllByCateId(t)}async function Oz(t){return await eo.getInstance().getAllByCateIdAndIsDone(t)}async function Az(){return await eo.getInstance().getAllByImportant()}async function kz(){return await eo.getInstance().getCountAllByImportant()}async function Mz(){return await eo.getInstance().getAllByImportantAndIsDone()}async function Dz(){return await eo.getInstance().getAllByIsToday()}async function Rz(){return await eo.getInstance().getCountAllByIsToday()}const GC="done",jM=()=>Ti({queryFn:()=>Sz(),queryKey:[Pi,"allCount"]}),_z=t=>Ti({queryFn:()=>Ez(t),queryKey:[Pi,t],enabled:t!==void 0}),Nz=t=>Ti({queryFn:()=>Tz(t),queryKey:[Pi,"cateCount",t],enabled:t!==void 0}),Lz=t=>Ti({queryFn:()=>Oz(t),queryKey:[GC,t]}),Bz=()=>Ti({queryFn:()=>Mz(),queryKey:[GC]}),Iz=()=>Ti({queryFn:()=>Az(),queryKey:[Pi,"important"]}),KM=()=>Ti({queryFn:()=>kz(),queryKey:[Pi,"importantCount"]}),zz=()=>Ti({queryFn:()=>Dz(),queryKey:[Pi,"today"]}),$M=()=>Ti({queryFn:()=>Rz(),queryKey:[Pi,"todayCount"]}),Hz=()=>Ti({queryFn:()=>Cz(),queryKey:[GC]});function Pz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return F.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Am(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function WC(t){return"nodeType"in t}function ns(t){var e,n;return t?Am(t)?t:WC(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function QC(t){const{Document:e}=ns(t);return t instanceof e}function C0(t){return Am(t)?!1:t instanceof ns(t).HTMLElement}function YM(t){return t instanceof ns(t).SVGElement}function km(t){return t?Am(t)?t.document:WC(t)?QC(t)?t:C0(t)||YM(t)?t.ownerDocument:document:document:document}const uu=Hb?F.useLayoutEffect:F.useEffect;function XC(t){const e=F.useRef(t);return uu(()=>{e.current=t}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Fz(){const t=F.useRef(null),e=F.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=F.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function e0(t,e){e===void 0&&(e=[t]);const n=F.useRef(t);return uu(()=>{n.current!==t&&(n.current=t)},e),n}function E0(t,e){const n=F.useRef();return F.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function ab(t){const e=XC(t),n=F.useRef(null),r=F.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function AS(t){const e=F.useRef();return F.useEffect(()=>{e.current=t},[t]),e.current}let kw={};function T0(t,e){return F.useMemo(()=>{if(e)return e;const n=kw[t]==null?0:kw[t]+1;return kw[t]=n,t+"-"+n},[t,e])}function GM(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const f=Object.entries(l);for(const[d,m]of f){const y=s[d];y!=null&&(s[d]=y+t*m)}return s},{...e})}}const Kp=GM(1),lb=GM(-1);function qz(t){return"clientX"in t&&"clientY"in t}function JC(t){if(!t)return!1;const{KeyboardEvent:e}=ns(t.target);return e&&t instanceof e}function Uz(t){if(!t)return!1;const{TouchEvent:e}=ns(t.target);return e&&t instanceof e}function kS(t){if(Uz(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return qz(t)?{x:t.clientX,y:t.clientY}:null}const t0=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[t0.Translate.toString(t),t0.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),VT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vz(t){return t.matches(VT)?t:t.querySelector(VT)}const jz={display:"none"};function Kz(t){let{id:e,value:n}=t;return gt.createElement("div",{id:e,style:jz},n)}function $z(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gt.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Yz(){const[t,e]=F.useState("");return{announce:F.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const WM=F.createContext(null);function Gz(t){const e=F.useContext(WM);F.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Wz(){const[t]=F.useState(()=>new Set),e=F.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[F.useCallback(r=>{let{type:i,event:s}=r;t.forEach(l=>{var f;return(f=l[i])==null?void 0:f.call(l,s)})},[t]),e]}const Qz={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Xz={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Jz(t){let{announcements:e=Xz,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Qz}=t;const{announce:s,announcement:l}=Yz(),f=T0("DndLiveRegion"),[d,m]=F.useState(!1);if(F.useEffect(()=>{m(!0)},[]),Gz(F.useMemo(()=>({onDragStart(x){let{active:C}=x;s(e.onDragStart({active:C}))},onDragMove(x){let{active:C,over:T}=x;e.onDragMove&&s(e.onDragMove({active:C,over:T}))},onDragOver(x){let{active:C,over:T}=x;s(e.onDragOver({active:C,over:T}))},onDragEnd(x){let{active:C,over:T}=x;s(e.onDragEnd({active:C,over:T}))},onDragCancel(x){let{active:C,over:T}=x;s(e.onDragCancel({active:C,over:T}))}}),[s,e])),!d)return null;const y=gt.createElement(gt.Fragment,null,gt.createElement(Kz,{id:r,value:i.draggable}),gt.createElement($z,{id:f,announcement:l}));return n?wf.createPortal(y,n):y}var ii;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ii||(ii={}));function ub(){}function Zz(t,e){return F.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function eH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return F.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Ja=Object.freeze({x:0,y:0});function tH(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function nH(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function rH(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),l=i-r,f=s-n;if(r<i&&n<s){const d=e.width*e.height,m=t.width*t.height,y=l*f,x=y/(d+m-y);return Number(x.toFixed(4))}return 0}const iH=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:l}=s,f=n.get(l);if(f){const d=rH(f,e);d>0&&i.push({id:l,data:{droppableContainer:s,value:d}})}}return i.sort(tH)};function oH(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function QM(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ja}function sH(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,f)=>({...l,top:l.top+t*f.y,bottom:l.bottom+t*f.y,left:l.left+t*f.x,right:l.right+t*f.x}),{...n})}}const aH=sH(1);function lH(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function uH(t,e,n){const r=lH(e);if(!r)return t;const{scaleX:i,scaleY:s,x:l,y:f}=r,d=t.left-l-(1-i)*parseFloat(n),m=t.top-f-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),y=i?t.width/i:t.width,x=s?t.height/s:t.height;return{width:y,height:x,top:m,right:d+y,bottom:m+x,left:d}}const cH={ignoreTransform:!1};function Mm(t,e){e===void 0&&(e=cH);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:y}=ns(t).getComputedStyle(t);m&&(n=uH(n,m,y))}const{top:r,left:i,width:s,height:l,bottom:f,right:d}=n;return{top:r,left:i,width:s,height:l,bottom:f,right:d}}function jT(t){return Mm(t,{ignoreTransform:!0})}function fH(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function dH(t,e){return e===void 0&&(e=ns(t).getComputedStyle(t)),e.position==="fixed"}function hH(t,e){e===void 0&&(e=ns(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function ZC(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(QC(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!C0(i)||YM(i)||n.includes(i))return n;const s=ns(t).getComputedStyle(i);return i!==t&&hH(i,s)&&n.push(i),dH(i,s)?n:r(i.parentNode)}return t?r(t):n}function XM(t){const[e]=ZC(t,1);return e??null}function Mw(t){return!Hb||!t?null:Am(t)?t:WC(t)?QC(t)||t===km(t).scrollingElement?window:C0(t)?t:null:null}function JM(t){return Am(t)?t.scrollX:t.scrollLeft}function ZM(t){return Am(t)?t.scrollY:t.scrollTop}function MS(t){return{x:JM(t),y:ZM(t)}}var xi;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(xi||(xi={}));function e3(t){return!Hb||!t?!1:t===document.scrollingElement}function t3(t){const e={x:0,y:0},n=e3(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,f=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:f,maxScroll:r,minScroll:e}}const pH={x:.2,y:.2};function mH(t,e,n,r,i){let{top:s,left:l,right:f,bottom:d}=n;r===void 0&&(r=10),i===void 0&&(i=pH);const{isTop:m,isBottom:y,isLeft:x,isRight:C}=t3(t),T={x:0,y:0},E={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!m&&s<=e.top+k.height?(T.y=xi.Backward,E.y=r*Math.abs((e.top+k.height-s)/k.height)):!y&&d>=e.bottom-k.height&&(T.y=xi.Forward,E.y=r*Math.abs((e.bottom-k.height-d)/k.height)),!C&&f>=e.right-k.width?(T.x=xi.Forward,E.x=r*Math.abs((e.right-k.width-f)/k.width)):!x&&l<=e.left+k.width&&(T.x=xi.Backward,E.x=r*Math.abs((e.left+k.width-l)/k.width)),{direction:T,speed:E}}function gH(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function n3(t){return t.reduce((e,n)=>Kp(e,MS(n)),Ja)}function yH(t){return t.reduce((e,n)=>e+JM(n),0)}function vH(t){return t.reduce((e,n)=>e+ZM(n),0)}function bH(t,e){if(e===void 0&&(e=Mm),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);XM(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const xH=[["x",["left","right"],yH],["y",["top","bottom"],vH]];class e2{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ZC(n),i=n3(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,f]of xH)for(const d of l)Object.defineProperty(this,d,{get:()=>{const m=f(r),y=i[s]-m;return this.rect[d]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ny{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function wH(t){const{EventTarget:e}=ns(t);return t instanceof e?t:km(t)}function Dw(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ia;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ia||(ia={}));function KT(t){t.preventDefault()}function SH(t){t.stopPropagation()}var Ln;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ln||(Ln={}));const r3={start:[Ln.Space,Ln.Enter],cancel:[Ln.Esc],end:[Ln.Space,Ln.Enter,Ln.Tab]},CH=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ln.Right:return{...n,x:n.x+25};case Ln.Left:return{...n,x:n.x-25};case Ln.Down:return{...n,y:n.y+25};case Ln.Up:return{...n,y:n.y-25}}};class i3{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ny(km(n)),this.windowListeners=new Ny(ns(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ia.Resize,this.handleCancel),this.windowListeners.add(ia.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ia.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&bH(r),n(Ja)}handleKeyDown(e){if(JC(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=r3,coordinateGetter:l=CH,scrollBehavior:f="smooth"}=i,{code:d}=e;if(s.end.includes(d)){this.handleEnd(e);return}if(s.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=r.current,y=m?{x:m.left,y:m.top}:Ja;this.referenceCoordinates||(this.referenceCoordinates=y);const x=l(e,{active:n,context:r.current,currentCoordinates:y});if(x){const C=lb(x,y),T={x:0,y:0},{scrollableAncestors:E}=r.current;for(const k of E){const R=e.code,{isTop:H,isRight:K,isLeft:Y,isBottom:U,maxScroll:G,minScroll:re}=t3(k),de=gH(k),we={x:Math.min(R===Ln.Right?de.right-de.width/2:de.right,Math.max(R===Ln.Right?de.left:de.left+de.width/2,x.x)),y:Math.min(R===Ln.Down?de.bottom-de.height/2:de.bottom,Math.max(R===Ln.Down?de.top:de.top+de.height/2,x.y))},fe=R===Ln.Right&&!K||R===Ln.Left&&!Y,Me=R===Ln.Down&&!U||R===Ln.Up&&!H;if(fe&&we.x!==x.x){const et=k.scrollLeft+C.x,Ve=R===Ln.Right&&et<=G.x||R===Ln.Left&&et>=re.x;if(Ve&&!C.y){k.scrollTo({left:et,behavior:f});return}Ve?T.x=k.scrollLeft-et:T.x=R===Ln.Right?k.scrollLeft-G.x:k.scrollLeft-re.x,T.x&&k.scrollBy({left:-T.x,behavior:f});break}else if(Me&&we.y!==x.y){const et=k.scrollTop+C.y,Ve=R===Ln.Down&&et<=G.y||R===Ln.Up&&et>=re.y;if(Ve&&!C.x){k.scrollTo({top:et,behavior:f});return}Ve?T.y=k.scrollTop-et:T.y=R===Ln.Down?k.scrollTop-G.y:k.scrollTop-re.y,T.y&&k.scrollBy({top:-T.y,behavior:f});break}}this.handleMove(e,Kp(lb(x,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}i3.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=r3,onActivation:i}=e,{active:s}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const f=s.activatorNode.current;return f&&t.target!==f?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function $T(t){return!!(t&&"distance"in t)}function YT(t){return!!(t&&"delay"in t)}class t2{constructor(e,n,r){var i;r===void 0&&(r=wH(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:l}=s;this.props=e,this.events=n,this.document=km(l),this.documentListeners=new Ny(this.document),this.listeners=new Ny(r),this.windowListeners=new Ny(ns(l)),this.initialCoordinates=(i=kS(s))!=null?i:Ja,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ia.Resize,this.handleCancel),this.windowListeners.add(ia.DragStart,KT),this.windowListeners.add(ia.VisibilityChange,this.handleCancel),this.windowListeners.add(ia.ContextMenu,KT),this.documentListeners.add(ia.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(YT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if($T(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ia.Click,SH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ia.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:f}}=s;if(!i)return;const d=(n=kS(e))!=null?n:Ja,m=lb(i,d);if(!r&&f){if($T(f)){if(f.tolerance!=null&&Dw(m,f.tolerance))return this.handleCancel();if(Dw(m,f.distance))return this.handleStart()}if(YT(f)&&Dw(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ln.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const EH={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class n2 extends t2{constructor(e){const{event:n}=e,r=km(n.target);super(e,EH,r)}}n2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const TH={move:{name:"mousemove"},end:{name:"mouseup"}};var DS;(function(t){t[t.RightClick=2]="RightClick"})(DS||(DS={}));class OH extends t2{constructor(e){super(e,TH,km(e.event.target))}}OH.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===DS.RightClick?!1:(r==null||r({event:n}),!0)}}];const Rw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class AH extends t2{constructor(e){super(e,Rw)}static setup(){return window.addEventListener(Rw.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rw.move.name,e)};function e(){}}}AH.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Ly;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ly||(Ly={}));var cb;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(cb||(cb={}));function kH(t){let{acceleration:e,activator:n=Ly.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:f=cb.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:y,delta:x,threshold:C}=t;const T=DH({delta:x,disabled:!s}),[E,k]=Fz(),R=F.useRef({x:0,y:0}),H=F.useRef({x:0,y:0}),K=F.useMemo(()=>{switch(n){case Ly.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ly.DraggableRect:return i}},[n,i,d]),Y=F.useRef(null),U=F.useCallback(()=>{const re=Y.current;if(!re)return;const de=R.current.x*H.current.x,we=R.current.y*H.current.y;re.scrollBy(de,we)},[]),G=F.useMemo(()=>f===cb.TreeOrder?[...m].reverse():m,[f,m]);F.useEffect(()=>{if(!s||!m.length||!K){k();return}for(const re of G){if((r==null?void 0:r(re))===!1)continue;const de=m.indexOf(re),we=y[de];if(!we)continue;const{direction:fe,speed:Me}=mH(re,we,K,e,C);for(const et of["x","y"])T[et][fe[et]]||(Me[et]=0,fe[et]=0);if(Me.x>0||Me.y>0){k(),Y.current=re,E(U,l),R.current=Me,H.current=fe;return}}R.current={x:0,y:0},H.current={x:0,y:0},k()},[e,U,r,k,s,l,JSON.stringify(K),JSON.stringify(T),E,m,G,y,JSON.stringify(C)])}const MH={x:{[xi.Backward]:!1,[xi.Forward]:!1},y:{[xi.Backward]:!1,[xi.Forward]:!1}};function DH(t){let{delta:e,disabled:n}=t;const r=AS(e);return E0(i=>{if(n||!r||!i)return MH;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[xi.Backward]:i.x[xi.Backward]||s.x===-1,[xi.Forward]:i.x[xi.Forward]||s.x===1},y:{[xi.Backward]:i.y[xi.Backward]||s.y===-1,[xi.Forward]:i.y[xi.Forward]||s.y===1}}},[n,e,r])}function RH(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return E0(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function _H(t,e){return F.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...s]},[]),[t,e])}var n0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(n0||(n0={}));var RS;(function(t){t.Optimized="optimized"})(RS||(RS={}));const GT=new Map;function NH(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,l]=F.useState(null),{frequency:f,measure:d,strategy:m}=i,y=F.useRef(t),x=R(),C=e0(x),T=F.useCallback(function(H){H===void 0&&(H=[]),!C.current&&l(K=>K===null?H:K.concat(H.filter(Y=>!K.includes(Y))))},[C]),E=F.useRef(null),k=E0(H=>{if(x&&!n)return GT;if(!H||H===GT||y.current!==t||s!=null){const K=new Map;for(let Y of t){if(!Y)continue;if(s&&s.length>0&&!s.includes(Y.id)&&Y.rect.current){K.set(Y.id,Y.rect.current);continue}const U=Y.node.current,G=U?new e2(d(U),U):null;Y.rect.current=G,G&&K.set(Y.id,G)}return K}return H},[t,s,n,x,d]);return F.useEffect(()=>{y.current=t},[t]),F.useEffect(()=>{x||T()},[n,x]),F.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),F.useEffect(()=>{x||typeof f!="number"||E.current!==null||(E.current=setTimeout(()=>{T(),E.current=null},f))},[f,x,T,...r]),{droppableRects:k,measureDroppableContainers:T,measuringScheduled:s!=null};function R(){switch(m){case n0.Always:return!1;case n0.BeforeDragging:return n;default:return!n}}}function o3(t,e){return E0(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function LH(t,e){return o3(t,e)}function BH(t){let{callback:e,disabled:n}=t;const r=XC(e),i=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Pb(t){let{callback:e,disabled:n}=t;const r=XC(e),i=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function IH(t){return new e2(Mm(t),t)}function WT(t,e,n){e===void 0&&(e=IH);const[r,i]=F.useState(null);function s(){i(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const y=e(t);return JSON.stringify(d)===JSON.stringify(y)?d:y})}const l=BH({callback(d){if(t)for(const m of d){const{type:y,target:x}=m;if(y==="childList"&&x instanceof HTMLElement&&x.contains(t)){s();break}}}}),f=Pb({callback:s});return uu(()=>{s(),t?(f==null||f.observe(t),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),l==null||l.disconnect())},[t]),r}function zH(t){const e=o3(t);return QM(t,e)}const QT=[];function HH(t){const e=F.useRef(t),n=E0(r=>t?r&&r!==QT&&t&&e.current&&t.parentNode===e.current.parentNode?r:ZC(t):QT,[t]);return F.useEffect(()=>{e.current=t},[t]),n}function PH(t){const[e,n]=F.useState(null),r=F.useRef(t),i=F.useCallback(s=>{const l=Mw(s.target);l&&n(f=>f?(f.set(l,MS(l)),new Map(f)):null)},[]);return F.useEffect(()=>{const s=r.current;if(t!==s){l(s);const f=t.map(d=>{const m=Mw(d);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,MS(m)]):null}).filter(d=>d!=null);n(f.length?new Map(f):null),r.current=t}return()=>{l(t),l(s)};function l(f){f.forEach(d=>{const m=Mw(d);m==null||m.removeEventListener("scroll",i)})}},[i,t]),F.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,l)=>Kp(s,l),Ja):n3(t):Ja,[t,e])}function XT(t,e){e===void 0&&(e=[]);const n=F.useRef(null);return F.useEffect(()=>{n.current=null},e),F.useEffect(()=>{const r=t!==Ja;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?lb(t,n.current):Ja}function FH(t){F.useEffect(()=>{if(!Hb)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function qH(t,e){return F.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=l=>{s(l,e)},n},{}),[t,e])}function s3(t){return F.useMemo(()=>t?fH(t):null,[t])}const JT=[];function UH(t,e){e===void 0&&(e=Mm);const[n]=t,r=s3(n?ns(n):null),[i,s]=F.useState(JT);function l(){s(()=>t.length?t.map(d=>e3(d)?r:new e2(e(d),d)):JT)}const f=Pb({callback:l});return uu(()=>{f==null||f.disconnect(),l(),t.forEach(d=>f==null?void 0:f.observe(d))},[t]),i}function VH(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return C0(e)?e:t}function jH(t){let{measure:e}=t;const[n,r]=F.useState(null),i=F.useCallback(m=>{for(const{target:y}of m)if(C0(y)){r(x=>{const C=e(y);return x?{...x,width:C.width,height:C.height}:C});break}},[e]),s=Pb({callback:i}),l=F.useCallback(m=>{const y=VH(m);s==null||s.disconnect(),y&&(s==null||s.observe(y)),r(y?e(y):null)},[e,s]),[f,d]=ab(l);return F.useMemo(()=>({nodeRef:f,rect:n,setRef:d}),[n,f,d])}const KH=[{sensor:n2,options:{}},{sensor:i3,options:{}}],$H={current:{}},_1={draggable:{measure:jT},droppable:{measure:jT,strategy:n0.WhileDragging,frequency:RS.Optimized},dragOverlay:{measure:Mm}};class By extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const YH={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new By,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ub},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_1,measureDroppableContainers:ub,windowRect:null,measuringScheduled:!1},GH={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ub,draggableNodes:new Map,over:null,measureDroppableContainers:ub},Fb=F.createContext(GH),a3=F.createContext(YH);function WH(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new By}}}function QH(t,e){switch(e.type){case ii.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ii.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ii.DragEnd:case ii.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ii.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new By(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case ii.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const l=new By(t.droppable.containers);return l.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:l}}}case ii.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new By(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function XH(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=F.useContext(Fb),s=AS(r),l=AS(n==null?void 0:n.id);return F.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!JC(s)||document.activeElement===s.target)return;const f=i.get(l);if(!f)return;const{activatorNode:d,node:m}=f;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const y of[d.current,m.current]){if(!y)continue;const x=Vz(y);if(x){x.focus();break}}})}},[r,e,i,l,s]),null}function JH(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function ZH(t){return F.useMemo(()=>({draggable:{..._1.draggable,...t==null?void 0:t.draggable},droppable:{..._1.droppable,...t==null?void 0:t.droppable},dragOverlay:{..._1.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function eP(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=F.useRef(!1),{x:l,y:f}=typeof i=="boolean"?{x:i,y:i}:i;uu(()=>{if(!l&&!f||!e){s.current=!1;return}if(s.current||!r)return;const m=e==null?void 0:e.node.current;if(!m||m.isConnected===!1)return;const y=n(m),x=QM(y,r);if(l||(x.x=0),f||(x.y=0),s.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const C=XM(m);C&&C.scrollBy({top:x.y,left:x.x})}},[e,l,f,r,n])}const l3=F.createContext({...Ja,scaleX:1,scaleY:1});var lf;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(lf||(lf={}));const tP=F.memo(function(e){var n,r,i,s;let{id:l,accessibility:f,autoScroll:d=!0,children:m,sensors:y=KH,collisionDetection:x=iH,measuring:C,modifiers:T,...E}=e;const k=F.useReducer(QH,void 0,WH),[R,H]=k,[K,Y]=Wz(),[U,G]=F.useState(lf.Uninitialized),re=U===lf.Initialized,{draggable:{active:de,nodes:we,translate:fe},droppable:{containers:Me}}=R,et=de!=null?we.get(de):null,Ve=F.useRef({initial:null,translated:null}),Je=F.useMemo(()=>{var Bn;return de!=null?{id:de,data:(Bn=et==null?void 0:et.data)!=null?Bn:$H,rect:Ve}:null},[de,et]),wt=F.useRef(null),[Et,Ne]=F.useState(null),[$e,Ye]=F.useState(null),mt=e0(E,Object.values(E)),ee=T0("DndDescribedBy",l),Oe=F.useMemo(()=>Me.getEnabled(),[Me]),tt=ZH(C),{droppableRects:it,measureDroppableContainers:Ge,measuringScheduled:ht}=NH(Oe,{dragging:re,dependencies:[fe.x,fe.y],config:tt.droppable}),ot=RH(we,de),cn=F.useMemo(()=>$e?kS($e):null,[$e]),yt=Fr(),Pe=LH(ot,tt.draggable.measure);eP({activeNode:de!=null?we.get(de):null,config:yt.layoutShiftCompensation,initialRect:Pe,measure:tt.draggable.measure});const ft=WT(ot,tt.draggable.measure,Pe),fn=WT(ot?ot.parentElement:null),Tt=F.useRef({activatorEvent:null,active:null,activeNode:ot,collisionRect:null,collisions:null,droppableRects:it,draggableNodes:we,draggingNode:null,draggingNodeRect:null,droppableContainers:Me,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=Me.getNodeFor((n=Tt.current.over)==null?void 0:n.id),dn=jH({measure:tt.dragOverlay.measure}),Rn=(r=dn.nodeRef.current)!=null?r:ot,dr=re?(i=dn.rect)!=null?i:ft:null,tr=!!(dn.nodeRef.current&&dn.rect),te=zH(tr?null:ft),ge=s3(Rn?ns(Rn):null),be=HH(re?Cn??ot:null),Le=UH(be),qe=JH(T,{transform:{x:fe.x-te.x,y:fe.y-te.y,scaleX:1,scaleY:1},activatorEvent:$e,active:Je,activeNodeRect:ft,containerNodeRect:fn,draggingNodeRect:dr,over:Tt.current.over,overlayNodeRect:dn.rect,scrollableAncestors:be,scrollableAncestorRects:Le,windowRect:ge}),Ie=cn?Kp(cn,fe):null,st=PH(be),St=XT(st),sn=XT(st,[ft]),Ht=Kp(qe,St),hn=dr?aH(dr,qe):null,Mr=Je&&hn?x({active:Je,collisionRect:hn,droppableRects:it,droppableContainers:Oe,pointerCoordinates:Ie}):null,Qr=nH(Mr,"id"),[nr,Pr]=F.useState(null),Dr=tr?qe:Kp(qe,sn),Ce=oH(Dr,(s=nr==null?void 0:nr.rect)!=null?s:null,ft),nt=F.useRef(null),ke=F.useCallback((Bn,gn)=>{let{sensor:Kn,options:rr}=gn;if(wt.current==null)return;const ir=we.get(wt.current);if(!ir)return;const br=Bn.nativeEvent,Xn=new Kn({active:wt.current,activeNode:ir,event:br,options:rr,context:Tt,onAbort(Fn){if(!we.get(Fn))return;const{onDragAbort:Zt}=mt.current,yn={id:Fn};Zt==null||Zt(yn),K({type:"onDragAbort",event:yn})},onPending(Fn,Xr,Zt,yn){if(!we.get(Fn))return;const{onDragPending:io}=mt.current,Oi={id:Fn,constraint:Xr,initialCoordinates:Zt,offset:yn};io==null||io(Oi),K({type:"onDragPending",event:Oi})},onStart(Fn){const Xr=wt.current;if(Xr==null)return;const Zt=we.get(Xr);if(!Zt)return;const{onDragStart:yn}=mt.current,Ns={activatorEvent:br,active:{id:Xr,data:Zt.data,rect:Ve}};wf.unstable_batchedUpdates(()=>{yn==null||yn(Ns),G(lf.Initializing),H({type:ii.DragStart,initialCoordinates:Fn,active:Xr}),K({type:"onDragStart",event:Ns}),Ne(nt.current),Ye(br)})},onMove(Fn){H({type:ii.DragMove,coordinates:Fn})},onEnd:hr(ii.DragEnd),onCancel:hr(ii.DragCancel)});nt.current=Xn;function hr(Fn){return async function(){const{active:Zt,collisions:yn,over:Ns,scrollAdjustedTranslate:io}=Tt.current;let Oi=null;if(Zt&&io){const{cancelDrop:Rr}=mt.current;Oi={activatorEvent:br,active:Zt,collisions:yn,delta:io,over:Ns},Fn===ii.DragEnd&&typeof Rr=="function"&&await Promise.resolve(Rr(Oi))&&(Fn=ii.DragCancel)}wt.current=null,wf.unstable_batchedUpdates(()=>{H({type:Fn}),G(lf.Uninitialized),Pr(null),Ne(null),Ye(null),nt.current=null;const Rr=Fn===ii.DragEnd?"onDragEnd":"onDragCancel";if(Oi){const pr=mt.current[Rr];pr==null||pr(Oi),K({type:Rr,event:Oi})}})}}},[we]),At=F.useCallback((Bn,gn)=>(Kn,rr)=>{const ir=Kn.nativeEvent,br=we.get(rr);if(wt.current!==null||!br||ir.dndKit||ir.defaultPrevented)return;const Xn={active:br};Bn(Kn,gn.options,Xn)===!0&&(ir.dndKit={capturedBy:gn.sensor},wt.current=rr,ke(Kn,gn))},[we,ke]),It=_H(y,At);FH(y),uu(()=>{ft&&U===lf.Initializing&&G(lf.Initialized)},[ft,U]),F.useEffect(()=>{const{onDragMove:Bn}=mt.current,{active:gn,activatorEvent:Kn,collisions:rr,over:ir}=Tt.current;if(!gn||!Kn)return;const br={active:gn,activatorEvent:Kn,collisions:rr,delta:{x:Ht.x,y:Ht.y},over:ir};wf.unstable_batchedUpdates(()=>{Bn==null||Bn(br),K({type:"onDragMove",event:br})})},[Ht.x,Ht.y]),F.useEffect(()=>{const{active:Bn,activatorEvent:gn,collisions:Kn,droppableContainers:rr,scrollAdjustedTranslate:ir}=Tt.current;if(!Bn||wt.current==null||!gn||!ir)return;const{onDragOver:br}=mt.current,Xn=rr.get(Qr),hr=Xn&&Xn.rect.current?{id:Xn.id,rect:Xn.rect.current,data:Xn.data,disabled:Xn.disabled}:null,Fn={active:Bn,activatorEvent:gn,collisions:Kn,delta:{x:ir.x,y:ir.y},over:hr};wf.unstable_batchedUpdates(()=>{Pr(hr),br==null||br(Fn),K({type:"onDragOver",event:Fn})})},[Qr]),uu(()=>{Tt.current={activatorEvent:$e,active:Je,activeNode:ot,collisionRect:hn,collisions:Mr,droppableRects:it,draggableNodes:we,draggingNode:Rn,draggingNodeRect:dr,droppableContainers:Me,over:nr,scrollableAncestors:be,scrollAdjustedTranslate:Ht},Ve.current={initial:dr,translated:hn}},[Je,ot,Mr,hn,we,Rn,dr,it,Me,nr,be,Ht]),kH({...yt,delta:fe,draggingRect:hn,pointerCoordinates:Ie,scrollableAncestors:be,scrollableAncestorRects:Le});const Qn=F.useMemo(()=>({active:Je,activeNode:ot,activeNodeRect:ft,activatorEvent:$e,collisions:Mr,containerNodeRect:fn,dragOverlay:dn,draggableNodes:we,droppableContainers:Me,droppableRects:it,over:nr,measureDroppableContainers:Ge,scrollableAncestors:be,scrollableAncestorRects:Le,measuringConfiguration:tt,measuringScheduled:ht,windowRect:ge}),[Je,ot,ft,$e,Mr,fn,dn,we,Me,it,nr,Ge,be,Le,tt,ht,ge]),We=F.useMemo(()=>({activatorEvent:$e,activators:It,active:Je,activeNodeRect:ft,ariaDescribedById:{draggable:ee},dispatch:H,draggableNodes:we,over:nr,measureDroppableContainers:Ge}),[$e,It,Je,ft,H,ee,we,nr,Ge]);return gt.createElement(WM.Provider,{value:Y},gt.createElement(Fb.Provider,{value:We},gt.createElement(a3.Provider,{value:Qn},gt.createElement(l3.Provider,{value:Ce},m)),gt.createElement(XH,{disabled:(f==null?void 0:f.restoreFocus)===!1})),gt.createElement(Jz,{...f,hiddenTextDescribedById:ee}));function Fr(){const Bn=(Et==null?void 0:Et.autoScrollEnabled)===!1,gn=typeof d=="object"?d.enabled===!1:d===!1,Kn=re&&!Bn&&!gn;return typeof d=="object"?{...d,enabled:Kn}:{enabled:Kn}}}),nP=F.createContext(null),ZT="button",rP="Draggable";function iP(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=T0(rP),{activators:l,activatorEvent:f,active:d,activeNodeRect:m,ariaDescribedById:y,draggableNodes:x,over:C}=F.useContext(Fb),{role:T=ZT,roleDescription:E="draggable",tabIndex:k=0}=i??{},R=(d==null?void 0:d.id)===e,H=F.useContext(R?l3:nP),[K,Y]=ab(),[U,G]=ab(),re=qH(l,e),de=e0(n);uu(()=>(x.set(e,{id:e,key:s,node:K,activatorNode:U,data:de}),()=>{const fe=x.get(e);fe&&fe.key===s&&x.delete(e)}),[x,e]);const we=F.useMemo(()=>({role:T,tabIndex:k,"aria-disabled":r,"aria-pressed":R&&T===ZT?!0:void 0,"aria-roledescription":E,"aria-describedby":y.draggable}),[r,T,k,R,E,y.draggable]);return{active:d,activatorEvent:f,activeNodeRect:m,attributes:we,isDragging:R,listeners:r?void 0:re,node:K,over:C,setNodeRef:Y,setActivatorNodeRef:G,transform:H}}function oP(){return F.useContext(a3)}const sP="Droppable",aP={timeout:25};function lP(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=T0(sP),{active:l,dispatch:f,over:d,measureDroppableContainers:m}=F.useContext(Fb),y=F.useRef({disabled:n}),x=F.useRef(!1),C=F.useRef(null),T=F.useRef(null),{disabled:E,updateMeasurementsFor:k,timeout:R}={...aP,...i},H=e0(k??r),K=F.useCallback(()=>{if(!x.current){x.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{m(Array.isArray(H.current)?H.current:[H.current]),T.current=null},R)},[R]),Y=Pb({callback:K,disabled:E||!l}),U=F.useCallback((we,fe)=>{Y&&(fe&&(Y.unobserve(fe),x.current=!1),we&&Y.observe(we))},[Y]),[G,re]=ab(U),de=e0(e);return F.useEffect(()=>{!Y||!G.current||(Y.disconnect(),x.current=!1,Y.observe(G.current))},[G,Y]),F.useEffect(()=>(f({type:ii.RegisterDroppable,element:{id:r,key:s,disabled:n,node:G,rect:C,data:de}}),()=>f({type:ii.UnregisterDroppable,key:s,id:r})),[r]),F.useEffect(()=>{n!==y.current.disabled&&(f({type:ii.SetDroppableDisabled,id:r,key:s,disabled:n}),y.current.disabled=n)},[r,s,n,f]),{active:l,rect:C,isOver:(d==null?void 0:d.id)===r,node:G,over:d,setNodeRef:re}}function Iy(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function uP(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function m1(t){return t!==null&&t>=0}function cP(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function fP(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const u3=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Iy(e,r,n),l=e[i],f=s[i];return!f||!l?null:{x:f.left-l.left,y:f.top-l.top,scaleX:f.width/l.width,scaleY:f.height/l.height}},c3="Sortable",f3=gt.createContext({activeIndex:-1,containerId:c3,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:u3,disabled:{draggable:!1,droppable:!1}});function dP(t){let{children:e,id:n,items:r,strategy:i=u3,disabled:s=!1}=t;const{active:l,dragOverlay:f,droppableRects:d,over:m,measureDroppableContainers:y}=oP(),x=T0(c3,n),C=f.rect!==null,T=F.useMemo(()=>r.map(re=>typeof re=="object"&&"id"in re?re.id:re),[r]),E=l!=null,k=l?T.indexOf(l.id):-1,R=m?T.indexOf(m.id):-1,H=F.useRef(T),K=!cP(T,H.current),Y=R!==-1&&k===-1||K,U=fP(s);uu(()=>{K&&E&&y(T)},[K,T,E,y]),F.useEffect(()=>{H.current=T},[T]);const G=F.useMemo(()=>({activeIndex:k,containerId:x,disabled:U,disableTransforms:Y,items:T,overIndex:R,useDragOverlay:C,sortedRects:uP(T,d),strategy:i}),[k,x,U.draggable,U.droppable,Y,T,R,d,C,i]);return gt.createElement(f3.Provider,{value:G},e)}const hP=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Iy(n,r,i).indexOf(e)},pP=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:l,previousItems:f,previousContainerId:d,transition:m}=t;return!m||!r||f!==s&&i===l?!1:n?!0:l!==i&&e===d},mP={duration:200,easing:"ease"},d3="transform",gP=t0.Transition.toString({property:d3,duration:0,easing:"linear"}),yP={roleDescription:"sortable"};function vP(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,l]=F.useState(null),f=F.useRef(n);return uu(()=>{if(!e&&n!==f.current&&r.current){const d=i.current;if(d){const m=Mm(r.current,{ignoreTransform:!0}),y={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(y.x||y.y)&&l(y)}}n!==f.current&&(f.current=n)},[e,n,r,i]),F.useEffect(()=>{s&&l(null)},[s]),s}function bP(t){let{animateLayoutChanges:e=pP,attributes:n,disabled:r,data:i,getNewIndex:s=hP,id:l,strategy:f,resizeObserverConfig:d,transition:m=mP}=t;const{items:y,containerId:x,activeIndex:C,disabled:T,disableTransforms:E,sortedRects:k,overIndex:R,useDragOverlay:H,strategy:K}=F.useContext(f3),Y=xP(r,T),U=y.indexOf(l),G=F.useMemo(()=>({sortable:{containerId:x,index:U,items:y},...i}),[x,i,U,y]),re=F.useMemo(()=>y.slice(y.indexOf(l)),[y,l]),{rect:de,node:we,isOver:fe,setNodeRef:Me}=lP({id:l,data:G,disabled:Y.droppable,resizeObserverConfig:{updateMeasurementsFor:re,...d}}),{active:et,activatorEvent:Ve,activeNodeRect:Je,attributes:wt,setNodeRef:Et,listeners:Ne,isDragging:$e,over:Ye,setActivatorNodeRef:mt,transform:ee}=iP({id:l,data:G,attributes:{...yP,...n},disabled:Y.draggable}),Oe=Pz(Me,Et),tt=!!et,it=tt&&!E&&m1(C)&&m1(R),Ge=!H&&$e,ht=Ge&&it?ee:null,cn=it?ht??(f??K)({rects:k,activeNodeRect:Je,activeIndex:C,overIndex:R,index:U}):null,yt=m1(C)&&m1(R)?s({id:l,items:y,activeIndex:C,overIndex:R}):U,Pe=et==null?void 0:et.id,ft=F.useRef({activeId:Pe,items:y,newIndex:yt,containerId:x}),fn=y!==ft.current.items,Tt=e({active:et,containerId:x,isDragging:$e,isSorting:tt,id:l,index:U,items:y,newIndex:ft.current.newIndex,previousItems:ft.current.items,previousContainerId:ft.current.containerId,transition:m,wasDragging:ft.current.activeId!=null}),Cn=vP({disabled:!Tt,index:U,node:we,rect:de});return F.useEffect(()=>{tt&&ft.current.newIndex!==yt&&(ft.current.newIndex=yt),x!==ft.current.containerId&&(ft.current.containerId=x),y!==ft.current.items&&(ft.current.items=y)},[tt,yt,x,y]),F.useEffect(()=>{if(Pe===ft.current.activeId)return;if(Pe!=null&&ft.current.activeId==null){ft.current.activeId=Pe;return}const Rn=setTimeout(()=>{ft.current.activeId=Pe},50);return()=>clearTimeout(Rn)},[Pe]),{active:et,activeIndex:C,attributes:wt,data:G,rect:de,index:U,newIndex:yt,items:y,isOver:fe,isSorting:tt,isDragging:$e,listeners:Ne,node:we,overIndex:R,over:Ye,setNodeRef:Oe,setActivatorNodeRef:mt,setDroppableNodeRef:Me,setDraggableNodeRef:Et,transform:Cn??cn,transition:dn()};function dn(){if(Cn||fn&&ft.current.newIndex===U)return gP;if(!(Ge&&!JC(Ve)||!m)&&(tt||Tt))return t0.Transition.toString({...m,property:d3})}}function xP(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Ln.Down,Ln.Right,Ln.Up,Ln.Left;const wP=t=>{const[e,n]=F.useState(t),r=i=>s=>{const{active:l,over:f}=s;if(!f||l.id===f.id)return;const d=e.findIndex(x=>x.id===l.id),m=e.findIndex(x=>x.id===f.id),y=e[d];return i(Iy(e,d,m),y),n(x=>Iy(x,d,m)),Iy(e,d,m)};return F.useEffect(()=>{n(t)},[t]),{items:e,onDragEnd:r}},SP=t=>{const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:s,isDragging:l}=bP({id:t});return{ref:r,style:{transform:t0.Transform.toString(i),transition:s},listeners:n,attributes:e,isDragging:l}};function Oh({id:t,children:e,css:n,...r}){const{ref:i,style:s,listeners:l,attributes:f,isDragging:d}=SP(t);return d?L("div",{ref:i,style:s,children:L("div",{style:{opacity:.5,pointerEvents:"none"},children:e})}):L("div",{ref:i,style:s,...l,...f,...r,css:n,children:e})}const Ah=({children:t,handleDragEnd:e,data:n})=>{const{items:r,onDragEnd:i}=wP(n||[]),s=eH(Zz(n2,{activationConstraint:{distance:3}}));return Bt.jsx(tP,{onDragEnd:i(e),sensors:s,children:Bt.jsx(dP,{items:r,children:t(r||[])})})},qb=(t,e)=>{const n=e.findIndex(s=>s.id===t.id),r=n-1<0?0:n-1,i=n+1;return n===0?e[1].order/2:n===e.length-1?e[e.length-2].order+1e3:(e[r].order+e[i].order)/2},CP=cu(t=>({filter:{label:void 0,text:void 0},setFilter:e=>t({filter:e}),resetFilter:()=>t({filter:{label:void 0}})})),O0=()=>{const{filter:t,setFilter:e,resetFilter:n}=CP();return{filter:t,getFilteredTodoList:i=>{let s=i;return t!=null&&t.label&&(s=s==null?void 0:s.filter(l=>{var f,d;return((f=l.label)==null?void 0:f.id)===((d=t.label)==null?void 0:d.id)})),t!=null&&t.text&&(s=s==null?void 0:s.filter(l=>{var y;const{title:f}=l,d=f.replace(/\s+/g,"").toLowerCase(),m=((y=t==null?void 0:t.text)==null?void 0:y.replace(/\s+/g,"").toLowerCase())??"";return d.includes(m)})),s||[]},setFilter:e,resetFilter:n}},EP={container:t=>({position:"sticky",top:0,display:"flex",backgroundColor:t.colors.background.gray,justifyContent:"space-between",alignItems:"center",padding:"0 20px",height:"60px",zIndex:1200}),h2:t=>({fontSize:"24px",margin:0,color:t.colors.text.primary})};function Ub({title:t}){const{container:e,h2:n}=EP;return L("div",{css:e,children:L("h2",{css:n,children:t})})}const TP=()=>{const t=OA(),e=ai(),{data:n}=NR(Number(t)),{data:r}=_z(t),{data:i}=Lz(t);return F.useEffect(()=>{t&&(e.invalidateQueries({queryKey:[Ch]}),e.invalidateQueries({queryKey:[Pi]}))},[t,e,n]),{data:n,id:Number(t),todoList:r,doneList:i}},OP={container:t=>({display:"flex",flexDirection:"column",width:"100%",height:"100%",marginBottom:"20px",backgroundColor:t.colors.background.deep,borderRadius:t.radius.small,overflow:"hidden"}),header:t=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",fontSize:"12px",color:t.colors.text.secondary,borderBottom:`1px solid ${t.colors.border.gray}`,"& .line":{width:"100%",height:"1px",backgroundColor:t.colors.text.secondary,marginLeft:"10px"}}),button:t=>e=>({border:"none",backgroundColor:"transparent",color:e.colors.text.secondary,cursor:"pointer",transition:"0.3s",transform:t?"rotate(180deg)":"rotate(0)"}),content:t=>()=>({display:"flex",flexDirection:"column",overflowY:"auto",height:t?"auto":"0px",transition:"0.3s"})};function wh({title:t,children:e,defaultOpen:n=!0}){const[r,i]=F.useState(n),{container:s,header:l,content:f,button:d}=OP;return Qe("div",{css:s,children:[Qe("div",{css:l,children:[L("h3",{children:t}),L("button",{css:d(r),onClick:()=>i(!r),"aria-label":r?"접기":"펴기",children:L(E9,{})})]}),L("div",{css:f(r),children:e})]})}const AP=cu(zb(t=>({isOpen:!0,toggleSidebar:()=>t(e=>({isOpen:!e.isOpen}))}),{name:"sidebar-toggle-storage"})),kP=t=>e=>({position:"relative",height:"100%",zIndex:1300,backgroundColor:e.colors.background.deep,"& .sidebar-close-btn":{position:"absolute",top:0,right:t?"0":"-30px",width:"30px",height:"30px",transition:"0.3s",marginTop:"12px",color:e.colors.text.secondary,border:"none",cursor:"pointer",transform:t?"rotate(180deg)":"rotate(0)",zIndex:1400},"& .sidebar-close-btn:hover":{backgroundColor:e.colors.background.hover,color:e.colors.text.primary},paddingTop:"10px"}),MP=t=>()=>({position:"relative",display:"flex",flexDirection:"column",height:"100%",width:t?"280px":"0px",overflow:"hidden",transition:"0.3s",zIndex:99});function r2({children:t}){const{isOpen:e,toggleSidebar:n}=AP();return Qe("div",{css:kP(e),children:[L("div",{className:"sidebar-close-btn",onClick:n,children:L(CO,{color:"currentColor",size:30})}),L("div",{css:MP(e),children:t})]})}const DP={container:()=>({backgroundColor:"transparent",display:"flex",flexDirection:"column",marginBottom:"20px"}),ul:()=>({display:"flex",flexDirection:"column",listStyleType:"none",padding:0,margin:0}),listTitleContainer:t=>({display:"flex",justifyContent:"space-between",alignItems:"center",height:"30px",paddingLeft:"10px",color:t.colors.text.secondary,fontSize:t.typography.size.small}),buttonStyle:t=>({display:"flex",justifyContent:"center",alignItems:"center",width:"30px",height:"30px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:t.colors.text.secondary,borderRadius:t.radius.small,padding:0,transition:"background 0s color 0s","&:hover":{color:t.colors.text.primary,backgroundColor:t.colors.background.hover}})};function vm({listTitle:t,button:e,children:n,bottom:r}){const{container:i,ul:s,listTitleContainer:l,buttonStyle:f}=DP;return Qe("div",{css:i,children:[t&&Qe("div",{css:l,children:[L("h3",{children:t}),e&&L("button",{css:f,type:"button","aria-label":"button",onClick:d=>{var m;d.stopPropagation(),(m=e==null?void 0:e.onClick)==null||m.call(e)},children:e==null?void 0:e.icon})]}),L("ul",{css:s,children:n}),r&&r]})}const RP={li:()=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",fontSize:"14px",transition:"background 0s",backgroundColor:"transparent",width:"100%","&:last-child":{borderBottom:"none"}}),innerContainer:()=>({display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),link:t=>e=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",color:t?e.colors.text.primary:e.colors.text.secondary,transition:"none",textDecoration:"none",padding:"0 10px",width:"100%",height:"40px",fontSize:"14px",backgroundColor:t?e.colors.background.gray:"transparent","&:hover":{color:e.colors.text.primary,background:e.colors.background.hover}})};function Df({count:t,icon:e,isCurrentLink:n,linkTo:r,onContextMenu:i,children:s,onClick:l}){const{li:f,innerContainer:d,link:m}=RP;return L("li",{onContextMenu:i,css:f,onClick:y=>{l&&l(y)},children:Qe(bb,{to:r||"/",draggable:!1,css:m(n||!1),children:[Qe("div",{css:d,children:[e&&e,s]}),t?L("span",{children:t}):null]})})}const _P={container:()=>({width:"100%",height:"60px"}),h2:t=>({fontSize:"24px",fontWeight:"bold",color:t.colors.text.primary,padding:"10px 10px",display:"flex",alignItems:"center"})};function Vb({title:t}){const{container:e,h2:n}=_P;return L("div",{css:e,children:L("h2",{css:n,children:t})})}const NP=()=>{const t=Mo().pathname;return n=>t.includes(Dn.TODO)?t.includes(String(n.id)):!1},LP=t=>{const e=Mo().pathname,n=oC(),{mutate:r}=_R(),{data:i}=WS(),s=OA(),l=i==null?void 0:i.findIndex(C=>C.id===t),f=l?l-1:-1,d=l||l===0?l+1:-1,m=e.includes(Dn.TODO_CATE),y=t===s;return{onDelete:async()=>{m&&y&&(f>=0&&i?n(Dn.TODO_CATE+"/"+i[f].id):d>=0&&i&&i.length>1?n(Dn.TODO_CATE+"/"+i[d].id):n(Dn.TODO_TODAY)),await r(t)}}},h3={ms:290,s:.3},Dm=cu(t=>({title:"",content:void 0,onCancel:void 0,onConfirm:void 0,isOpen:!1,isCloseStart:!1,open:({title:e,content:n,onCancel:r,onConfirm:i})=>t(()=>({title:e,content:n,onCancel:r,onConfirm:i,isOpen:!0,isCloseStart:!1})),close:()=>{t({isCloseStart:!0}),setTimeout(()=>{t(()=>({title:"",content:void 0,onCancel:void 0,onConfirm:void 0,isOpen:!1,isCloseStart:!1}))},h3.ms)}})),BP={container:t=>({display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:15e3,backgroundColor:t.colors.background.deep,borderRadius:t.radius.medium,boxShadow:t.shadow.large,overflow:"hidden",minWidth:"300px",width:"fit-content",minHeight:"200px",color:t.colors.text.primary}),header:t=>({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"40px",padding:"0 10px",backgroundColor:t.colors.background.hover,"& h2":{fontSize:t.typography.size.medium}}),closeButton:t=>({background:"none",border:"none",cursor:"pointer",height:"30px",width:"30px",padding:0,margin:0,color:t.colors.text.secondary,":hover":{backgroundColor:t.colors.background.hover}}),content:()=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"5px",width:"100%",padding:"10px"}),footer:()=>({width:"100%",height:"60px",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center",gap:"20px"}),confirmButton:t=>({width:"80px",height:"35px",border:"none",borderRadius:t.radius.medium,backgroundColor:t.colors.primary.normal,color:"white",cursor:"pointer",":hover":{backgroundColor:t.colors.primary.dark}}),cancelButton:t=>({width:"80px",height:"35px",border:"none",borderRadius:t.radius.medium,backgroundColor:t.colors.important.heigh,color:"white",cursor:"pointer",":hover":{backgroundColor:t.colors.important.heighHover}})},IP=ts`
  0% {
    transform: scale(0) translate(-50%, -50%);
    opacity: 0;
  }
  100% {
    transform: scale(1) translate(-50%, -50%);
    opacity: 1;
  }
`,zP=ts`
  0% {
    transform: scale(1) translate(-50%, -50%);
    opacity: 1;
  }
  100% {
    transform: scale(0) translate(-50%, -50%);
    opacity: 0;
  }
`,HP=t=>({animation:`${t?zP:IP} 0.3s forwards ease-in-out`});function PP({title:t,children:e,onConfirm:n,onCancel:r}){const{close:i,isCloseStart:s}=Dm(),l=es(),{container:f,header:d,closeButton:m,content:y,footer:x,confirmButton:C,cancelButton:T}=BP;return Qe("div",{css:{...f(l),transformOrigin:"0 0",...HP(s)},children:[Qe("div",{css:d,children:[L("h2",{children:t}),L("button",{css:m,onClick:i,children:L(US,{})})]}),L("div",{css:y,children:e}),Qe("div",{css:x,children:[r&&L("button",{css:T,onClick:r,children:"취소"}),n&&L("button",{css:C,onClick:n,children:"확인"})]})]})}const FP=t=>ts`
  from {
    backdrop-filter: blur(0);
    Webkitbackdrop-filter: blur(0);
    background-color: rgba(0, 0, 0, 0);
  }
  to {
    backdrop-filter: blur(5px);
    Webkitbackdrop-filter: blur(5px);
    background-color: ${t.colors.background.backdrop};
  }
`,qP=t=>ts`
  from {
    backdrop-filter: blur(5px);
    Webkitbackdrop-filter: blur(5px);
    background-color: ${t.colors.background.backdrop};
  }
  to {
    backdrop-filter: blur(0);
    Webkitbackdrop-filter: blur(0);
    background-color: rgba(0, 0, 0, 0);
  }
`,UP=(t,e)=>({animation:`${t?qP(e):FP(e)} ${h3.s}s forwards ease-in-out`}),VP=t=>e=>({position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:14e3,backgroundColor:e.colors.background.backdrop,...UP(t,e)});function jP({onClick:t}){const{isCloseStart:e}=Dm(n=>n);return L("div",{css:VP(e),onClick:t})}function KP(){const{isOpen:t,content:e,close:n,title:r,onCancel:i,onConfirm:s}=Dm();return L(ru,{children:wf.createPortal(L(ru,{children:t&&Qe(ru,{children:[L(jP,{onClick:n}),L(PP,{title:r,onCancel:i,onConfirm:s,children:e})]})}),document.body)})}const $P=t=>{const{id:e}=t,{open:n,close:r}=Sm(),{onDelete:i}=LP(e),{mutate:s}=GO(),[l,f]=F.useState(!1),{open:d,close:m}=Dm(),[y,x]=F.useState(t),C=(K,Y)=>{x({...y,[K]:Y})},T=K=>({value:y[K],onChange:Y=>{C(K,Y.target.value)}}),E=async()=>{!y.name&&!y.name.trim()||(y.name=y.name.trim(),await s(y),f(!1))},k=()=>{f(!0),r()},R=async()=>{d({title:"삭제",content:Bt.jsxs(Bt.Fragment,{children:[Bt.jsx("p",{children:"정말 삭제하시겠습니까?"}),Bt.jsx("p",{children:"하위 Todo는 모두 삭제됩니다."}),Bt.jsx("p",{children:"삭제된 데이터는 복구할 수 없습니다."})]}),onCancel:()=>{m()},onConfirm:async()=>{await i(),m()}}),f(!1),r()};return{openContextMenu:K=>{K.preventDefault();const{clientX:Y,clientY:U}=K;n(Y,U,[{label:"수정",onClick:k},{label:"삭제",onClick:R}])},isEdit:l,register:T,onSubmit:E}};function p3({data:t,isActive:e,onClick:n}){const{id:r}=t,{openContextMenu:i,isEdit:s,register:l,onSubmit:f}=$P(t),{data:d}=Nz(r);return L(Df,{count:d,icon:L(S9,{size:18}),isCurrentLink:e,linkTo:n?"#":Dn.TODO_CATE+"/"+r,onClick:n,onContextMenu:i,children:L(a_,{isEdit:s,onSubmit:f,...l("name")})})}const m3=()=>{const{mutate:t}=GO();return{handleDragEnd:(n,r)=>{if(!(r!=null&&r.id))return;const i=qb(r,n);r.order=i,t(r)}}};function YP(){const{data:t}=WS(),e=NP(),{handleDragEnd:n}=m3();return L(vm,{listTitle:"카테고리",bottom:L(uA,{}),children:L(Ah,{handleDragEnd:n,data:t||[],children:r=>r==null?void 0:r.map(i=>L(Oh,{id:i.id,children:L(p3,{data:i,isActive:e(i)},i.id)},i.id))})})}const GP=()=>{const t=Mo().pathname;return n=>t===n};function WP(){const t=GP(),{data:e}=jM(),{data:n}=$M(),{data:r}=KM();return Qe(vm,{listTitle:"모아보기",children:[L(Df,{count:n,icon:L(pb,{size:18}),isCurrentLink:t(Dn.TODO_TODAY),linkTo:Dn.TODO_TODAY,children:L("span",{children:"오늘"})}),L(Df,{count:r,icon:L(PS,{size:18}),isCurrentLink:t(Dn.TODO_IMPORTANT),linkTo:Dn.TODO_IMPORTANT,children:L("span",{children:"중요"})}),L(Df,{count:e,icon:L(qS,{size:18}),isCurrentLink:t(Dn.TODO_ALL),linkTo:Dn.TODO_ALL,children:L("span",{children:"전체"})})]})}function QP(){return Qe("div",{children:[L(Vb,{title:"TODO"}),L(WP,{}),L(YP,{})]})}const XP={container:t=>e=>({position:"relative",height:"100vh",width:t?"350px":"0px",transition:"width 0.3s",backgroundColor:e.colors.background.deep,zIndex:1300}),innerContainer:t=>e=>({display:"flex",flexDirection:"column",gap:"10px",position:"relative",height:"100vh",width:t?"350px":"0px",transition:"width 0.3s",overflow:"hidden",backgroundColor:e.colors.background.deep,marginTop:"5px",padding:t?"15px":"0px"}),toggleButton:t=>({position:"absolute",padding:"8px",top:"10px",right:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:t.colors.text.secondary,cursor:"pointer",zIndex:1300,borderRadius:t.radius.medium,"&:hover":{color:t.colors.text.primary,backgroundColor:t.colors.background.hover}}),title:t=>({fontSize:t.typography.size.large,color:t.colors.text.primary,marginBottom:"5px",lineHeight:"30px"}),divider:t=>({display:"flex",height:"17px",flexdirection:"row",width:"100%",marginTop:"10px","& span":{display:"inline-block",whiteSpace:"nowrap",width:"auto",color:t.colors.text.secondary,fontSize:t.typography.size.small,margin:"0 5px",lineHeight:"17px"},"& hr":{width:"100%",border:"none",borderBottom:`1px solid ${t.colors.border.deepGray}`}})};function JP(){const[t,e]=F.useState(!1),{setFilter:n,filter:r}=O0(),{label:i}=r,s=()=>{e(E=>!E)},l=E=>{var H;let k=E;(k==null?void 0:k.id)===((H=r.label)==null?void 0:H.id)&&(k=null),n({label:k})},f=E=>{const k=E.target.value,R={...r,text:k};n(R)},d=E=>{const k={...r,text:E};n(k)},{container:m,toggleButton:y,innerContainer:x,title:C,divider:T}=XP;return Qe("div",{css:m(t),children:[L("div",{css:y,onClick:s,children:L(TO,{size:20})}),Qe("div",{css:x(t),children:[L("div",{css:C,children:"필터"}),L("div",{css:T,children:L("span",{children:"검색"})}),L(kO,{onChange:E=>f(E),onSearch:d}),L("div",{css:T,children:L("span",{children:"라벨"})}),L(qM,{onChange:E=>{l(E?{id:(E==null?void 0:E.id)||0,name:(E==null?void 0:E.name)||"",color:(E==null?void 0:E.color)||"",order:0}:null)},value:i})]})]})}const ZP=()=>{const{mutate:t}=GS();return{handleDragEnd:(n,r)=>{if(!(r!=null&&r.id))return;const i=qb(r,n);r.order=i,t(r)}}},eF={container:()=>({display:"flex",flexDirection:"column",overflow:"hidden"})};function tF({todoList:t}){const{container:e}=eF,{handleDragEnd:n}=ZP(),{openTodoSplitModal:r}=VM();return L("div",{css:e,children:L(Ah,{data:t||[],handleDragEnd:n,children:i=>i==null?void 0:i.map(s=>L(Oh,{id:s.id,children:L(U1,{data:s,onClick:r(s)},s.id)},s.id))})})}function nF(){const{data:t,id:e,todoList:n,doneList:r}=TP(),{getFilteredTodoList:i}=O0();return Qe("div",{children:[L(Ub,{title:(t==null?void 0:t.name)||""}),Qe("div",{css:{padding:"0 16px"},children:[L(gb,{cateId:e}),L(wh,{title:"TODO",children:L(tF,{todoList:i(n)||[]})}),L(wh,{title:"DONE",defaultOpen:!1,children:L(ym,{todoList:i(r)||[]})})]})]})}const rF={container:()=>({potision:"relative",top:0,left:0,display:"flex",flexDirection:"row",width:"100%",height:"100vh",overflow:"hidden"}),content:()=>({position:"relative",display:"flex",flexDirection:"row",height:"100vh",overflowX:"hidden",overflowY:"auto",width:"100%","& .content":{width:"100%",height:"100%",overflow:"auto"}})};function iF(){const{container:t,content:e}=rF;return Qe("div",{css:t,children:[L(r2,{children:L(QP,{})}),Qe("div",{css:e,children:[L("div",{className:"content",children:L(lC,{})}),L(JP,{})]})]})}function oF(){const{data:t}=Iz(),{data:e}=Bz(),{getFilteredTodoList:n}=O0();return Qe("div",{children:[L(Ub,{title:"중요 Todo"}),L(gb,{cateId:void 0,isImportant:!0}),Qe("div",{css:{padding:"0 16px"},children:[L(wh,{title:"TODO",children:L(ym,{todoList:n(t||[])})}),L(wh,{title:"DONE",defaultOpen:!1,children:L(ym,{todoList:n(e||[])})})]})]})}function sF(){const{data:t}=zz(),{getFilteredTodoList:e}=O0();return Qe("div",{children:[L(Ub,{title:"오늘 할일"}),L(gb,{cateId:void 0,isToday:!0}),L("div",{css:{padding:"0 16px"},children:L(wh,{title:"TODO",children:L(ym,{todoList:e(t||[])})})})]})}function aF(){const{data:t}=YO(),{data:e}=Hz(),{getFilteredTodoList:n}=O0();return Qe("div",{children:[L(Ub,{title:"모든 할 일"}),Qe("div",{css:{padding:"0 16px"},children:[L(wh,{title:"TODO",children:L(ym,{todoList:n(t||[])})}),L(wh,{title:"DONE",defaultOpen:!1,children:L(ym,{todoList:n(e||[])})})]})]})}const jb=cu(zb(t=>({darkMode:!1,toggleDarkMode:()=>t(e=>({darkMode:!e.darkMode}))}),{name:"theme-storage"})),lF=t=>({height:"45px",width:"45px",backgroundColor:t.colors.background.deep,color:t.colors.text.primary,border:"none",borderRadius:"50%",cursor:"pointer",fontSize:t.typography.size.small,"&:hover":{backgroundColor:t.colors.background.hover}});function g3(){const{toggleDarkMode:t,darkMode:e}=jb(n=>n);return L("button",{css:lF,onClick:t,children:e?L(pb,{size:18}):L(k9,{size:18})})}const uF={display:"flex",flexDirection:"row",height:"100vh"};function cF(){const{open:t,close:e}=Dm();return Qe("div",{css:uF,children:[L(r2,{children:"sidebar"}),Qe("div",{css:{width:"100%",padding:"20px"},children:[L(g3,{}),L("button",{onClick:()=>{t({title:"Test Modal",content:Qe("div",{children:[L("h2",{children:"Test Modal"}),L("p",{children:"This is a test modal."})]}),onCancel:()=>{console.log("cancel"),e()},onConfirm:()=>{console.log("confirm"),e()}})},children:"modal"})]})]})}const fF={colors:{primary:{light:"rgb(72, 98, 199)",normal:"rgb(46, 77, 200)",dark:"rgb(17, 53, 197)"},secondary:{light:"rgb(164, 77, 188)",normal:"rgb(159, 46, 190)",dark:"rgb(153, 13, 192)"},background:{deep:"rgb(255, 255, 255)",gray:"rgb(241, 241, 241)",hover:"rgba(182, 180, 180, 0.1)",backdrop:"rgba(75, 75, 75, 0.3)"},text:{primary:"rgba(0, 0, 0, 1)",secondary:"rgb(104, 104, 104)"},border:{gray:"rgb(241, 241, 241)",deepGray:"rgb(221, 221, 221)"},important:{heigh:"rgba(255, 0, 0, 1)",heighHover:"rgb(216, 0, 0)",meduim:"rgb(255, 179, 0)",low:"rgb(255, 238, 0)"},success:"rgba(0, 255, 0, 1)"},typography:{size:{small:"12px",medium:"14px",large:"16px"}},radius:{small:"4px",medium:"8px",large:"12px"},shadow:{superSmall:"0px 1px 2px rgba(0, 0, 0, 0.1)",small:"0px 2px 4px rgba(0, 0, 0, 0.1)",medium:"0px 4px 8px rgba(0, 0, 0, 0.1)",large:"0px 8px 16px rgba(0, 0, 0, 0.1)"}},dF={colors:{primary:{light:"rgb(87, 114, 225)",normal:"rgb(52, 91, 245)",dark:"rgb(11, 49, 199)"},secondary:{light:"rgb(164, 77, 188)",normal:"rgb(159, 46, 190)",dark:"rgb(153, 13, 192)"},background:{deep:"rgb(38, 38, 38)",gray:"rgb(48, 48, 48)",hover:"rgba(116, 116, 116, 0.1)",backdrop:"rgba(75, 75, 75, 0.3)"},text:{primary:"rgb(221, 221, 221)",secondary:"rgb(155, 155, 155)"},border:{gray:"rgb(50, 50, 50)",deepGray:"rgb(221, 221, 221)"},important:{heigh:"rgba(255, 0, 0, 1)",heighHover:"rgb(216, 0, 0)",meduim:"rgb(255, 179, 0)",low:"rgb(255, 238, 0)"},success:"rgba(0, 255, 0, 1)"},typography:{size:{small:"12px",medium:"14px",large:"16px"}},radius:{small:"4px",medium:"8px",large:"12px"},shadow:{superSmall:"0px 1px 2px rgba(0, 0, 0, 0.1)",small:"0px 2px 4px rgba(0, 0, 0, 0.6)",medium:"0px 4px 8px rgba(0, 0, 0, 0.6)",large:"0px 8px 16px rgba(0, 0, 0, 0.6)"}},hF="/jarvis/assets/flowa-white-DgQxi5X2.png",pF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUYAAABYCAYAAACJfF6vAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8mSURBVHgB7Z3rtds2EoC/zdn/cQdGB3EHxlYQd3CxFcRbwWUq8E0F1FYQpwIyFdipgEwFtivwCivRpmU9OIMBRVH4zplzr17E4DUcDB6EQqFQKHzDPyhc4sVeIh+38n4rPYVCoXCH/LKVD1v5fESarTgKhULhjoiG7/MFiUbTUSgUCnfAGy4bxUGeKBQKhZXzjOlGMUpHoVBYHf9kPtzB62d70dJjPwnyQvh9xy4PHykUCpeIfSVs5SXf9v3Yf/7YSstCJjYlhtGxy8zwd5Dno8/Hfw//z0XLbqb4z628JQ2HnGIYC4XLvNpKzWlnKH7eb+VfLHzVh9/K41becXp2dmkS9YyF79BRKdJ8RaFQOMcjsvBUykgyG45ps7JLlxp5AT8p0gkUCoVTBOR96g0LI8bYbsU7nCINMjaKNAKFQuEUHbq+K433m/LD6H+3ld9ZqBurxLMbHhcKhfkJ6MNaV/Uax4YxKuJYHy8pFApz49jFFrX4rbzmSgyG0bHeSQRPoVCYmwfSHa1oWK8ygh0bxkKhULDAYRPCikYxxetUcw+GsawxLBTmxdKYxeH07BMxg2Fc04TLIe/JSzG8hcJXHPYrNWafiLkHw/hf8lIMY6HwlRxDX8/McwXDlkBHPj7upd+/7keffeK0YRm2Gw7bEB1yfmW3NrFQKOTHkW9dbzS4LTNhcYjEYPTikPUvvp5yPTaGVsRYgxvJ2HCOadl5ii35KR5jobAj50SJ30vLjMSF3dKV6RVXXp2egQ3ycnAUCgXH8nayJdNQDEJkg7wcCoXC7mwCad/RbD/2zMAPFMY8p1AoSHHIY4vtVn5DziMzUAxjGiW+WCjoltPEOYB4mlWPDM8MIbxiGNMohrFw70QjJd1O3LMLW8X+8ytyAplJMYyOQqFw72iGtuMh9Aa51/hA5rXXxWMsFApaHLrDZ94evJZ6jdEoZj15pxjGNHoKhftF4y1u+L7fREMpDUv9QkaKYSwUChoculjfMe8wGkXpDHX0Gj2ZKIaxUCho0HiLLadHWXGGWuo1Zlu6k2IY13jwxJoP0ygUrNB6a+diidEoSg988WRaujMYRs2yk2IYC4X7JE64OGT0XN7n/BY5gQwMh0h8oqCh5zYYn1B0aPw/juQ9hSUS6yxs5af961hXf7MzJD3zoxnCTpl5bvfimU5culORaU3xBvmexcD66JCVQc0yGYY6cUfCO2R5it+Ph4oErrtW1bPbwz/eTxv/H3SbE8dMOy5OpH2uXcY2OOdI5xVyW9FNv/z/l+FIr59t6c5GoUxgfZxrgLdgGD07w2H5bPBYJo/MayQfuazXI/Pwhu/LIzAfU9pkw3xoTuIKTCcaeWn7zZb/J/Jm9laQlkHF9RkeGGRpDM/dCBx5cQJ9si7y5XujOJY5nsH+yPSy8OTHMV2f8Y1EisYeeTJQKRTJ3SivwS0ZxjkN4pwGshbq4sjD44S0G/LhkJVDRX6kdRMlIMcr0nkiA5VCkYr1cStlEGNdHbbGTiox/YA90phogz1OkH5FHmpk5VCTn06oU4ceaVrRQTD34DUBz4r1IS2DwPw8YG/kUuQRWzqFDtYdQqqDdfoOeRlU5CUg1ymgp1KkZzaKTVnHuDYcy8ezvId7VVx/EsphR1BczzqspDmYIfdSK+ne5J60tqpZ0/gzRlg8DMuKw7V2bv/+8/3faLzjw7Za7vPwBsdylweF/d9/k06P3DDF0IKVYdB0rpfY8oCcnny8QL5USXPO4phYny2ySRWP0QOzBsPYkx/HzuC94OujUd3otWQ40rLrhD12aIZDPfMRZ0EdyyWwu3n9hzT+Ro7l+kKPHM+u/ViMvBy6/OT0GDXeosbjO+RP5PXhMXySYKwI6Xg+BsnrE9LspSPvJMEDdnhF+p55eAQ+34ikDis18e4GGzzXy/eAZgG1Vf6PoVlXWGPDM+Rl8QFDnEKBJYjlTJRXpO/Jj4PkcmrYxQI935fXsEvmNbqnRR6TFA/OK9Kz6gxP6PPcYINGh4p8BOT6OOxoFOl7jHCKxJci17xTe/JToy+bTqHjsC+3S0xXe8PSeAlRLIbT0qVCY7G6SWt08ORDqk+NLQF5eTQY8vlGxWphZ1Ck7ciLR18uG9I7apWQfoWeRpFe6g3Soc/rIJ40rj50PEATYvPYohnKfyax7Y/PY7QIHBdseURHPA05kF6nFfrZxRiwd+j4Czk/kYYnHc0ymzEar/dP8qGZdGmxRXNOY8RqJHn1nRRaCdhQKdJ25MOjK48OexqlLjU6cp/gcgzN4QjWOlSKNAN50HhqgTx45OVi5kl3isSXIA4bKkXaVhM/x6i5bnmMcej3ZGvKSBtndOix2nPu0NPMnN45woJ0iVwt9qqplGtLhR2VIv1cOHTlUZOPCp1O2iFNo0groMOjy5tlfiOLOW6L5R3BVyHTx6x8GkXC1xSrSZcBzTKJXGjW8kVx5EMbBK/RUc2YVsoyHavOqJnoCOTBK3Tx5EU7ikge1W2UCc8psWPGRuyxZ6PQJxeaYUNNfjQGpEOHnzGtTpGWdWfUxFUdeaiFenTMgyYOXKHgmnulP/L1OSPDMyyG9yL9wXd77mPm3KGbndTM3El5i3ym0qHbLtfufyMxMm4v/fSffPmNJR75ljiPjJY8W1Idck/0D+YhrraQzvzH9lohZGwYNUanZ9ch+9E1Dq9z7L2e2yeXkfbI6bFfJnGMFrmxirxAp1/scA/I8MhOdUldYnNKB6lhlC43ynUj9MixDmudokV+sMSws6tFScUyh29zsWEZwwfNcGHOesj9zI8xQZGWtJM2ijQuiWapiDR+68hDJ9SjYV4C8vr4HSGpQ2nHeviRZeCQk3OR77G0pF6WQ0f0umpkvBR81zHd+4ghn/FxeOcYvtczjeGEqam05Bl1eeR15dkZ9ff71z3fhsX6/fvjkeOxUeSY8Wlbjq/hmOhVa8JMHmE4Z2wYe+6b5NkrI5Z25NQhPXKeoyM25BbZ0GkwMlM6gWc68YYQ8+Emfj/ePKZ6rx4ZuYbRD+gYhqtLJer3GkGs8QcKS0JjFCNzGsY504poAvtTy1FyKG30Xv8WfF9ybYmXG2mxx7HOJ38OiMq4GMZlofFae9aNdBIjMmWo/wxZSKBFZpA80+pTqke8MfXYk2MSakl4BF7t2DD2yHHcL5PjFQIccnrWTY88j1NmeKVGcfx3KmHCdzwycg2jpcuwbpHJdV48Rj05DONa+UQa0uH0lKG0ZKg7GKNh3e1Ufjb6zpgWewL34eTEGOqkUVmqYVzKhMVaWKuxTc2XdDh9aTJAM4wekBjpKbPNnun05InxPnIfxLoIU76Yeh5jMYy2zD2xocEhJzVfLfL2ec5rlBjFnm+H8i3TuWSAPbLyzLHDJHBfIbFJHrrFQbXFONrRI68Hx/Kx8ISlRsGf+UyyLKU98lqSnwflZ8fQTERdQrtE51bxTPDSLWKMxTDaIvWubqH8LTzhFhmnlmc4ZMPXY5MdvzGdc8Npz3R67OOLnmWvP8zFxRFDmXxZHtJj/afuxrDCIePSLoepaOKM7sj7knjasMD8kBaZHsc6YjSYjum02JPiLfYjuUZsvGd3w9V40RcnYa55uk7hOJoTbGIn65mHKTO+Y6zipppdMMd2n3imc2qrZSvUJXbEzcF7kjhnxDq+6NAv6I7PAarOXPfZgXDw+sfRd0/R7/8ebi/s+b6tx/3anumIdsI4dBvmHesgFu4SNs/HSpMeKPDEfEjLyVK3irQ6CsLfhzO6vBZc59ijVaVnblqHTGph+oN0LA9Pxnw4dAXlWAcNaZ1urbqM8cj0iiL1jCzTPzRI0nJ1Z3SR3sBej37rhHpY169D/4wbxzKJZSTNi59yYYeuoDzrQFqw1o11jMQbGWSOSZgOuV4OW6Qd2u9/54S/a7iM5Ai28fWCUJeALUGY/iA1y8Ujz8+UOlYbRkuP4JrEQpLkuyMfDnk9BPISkOuUo4yehDoMQ/la+LvAZbzwmn7/u0b4O4ctnTD9XHpYo/GC/aWLOnSFFVgHG2T5Nntu7Qk6oT4N+XDoOpNmxvASXqjDO3Rt2zENSWesFbq8w5YgTH+s+9KpkOeruXRRh67AAutA6olIOs9c+rzBnjhE7xS65GwbUs9Aeuq4xBhVgutGvaVhEuuJtUaY/iCe5RNXTJjnzSsvGlgHmrhezjCCR1cfj9iieZRBlI58bNDpNFVeM51nmXXx2OGUOnTcDg3G+fPoCq1iHXjkea/Ji3bm8JF0YodvlOlHka53lBDQ6zVFHDJSyumcWIdraqUecy4HSyU6K5o8nrwZeuUFK9aB5s5/bH2aJRW6OonSoB/qe9KetZy7I2nWek4VTUzPZ9LFOkbbKfVw3A7atnGyL3t0hSYZdiydBnn+xU8gE9Khq5dBYtzRTUhnOKpLUwZj6Zhn6ZB2iJ+rPecw1AE7glKHhttDE58f+sp3BOXFAutBE2ccjKM7cj2LfczagPKxBv5mn8ewl9f79+JnFh37A/N5Fx6bcjkUh45qQbocQ3sjCdweHn2ZfxcC0hqFwHpIDaQ3I+lG78f/H9CjrZu5Ze7Rg7WXlrI0xnoSpsOOFN0ct4m2bTSHF6qUF1rLAu+BDbYNfJBYUSkTElUmvaykYn4qbPMQSKMx1KXGDu2ERI51qHNRoS97P77Qk8VFVoDDtrNZNrSKfLqlSMV1sJ6EcaThDXXx2FErdQjcLilecjO+kDYGMUegfW4q7Br4WDrSqcijm1YqrkuFTT5qbOgMdLFoJ6k6WetwDRr0dZB0kTUU3jFSdnvMUV6vyKOfRKKnFrg+Vl6jw4ZgoEvADqfUoeb28ejr4Aud4se3HIO4hMM+uN9ghyPfwuJLMuw/XgoVafmpsaVJ0KXDFm180bEONujy/wVNjDGwbuJkiaVxDNgTmM97jGVRsTxSPPz4O4ctDn27sZ7MDAodataDdkTxBSe8wC1tE0rBYWN4cpaXI//+4ZplexHam1iuVRVBoUuFPRrD4FgXAXlb/4bYuLoJP7wXozjgSDM8c63vc3s9p9ThFBk8xFuZYItGbqoRmCNGWjG9rCvyEQR61KyTimn57zhxY4hvRsM3fibFh/0P4vue+8Ux3fDE71Rc7+4bjcQGmZGM9dyw09tzmzjOx/hiHmvmqxfH+TqIunry49i1hw8XdFnjKpOBist14eIX/wfALmbxJX3HEgAAAABJRU5ErkJggg==",mF={sm:b1`
    width: 50px;
    height: auto;
  `,md:b1`
    width: 80px;
    height: auto;
  `,lg:b1`
    width: 120px;
    height: auto;
  `};function gF({size:t="md"}){const e=jb(n=>n.darkMode);return L("div",{children:L("img",{src:e?hF:pF,alt:"logo",css:mF[t]})})}const yF=()=>[{title:"Home",url:Dn.HOME,icon:Bt.jsx(w9,{size:20})},{title:"Task",url:Dn.TODO_TODAY,icon:Bt.jsx(SO,{size:20})},{title:"Note",url:Dn.NOTE,icon:Bt.jsx(OO,{size:20})}],vF=t=>e=>({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:t?"white":e.colors.text.secondary,backgroundColor:t?e.colors.primary.light:e.colors.background.gray,borderRadius:"9999px",cursor:"pointer","&:hover":{color:t?"white":e.colors.text.primary,backgroundColor:t?e.colors.primary.dark:e.colors.background.hover}});function bF({icon:t,to:e,title:n="",isCurrent:r=!1}){return L(bb,{to:e,draggable:"false","aria-label":n,children:L("div",{css:vF(r),children:t})})}const xF=()=>{const{pathname:t}=Mo();return n=>{const r=n.split("/").join(""),i=t.split("/"),s=n.split("/")[1];return i.join("")===""&&r===""?!0:r===""?!1:t.includes(s)?!0:i.includes(r)}},wF={display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",padding:"20px 0 0 0",minWidth:"100%",height:"100%",listStyle:"none"};function SF(){const t=xF(),e=yF();return L("ul",{css:wF,children:e.map(n=>L("li",{children:L(bF,{icon:n.icon,to:n.url,title:n.title,isCurrent:t(n.url)})},n.url))})}const CF=t=>({display:"flex",flexDirection:"column",alignItems:"center",padding:"10px 0 0 0",backgroundColor:t.colors.background.deep,color:t.colors.text.primary,width:"80px",height:"100vh",zIndex:1300});function EF(){return Qe("div",{css:CF,children:[L(gF,{size:"sm"}),L(SF,{}),L("div",{css:{marginBottom:"10px"},children:L(g3,{})})]})}var hh=(t=>(t.TASK="Task",t.FINDER="Finder",t.SEARCH="Search",t))(hh||{}),Ya=(t=>(t.TODO="TODO",t.NOTE="NOTE",t))(Ya||{}),Os=(t=>(t.TODAY="Today",t.Important="Important",t.All="All",t))(Os||{});const Za=cu((t,e)=>({activeTab:null,closeTabStart:!1,finderTab:{domain:"TODO",sideTab:"Today",currentTask:null,noteData:null,todoData:null},setActiveTab:n=>{const{activeTab:r}=e();if(r===n){t({closeTabStart:!0}),setTimeout(()=>{t({closeTabStart:!1,activeTab:null})},300);return}t(i=>({...i,activeTab:n}))},setFinderDomain:n=>t(r=>({...r,finderTab:{...r.finderTab,domain:n}})),setFinderSideTab:n=>t(r=>({...r,finderTab:{...r.finderTab,sideTab:n}})),setCurrentTask:n=>t(r=>({...r,finderTab:{...r.finderTab,currentTask:n}})),closeCurrentTask:()=>t(n=>({...n,finderTab:{...n.finderTab,currentTask:null,noteData:null,todoData:null}})),setCUrrentNote:n=>t(r=>({...r,finderTab:{...r.finderTab,noteData:n,currentTask:n.id}})),setCurrentTodo:n=>t(r=>({...r,finderTab:{...r.finderTab,todoData:n,currentTask:n.id}}))})),TF={container:t=>({display:"flex",flexDirection:"column",width:"100%",maxWidth:"1200px",gap:"10px",padding:"10px",backgroundColor:t.colors.background.deep}),input:t=>({width:"100%",marginLeft:"10px",outline:"none",border:"none",fontSize:"28px",height:"40px",backgroundColor:"transparent",color:t.colors.text.primary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),label:()=>({display:"flex",flexDirection:"row",justifyContent:"space-between",overflow:"hidden",alignItems:"center",height:"40px",padding:"10px 0"})},A0="noteCate",i2="noteLabel",k0="note";class OF{async getAll(){return await Xt.noteCate.toArray()}async save(e){return"id"in e?await Xt.noteCate.update(e.id,e):await Xt.noteCate.add(e),e}async delete(e){await Xt.noteCate.delete(e)}async get(e){return await Xt.noteCate.get(e)}}class y3{async getAll(){return await Xt.noteLabel.toArray()}async save(e){return"id"in e?await Xt.noteLabel.update(e.id,e):await Xt.noteLabel.add(e),e}async delete(e){await Xt.noteLabel.delete(e)}async get(e){return await Xt.noteLabel.get(e)}}class AF{async getAll(){return await Xt.note.toArray()}async save(e){const n={...e,isImportant:e.isImportant?1:0};return"id"in n?(n.updatedAt=new Date().toISOString(),await Xt.note.update(n.id,n)):(n.createdAt=new Date().toISOString(),await Xt.note.add(n)),e}async findByImportant(){return await Xt.note.where("isImportant").equals(1).toArray()}async findByCateId(e){return await Xt.note.where("cateId").equals(e).toArray()}async findByLabelId(e){return await Xt.note.where("labelId").equals(e).toArray()}async delete(e){await Xt.note.delete(e)}async deleteByCateId(e){await Xt.note.where("cateId").equals(e).delete()}async get(e){return await Xt.note.get(e)}}class v3{constructor(){wr(this,"noteRepository",new AF);wr(this,"noteLabelRepository",new y3)}async getAll(){const e=await this.noteLabelRepository.getAll();return(await this.noteRepository.getAll()).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async findByCateId(e){const n=await this.noteLabelRepository.getAll();return(await this.noteRepository.findByCateId(e)).map(r=>{const i=r==null?void 0:r.labelId;if(delete r.labelId,!i)return r;const s=n.find(f=>f.id===i);if(!s)return r;const l={...r,label:s};return delete l.labelId,l}).sort((r,i)=>r.order-i.order)}async save(e){var n,r;if("id"in e){const i=(n=e.label)==null?void 0:n.id,s=e;return i?s.labelId=i:s.labelId=void 0,delete e.label,await this.noteRepository.save(s)}else{const i=(await this.noteRepository.getAll()).sort((d,m)=>d.order-m.order),s=i.length>0?i[i.length-1].order+1e3:1e3,l=(r=e.label)==null?void 0:r.id,f=e;return f.order=s,l&&(f.labelId=l),delete e.label,await this.noteRepository.save(f)}}async findByImportant(){const e=await this.noteLabelRepository.getAll();return(await this.noteRepository.findByImportant()).map(n=>{const r=n==null?void 0:n.labelId;if(delete n.labelId,!r)return n;const i=e.find(l=>l.id===r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}).sort((n,r)=>n.order-r.order)}async get(e){const n=await this.noteRepository.get(e),r=n==null?void 0:n.labelId;if(n&&"labelId"in n&&delete n.labelId,!r)return n;const i=await this.noteLabelRepository.get(r);if(!i)return n;const s={...n,label:i};return delete s.labelId,s}async delete(e){await this.noteRepository.delete(e)}}class kF{constructor(){wr(this,"noteCateRepository",new OF);wr(this,"noteBackService",new v3)}async getAll(){return(await this.noteCateRepository.getAll()).sort((e,n)=>e.order-n.order)}async save(e){if("id"in e)return await this.noteCateRepository.save(e);{const n=(await this.noteCateRepository.getAll()).sort((i,s)=>i.order-s.order),r=n.length>0?n[n.length-1].order+1e3:1e3;return e.order=r,await this.noteCateRepository.save(e)}}async delete(e){const n=await this.noteBackService.findByCateId(e);if(n.length>0)for(const r of n)await this.noteBackService.delete(r.id);return await this.noteCateRepository.delete(e)}async get(e){return await this.noteCateRepository.get(e)}}const Yd=class Yd{constructor(){wr(this,"noteCateService");this.noteCateService=new kF}static getInstance(){return Yd.instance||(Yd.instance=new Yd),Yd.instance}async getAll(){return await this.noteCateService.getAll()}async create(e){return await this.noteCateService.save(e)}async update(e){return await this.noteCateService.save(e)}async delete(e){await this.noteCateService.delete(e)}async get(e){return await this.noteCateService.get(e)}};wr(Yd,"instance");let Sh=Yd;async function MF(t){return await Sh.getInstance().get(t)}async function DF(){const t=await Sh.getInstance().getAll();return await new Promise(e=>setTimeout(e,100)),t}async function RF(t){return await Sh.getInstance().create(t)}async function _F(t){return await Sh.getInstance().update(t)}async function NF(t){return await Sh.getInstance().delete(t)}const LF=()=>{const t=ai();return no({mutationFn:e=>RF(e),onSuccess:()=>{t.invalidateQueries({queryKey:[A0]})}})},b3=()=>{const t=ai();return no({mutationFn:e=>_F(e),onSuccess:()=>{t.invalidateQueries({queryKey:[A0]})}})},BF=()=>{const t=ai();return no({mutationFn:e=>NF(e),onSuccess:()=>{t.invalidateQueries({queryKey:[A0]}),t.invalidateQueries({queryKey:[k0]})}})},o2=()=>Ti({queryFn:DF,queryKey:[A0]}),IF=t=>Ti({queryFn:()=>MF(t),queryKey:[A0,t]});class zF{constructor(){wr(this,"noteLabelRepository",new y3)}async getAll(){return(await this.noteLabelRepository.getAll()).sort((e,n)=>e.order-n.order)}async save(e){if("id"in e)return await this.noteLabelRepository.save(e);{const n=(await this.noteLabelRepository.getAll()).sort((i,s)=>i.order-s.order),r=n.length>0?n[n.length-1].order+1e3:1e3;return e.order=r,await this.noteLabelRepository.save(e)}}async delete(e){return await this.noteLabelRepository.delete(e)}async get(e){return await this.noteLabelRepository.get(e)}}const Gd=class Gd{constructor(){wr(this,"noteLabelService");this.noteLabelService=new zF}static getInstance(){return Gd.instance||(Gd.instance=new Gd),Gd.instance}async getAll(){return await this.noteLabelService.getAll()}async create(e){return await this.noteLabelService.save(e)}async update(e){return await this.noteLabelService.save(e)}async delete(e){return await this.noteLabelService.delete(e)}async get(e){return await this.noteLabelService.get(e)}};wr(Gd,"instance");let r0=Gd;async function HF(){return await r0.getInstance().getAll()}async function PF(t){return await r0.getInstance().create(t)}async function FF(t){return await r0.getInstance().delete(t)}const qF=()=>{const t=ai();return no({mutationFn:e=>PF(e),onSuccess:()=>{t.invalidateQueries({queryKey:[i2]})}})},UF=()=>{const t=ai();return no({mutationFn:e=>FF(e),onSuccess:()=>{t.invalidateQueries({queryKey:[i2]})}})},VF=()=>Ti({queryKey:[i2],queryFn:()=>HF()}),Wd=class Wd{constructor(){wr(this,"noteService");this.noteService=new v3}static getInstance(){return Wd.instance||(Wd.instance=new Wd),Wd.instance}async getAll(){return await this.noteService.getAll()}async getAllByCateId(e){return await this.noteService.findByCateId(e)}async getAllByImportant(){return await this.noteService.findByImportant()}async update(e){return await this.noteService.save(e)}async delete(e){await this.noteService.delete(e)}async create(e){return await this.noteService.save(e)}async get(e){return await this.noteService.get(e)}};wr(Wd,"instance");let bm=Wd;async function jF(t){return await bm.getInstance().create(t)}async function KF(t){return await bm.getInstance().update(t)}async function $F(t){return await bm.getInstance().delete(t)}async function YF(t){return await bm.getInstance().getAllByCateId(t)}const GF=t=>{const e=ai(),{mutate:n}=no({mutationFn:r=>jF(r),onSuccess:()=>{e.invalidateQueries({queryKey:[k0,t]})}});return{mutate:n}},Kb=()=>{const t=ai(),{mutate:e}=no({mutationFn:n=>KF(n),onSuccess:()=>{t.invalidateQueries({queryKey:[k0]})}});return{mutate:e}},x3=()=>{const t=ai(),{mutate:e}=no({mutationFn:n=>$F(n),onSuccess:()=>{t.invalidateQueries({queryKey:[k0]})}});return{mutate:e}},w3=t=>Ti({queryKey:[k0,t],queryFn:()=>YF(t)}),WF={input:t=>({border:"none",outline:"none",background:"none",padding:"0",color:t.colors.text.primary,"&::placeholder":{color:t.colors.primary.normal}}),span:()=>({fontSize:"14px"})};function QF({isEdit:t,onSubmit:e,onChange:n,value:r}){const i=F.useRef(null),{input:s,span:l}=WF;return F.useEffect(()=>{t&&i.current&&(i.current.focus(),i.current.select())},[t]),L(ru,{children:t?L("input",{css:s,type:"text",ref:i,value:r,onChange:n,onBlur:e,onKeyDown:f=>{f.key==="Enter"&&(e==null||e())}}):L("span",{css:l,children:r})})}function S3({value:t,onChange:e}){const{data:n}=VF(),{mutate:r}=UF(),{mutate:i}=qF();return L(DO,{labels:n||[],onAddLabel:s=>{i({name:s.name,color:s.color,order:0})},onSelectLabel:s=>{e(s)},onDeleteLabel:s=>{r(s)},onCancelLabel:()=>{e(null)},selectedLabel:t||void 0})}const XF=t=>{const{register:e,control:n,watch:r}=Eh({defaultValues:t}),i=F.useRef(t),s=r(),{mutate:l}=Kb(),f=F.useMemo(()=>j1.debounce(d=>{l(d)},300),[l]);return F.useEffect(()=>(j1.isEqual(i.current,s)||(i.current=r(),f({...r(),id:t.id})),()=>{f.cancel()}),[s,r,f,t.id]),{register:e,control:n,allValues:s}};function C3({data:t}){const{register:e,control:n}=XF(t),{container:r,input:i,label:s}=TF;return Qe("div",{css:r,children:[Qe("div",{children:[Qe("label",{htmlFor:`todo-${t.id}`,css:s,children:[L("input",{id:`todo-${t.id}`,css:i,type:"text",...e("title")}),L(uf,{name:"isImportant",control:n,render:({field:l})=>L(f0,{checked:l.value,onChange:()=>l.onChange(l.value===0?1:0)})})]}),L(uf,{name:"label",control:n,render:({field:l})=>L(S3,{value:l.value,onChange:l.onChange})})]}),L(uf,{name:"content",control:n,render:({field:l})=>L(YC,{value:l.value,setValue:l.onChange,minHeight:"calc(100vh - 350px)"})})]})}const JF=ts`
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(0);
  }
`,ZF=ts`
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);  
  }
`;function eq({children:t}){const e=es(),[n,r]=F.useState(!0),{closeCurrentTask:i}=Za(),s=()=>{r(!1),setTimeout(()=>{i()},190)};return Qe("div",{css:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",borderRadius:e.radius.medium,boxShadow:e.shadow.medium,backgroundColor:e.colors.background.deep,display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",zIndex:15e3,animation:`${n?JF:ZF} 0.2s ease-in-out forwards`},children:[L("div",{css:{position:"sticky",top:"0px",left:"0px",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",height:"30px",backgroundColor:e.colors.background.deep,zIndex:15e3},children:L("button",{css:{width:"35px",height:"35px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:e.radius.medium,cursor:"pointer",border:"none",color:e.colors.text.secondary,backgroundColor:e.colors.background.deep,transform:"rotate(180deg)","&:hover":{backgroundColor:e.colors.background.hover,color:e.colors.text.primary}},onClick:()=>s(),children:L(CO,{size:30})})}),t]})}const tq={container:()=>({position:"relative",display:"flex",flexDirection:"row",width:"100%",height:"100%",padding:"5px"})},nq={container:()=>({display:"flex",flexDirection:"column",padding:"10px 0",gap:"10px"}),button:t=>e=>({width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"9999px",cursor:"pointer",backgroundColor:t?e.colors.primary.normal:e.colors.background.gray,color:t?"white":e.colors.text.secondary,border:"none","&:hover":{backgroundColor:t?e.colors.primary.dark:e.colors.background.hover,color:t?"white":e.colors.text.primary}})};function rq(){const{container:t,button:e}=nq,{setFinderDomain:n,finderTab:{domain:r}}=Za();return Qe("div",{css:t,children:[L("button",{css:e(r===Ya.TODO),onClick:()=>n(Ya.TODO),children:L(SO,{})}),L("button",{css:e(r===Ya.NOTE),onClick:()=>n(Ya.NOTE),children:L(OO,{})})]})}const E3=()=>{const t=Mo().pathname;return Number(t.replace(Dn.NOTE_CATE+"/","").split("/")[0])},iq=t=>{const e=Mo().pathname,n=oC(),{mutate:r}=BF(),{data:i}=o2(),s=E3(),l=i==null?void 0:i.findIndex(C=>C.id===t),f=l?l-1:-1,d=l||l===0?l+1:-1,m=e.includes(Dn.NOTE_CATE),y=t===s;return{onDelete:async()=>{m&&y&&(f>=0&&i?n(Dn.NOTE_CATE+"/"+i[f].id):d>=0&&i&&i.length>1?n(Dn.NOTE_CATE+"/"+i[d].id):n(Dn.NOTE)),await r(t)}}},oq=t=>{const{id:e}=t,{open:n,close:r}=Sm(),{onDelete:i}=iq(e),{mutate:s}=b3(),{open:l,close:f}=Dm(),[d,m]=F.useState(!1),[y,x]=F.useState(t),C=(K,Y)=>{x({...y,[K]:Y})},T=K=>({value:y[K],onChange:Y=>{C(K,Y.target.value)}}),E=async()=>{!y.name&&!y.name.trim()||(y.name=y.name.trim(),await s(y),m(!1))},k=()=>{m(!0),r()},R=async()=>{l({title:"삭제",content:Bt.jsxs(Bt.Fragment,{children:[Bt.jsx("p",{children:"정말 삭제하시겠습니까?"}),Bt.jsx("p",{children:"하위 Note는 모두 삭제됩니다."}),Bt.jsx("p",{children:"삭제된 데이터는 복구할 수 없습니다."})]}),onCancel:()=>{f()},onConfirm:async()=>{await i(),f()}}),m(!1),r()};return{isEdit:d,values:y,register:T,onSubmit:E,openContextMenu:K=>{K.preventDefault();const{clientX:Y,clientY:U}=K;n(Y,U,[{label:"수정",onClick:k},{label:"삭제",onClick:R}])}}};function T3({data:t,isActive:e,onClick:n}){const{id:r}=t,{openContextMenu:i,isEdit:s,register:l,onSubmit:f}=oq(t);return L(Df,{count:0,icon:L(qS,{size:18}),isCurrentLink:e,linkTo:n?"#":Dn.NOTE_CATE+"/"+r,onContextMenu:i,onClick:n,children:L(QF,{isEdit:s,onSubmit:f,...l("name")})})}const sq=()=>{const{register:t,handleSubmit:e,formState:{errors:n},reset:r}=Eh({defaultValues:{name:"",order:0}}),{mutate:i}=LF(),s=e(async l=>{await i(l),r()});return{register:t,onSubmit:s,errors:n}};function O3(){const{register:t,onSubmit:e}=sq();return L(c0,{label:"note-cate",size:"sm",placeholder:"새 목록",onSubmit:e,...t("name")})}const aq={container:t=>({display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",minHeight:"45px",padding:"0 15px 0 0",borderRadius:t.radius.small,backgroundColor:t.colors.background.deep,cursor:"pointer",transition:"none",overflowY:"hidden",color:t.colors.text.primary,"&:hover":{backgroundColor:t.colors.background.hover}}),label:t=>({display:"block",width:"8px",height:"45px",backgroundColor:t,marginRight:"5px"}),innerContainer:()=>({display:"flex",alignItems:"center",gap:"10px",flexDirection:"row"}),titleSpan:()=>({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"})},A3=t=>{const{open:e,close:n}=Sm(),{mutate:r}=x3();return{openContextMenu:s=>{s.preventDefault();const{clientX:l,clientY:f}=s;e(l,f,[{label:"삭제",onClick:async()=>{await r(t),n()}}])}}};function lq({data:t,onClick:e}){const{id:n,title:r,isImportant:i,label:s}=t,{mutate:l}=Kb(),{openContextMenu:f}=A3(n),{container:d,innerContainer:m,label:y,titleSpan:x}=aq,C=T=>{T.isImportant===0?T.isImportant=1:T.isImportant=0,l(T)};return Qe("div",{css:d,onClick:e,onContextMenu:f,children:[Qe("div",{css:m,children:[L("div",{css:y((s==null?void 0:s.color)||"")}),L("span",{css:x,children:r})]}),L("div",{css:m,children:L(f0,{checked:i,onChange:()=>C(t)})})]})}const k3=()=>{const{mutate:t}=Kb();return{handleDragEnd:(n,r)=>{if(!(r!=null&&r.id))return;const i=qb(r,n);r.order=i,t(r)}}},uq=()=>{const t=el(i=>i.open),{mutate:e}=x3(),n=i=>async()=>{await e(i)};return{openNoteSplitModal:i=>()=>{const{title:s}=i;t({title:`NOTE > ${s}`,itemId:i.id,type:S0.NOTE,content:Bt.jsx(C3,{data:i}),onDelete:n(i.id)})}}},cq={container:t=>({maxWidth:350,minWidth:200,backgroundColor:t.colors.background.deep,borderRadius:t.radius.medium,cursor:"pointer",padding:"10px 0 10px 0",color:t.colors.text.primary,boxShadow:t.shadow.medium,":hover":{backgroundColor:t.colors.background.hover}}),label:()=>({position:"absolute",top:"-16px",left:"-10px",width:"fit-content",height:"fit-content"}),innerContainer:()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0 0 10px"}),contentDiv:()=>({height:"240px",padding:"0 5px",overflow:"hidden"}),titleSpan:t=>()=>({display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",padding:"5px 0",paddingLeft:t?"15px":"0px"})};function M3({data:t,onClick:e}){const{id:n,title:r,isImportant:i,label:s,content:l}=t,{mutate:f}=Kb(),{openContextMenu:d}=A3(n),{container:m,label:y,innerContainer:x,contentDiv:C,titleSpan:T}=cq,E=k=>{k.isImportant===0?k.isImportant=1:k.isImportant=0,f(k)};return console.log("noteLabel",s),Qe("div",{css:m,onClick:e,onContextMenu:d,children:[Qe("div",{css:{position:"relative"},children:[(s==null?void 0:s.color)&&L("div",{css:y,children:L(AO,{size:34,color:s==null?void 0:s.color,isFilled:!0})}),Qe("div",{css:x,children:[L("span",{css:T(!!(s!=null&&s.color)),children:r}),L("div",{children:L(f0,{checked:i,onChange:()=>E(t)})})]})]}),L("div",{css:C,children:L(YC,{value:l,setValue:()=>{},readOnly:!0})})]})}function fq({noteList:t,isColumn:e=!0}){const{handleDragEnd:n}=k3(),{openNoteSplitModal:r}=uq();return Qe("div",{css:e?{display:"flex",flexDirection:"column",flexWrap:"nowrap",gap:"5px",padding:"10px"}:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",padding:"10px",width:"100%"},children:[" ",L(Ah,{data:t||[],handleDragEnd:n,children:i=>i==null?void 0:i.map(s=>L(Oh,{id:s.id,children:e?L(lq,{data:s,onClick:r(s)},s.id):L(M3,{data:s,onClick:r(s)},s.id)},s.id))})]})}const dq=t=>{const{register:e,handleSubmit:n,reset:r}=Eh({defaultValues:{title:"",content:"",isImportant:0,cateId:t}}),{mutate:i}=GF(t),s=n(async l=>{await i(l),r()});return F.useEffect(()=>{r({title:"",content:"",isImportant:0,cateId:t})},[t,r]),{register:e,onSubmit:s}},hq={container:t=>({position:"sticky",top:"60px",backgroundColor:t.colors.background.gray,zIndex:1200})};function D3({cateId:t}){const{container:e}=hq,{register:n,onSubmit:r}=dq(t);return L("div",{css:e,children:L(c0,{label:"note",size:"md",placeholder:"새 노트 추가",onSubmit:r,...n("title")})})}function pq(){const{finderTab:{sideTab:t}}=Za();let e=Number(t);typeof t!="number"&&(e=0);const{data:n}=w3(e||0),{handleDragEnd:r}=k3(),i=es(),{type:s,itemId:l}=el(),{setCUrrentNote:f}=Za(),d=m=>s===S0.NOTE?l===m:!1;return Qe("div",{css:{width:"calc(100% - 240px)",backgroundColor:i.colors.background.gray,borderRadius:i.radius.medium,overflow:"hidden"},children:[L("div",{children:t!==0&&typeof t=="number"&&L(D3,{cateId:t})}),L("div",{css:{height:"100%",overflowY:"auto"},children:L("div",{css:{display:"grid",padding:"10px",gap:"16px",width:"100%",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))"},children:L(Ah,{data:n||[],handleDragEnd:r,children:m=>(m==null?void 0:m.length)>0&&(m==null?void 0:m.map(y=>L(Oh,{id:y.id,css:{maxWidth:350,minWidth:180},children:L("div",{css:{borderRadius:i.radius.medium,boxShadow:i.shadow.medium},children:L("div",{css:{opacity:d(y.id)?.5:1},children:L(M3,{data:y,onClick:()=>d(y.id)?null:f(y)},y.id)})})},y.id)))})})})]})}const R3=()=>{const{mutate:t}=b3();return{handleDragEnd:(n,r)=>{if(!(r!=null&&r.id))return;const i=qb(r,n);r.order=i,t(r)}}};function mq(){const{handleDragEnd:t}=R3(),{data:e}=o2(),{finderTab:{sideTab:n},setFinderSideTab:r}=Za();return Qe("div",{css:{width:"200px",padding:"5px"},children:[L(Vb,{title:"NOTE"}),L(vm,{listTitle:"폴더",bottom:L(O3,{}),children:L(Ah,{handleDragEnd:t,data:e||[],children:i=>i==null?void 0:i.map(s=>L(Oh,{id:s.id,children:L(T3,{data:s,isActive:n===s.id,onClick:()=>r(s.id)},s.id)},s.id))})})]})}function gq(){const{data:t}=jM(),{data:e}=$M(),{data:n}=KM(),{data:r}=WS(),{handleDragEnd:i}=m3(),{finderTab:{sideTab:s},setFinderSideTab:l}=Za();return Qe("div",{css:{width:"200px",padding:"5px 0"},children:[L(Vb,{title:"TODO"}),Qe(vm,{listTitle:"모아보기",children:[L(Df,{count:e,icon:L(pb,{size:18}),isCurrentLink:s===Os.TODAY,onClick:()=>l(Os.TODAY),linkTo:"#",children:L("span",{children:"오늘"})}),L(Df,{count:n,icon:L(PS,{size:18}),isCurrentLink:s===Os.Important,onClick:()=>l(Os.Important),linkTo:"#",children:L("span",{children:"중요"})}),L(Df,{count:t,icon:L(qS,{size:18}),isCurrentLink:s===Os.All,onClick:()=>l(Os.All),linkTo:"#",children:L("span",{children:"전체"})})]}),L(vm,{listTitle:"카테고리",bottom:L(uA,{}),children:L(Ah,{handleDragEnd:i,data:r||[],children:f=>f==null?void 0:f.map(d=>L(Oh,{id:d.id,children:L(p3,{data:d,isActive:s===d.id,onClick:()=>l(d.id)},d.id)},d.id))})})]})}function yq(){const{finderTab:{sideTab:t}}=Za(),{data:e}=YO(),{setCurrentTodo:n}=Za(),{type:r,itemId:i}=el(),s=es(),l=e==null?void 0:e.filter(d=>t===Os.All?!0:t===Os.Important?d.isImportant:t===Os.TODAY?rC(d.isToday):typeof t=="number"?d.cateId===t:!1),f=d=>r===S0.TODO?i===d:!1;return Qe("div",{css:{display:"flex",flexDirection:"column",width:"calc(100% - 240px)",height:"100%",overflowY:"auto",backgroundColor:s.colors.background.gray,borderRadius:s.radius.medium},children:[t!==Os.All&&L("div",{children:L(gb,{cateId:typeof t=="number"?t:0,isImportant:t===Os.Important,isToday:t===Os.TODAY})}),L("div",{css:{overflow:"auto",padding:"10px"},children:L("div",{css:{borderRadius:s.radius.medium,overflowY:"auto"},children:l==null?void 0:l.map(d=>L("div",{css:{opacity:f(d.id)?.3:1},children:L(U1,{data:d,onClick:()=>f(d.id)?null:n(d)},d.id)}))})})]})}function vq(){const{container:t}=tq,{finderTab:{domain:e,currentTask:n,noteData:r,todoData:i}}=Za();return Qe("div",{css:t,children:[L(rq,{}),e===Ya.TODO&&L(gq,{}),e===Ya.NOTE&&L(mq,{}),e===Ya.NOTE&&L(pq,{}),e===Ya.TODO&&L(yq,{}),n&&Qe(eq,{children:[e===Ya.NOTE&&r&&L(C3,{data:r}),e===Ya.TODO&&i&&L(UM,{data:i})]})]})}const bq={container:()=>({zIndex:3e3,width:"100%",padding:"10px",paddingRight:"0px",height:"100%",display:"flex",flexDirection:"column",paddingTop:"10px",alignItems:"center",gap:"10px"}),content:t=>({width:"100%",minWidth:"100px",height:"calc(100vh - 70px)",backgroundColor:t.colors.background.deep,borderRadius:t.radius.large,overflow:"hidden",boxShadow:t.shadow.medium})},xq={container:t=>({display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",width:"fit-content",backgroundColor:t.colors.background.deep,borderRadius:t.radius.large,boxShadow:t.shadow.large,padding:"5px 5px"}),tab:t=>e=>({width:"100%",height:"30px",padding:"0 10px",backgroundColor:t?e.colors.primary.normal:e.colors.background.deep,color:t?"white":e.colors.text.secondary,cursor:"pointer",":hover":{color:t?"white":e.colors.text.primary,backgroundColor:t?e.colors.primary.dark:e.colors.background.hover},border:"none",borderRadius:e.radius.medium})};function wq(){const{container:t,tab:e}=xq,{activeTab:n,setActiveTab:r}=Za();return L("div",{css:t,children:L("button",{css:e(n===hh.FINDER),onClick:()=>r(hh.FINDER),children:hh.FINDER})})}const Sq={container:t=>({width:"100%",height:"100%",backgroundColor:t.colors.background.deep})};function Cq(){const{container:t}=Sq;return L("div",{css:t,children:" task"})}const Eq=ts`
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
`,Tq=ts`
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  100% {
    transform: translateX(-100%);
    opacity: 0;
  }
`;function Oq(){const{container:t,content:e}=bq,n=es(),{activeTab:r,closeTabStart:i,closeCurrentTask:s}=Za(),{isOpen:l}=el();return F.useEffect(()=>{s()},[l,s]),Qe("div",{css:t,children:[L(wq,{}),r&&Qe("div",{css:{...e(n),animation:`${i?Tq:Eq} 0.2s ease-in-out forwards`},children:[r===hh.SEARCH&&L("div",{children:"search"}),r===hh.FINDER&&L(vq,{}),r===hh.TASK&&L(Cq,{})]})]})}const Aq=()=>{const t=jb(e=>e.darkMode);F.useEffect(()=>{(document.querySelector("meta[name='theme-color']")||(()=>{const n=document.createElement("meta");return n.setAttribute("name","theme-color"),document.head.appendChild(n),n})()).setAttribute("content",t?"#1e1e1e":"#ffffff")},[t])},kq=t=>({display:"flex",flexDirection:"row",height:"100vh",width:"100vw",backgroundColor:t.colors.background.gray,color:t.colors.text.primary}),Mq={height:"100vh",width:"100%"};function Dq(){const{isOpen:t}=Sm();return Aq(),Qe("div",{css:kq,children:[L(EF,{}),L("div",{css:Mq,children:L(lC,{})}),L(wz,{task:L(Oq,{})}),L(KP,{}),t&&L(v_,{})]})}const Rq=()=>{const t=E3(),{data:e}=IF(Number(t)),{data:n}=w3(t);return{data:e,id:Number(t),noteList:n}},_3=cu()(zb(t=>({isColumn:!0,setIsColumn:e=>t({isColumn:e})}),{name:"note-page-storage"})),_q={container:t=>({position:"sticky",top:0,display:"flex",backgroundColor:t.colors.background.gray,justifyContent:"space-between",alignItems:"center",padding:"0 30px",height:"60px",zIndex:1200}),h2:t=>({fontSize:"24px",margin:0,color:t.colors.text.primary}),buttonContainer:()=>({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px",marginRight:"25px"}),button:t=>({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"5px",cursor:"pointer",border:"none",padding:"8px 16px",borderRadius:t.radius.medium,color:t.colors.text.secondary,backgroundColor:t.colors.background.deep,":hover":{backgroundColor:t.colors.background.hover,color:t.colors.text.primary}})};function Nq({title:t}){const{container:e,h2:n,button:r,buttonContainer:i}=_q,{setIsColumn:s}=_3(l=>l);return Qe("div",{css:e,children:[L("h2",{css:n,children:t}),Qe("div",{css:i,children:[Qe("button",{css:r,onClick:()=>{s(!0)},children:[L(O9,{}),"List"]}),Qe("button",{css:r,onClick:()=>{s(!1)},children:[L(A9,{}),"Grid"]})]})]})}const Lq=()=>{const t=Mo().pathname;return n=>t.includes(Dn.NOTE)?t.split("/").includes(String(n.id)):!1};function Bq(){const{data:t}=o2(),e=Lq(),{handleDragEnd:n}=R3();return L(vm,{listTitle:"폴더",bottom:L(O3,{}),children:L(Ah,{handleDragEnd:n,data:t||[],children:r=>r==null?void 0:r.map(i=>L(Oh,{id:i.id,children:L(T3,{data:i,isActive:e(i)},i.id)},i.id))})})}function Iq(){return Qe("div",{children:[L(Vb,{title:"NOTE"}),L(Bq,{})]})}const zq=cu(t=>({filter:{label:void 0,text:void 0},setFilter:e=>t({filter:e}),resetFilter:()=>t({filter:{label:void 0}})})),N3=()=>{const{filter:t,setFilter:e,resetFilter:n}=zq();return{filter:t,getFilteredNoteList:i=>{let s=i;return t!=null&&t.label&&(s=s==null?void 0:s.filter(l=>{var f,d;return((f=l.label)==null?void 0:f.id)===((d=t.label)==null?void 0:d.id)})),t!=null&&t.text&&(s=s==null?void 0:s.filter(l=>{var y;const{title:f}=l,d=f.replace(/\s+/g,"").toLowerCase(),m=((y=t==null?void 0:t.text)==null?void 0:y.replace(/\s+/g,"").toLowerCase())??"";return d.includes(m)})),s||[]},setFilter:e,resetFilter:n}},Hq={container:t=>e=>({position:"relative",height:"100vh",width:t?"350px":"0px",transition:"width 0.3s",backgroundColor:e.colors.background.deep,zIndex:1300}),innerContainer:t=>e=>({display:"flex",flexDirection:"column",gap:"10px",position:"relative",height:"100vh",width:t?"350px":"0px",transition:"width 0.3s",overflow:"hidden",backgroundColor:e.colors.background.deep,marginTop:"5px",padding:t?"15px":"0px"}),toggleButton:t=>({position:"absolute",padding:"8px",top:"10px",right:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:t.colors.text.secondary,cursor:"pointer",zIndex:1300,borderRadius:t.radius.medium,"&:hover":{color:t.colors.text.primary,backgroundColor:t.colors.background.hover}}),title:t=>({fontSize:t.typography.size.large,color:t.colors.text.primary,marginBottom:"5px",lineHeight:"30px"}),divider:t=>({display:"flex",height:"17px",flexdirection:"row",width:"100%",marginTop:"10px","& span":{display:"inline-block",whiteSpace:"nowrap",width:"auto",color:t.colors.text.secondary,fontSize:t.typography.size.small,margin:"0 5px",lineHeight:"17px"},"& hr":{width:"100%",border:"none",borderBottom:`1px solid ${t.colors.border.deepGray}`}})};function Pq(){const[t,e]=F.useState(!1),{setFilter:n,filter:r}=N3(),{label:i}=r,s=()=>{e(E=>!E)},l=E=>{var H;let k=E;(k==null?void 0:k.id)===((H=r.label)==null?void 0:H.id)&&(k=null),n({label:k})},f=E=>{const k=E.target.value,R={...r,text:k};n(R)},d=E=>{const k={...r,text:E};n(k)},{container:m,toggleButton:y,innerContainer:x,title:C,divider:T}=Hq;return Qe("div",{css:m(t),children:[L("div",{css:y,onClick:s,children:L(TO,{size:20})}),Qe("div",{css:x(t),children:[L("div",{css:C,children:"필터"}),L("div",{css:T,children:L("span",{children:"검색"})}),L(kO,{onChange:E=>f(E),onSearch:d}),L("div",{css:T,children:L("span",{children:"라벨"})}),L(S3,{onChange:E=>{l(E?{id:(E==null?void 0:E.id)||0,name:(E==null?void 0:E.name)||"",color:(E==null?void 0:E.color)||"",order:0}:null)},value:i})]})]})}function Fq(){const{data:t,id:e,noteList:n}=Rq(),{isColumn:r}=_3(),{getFilteredNoteList:i}=N3();return Qe("div",{children:[L(Nq,{title:(t==null?void 0:t.name)||""}),L(D3,{cateId:e}),L("div",{css:{overflow:"hidden"},children:L(fq,{noteList:i(n)||[],isColumn:r})})]})}const qq={container:()=>({potision:"relative",top:0,left:0,display:"flex",flexDirection:"row",width:"100%",height:"100vh",overflow:"hidden"}),content:()=>({position:"relative",display:"flex",flexDirection:"row",height:"100vh",overflowX:"hidden",overflowY:"auto",width:"100%","& .content":{width:"100%",height:"100%",overflow:"auto"}})};function Uq(){const{container:t,content:e}=qq;return Qe("div",{css:t,children:[L(r2,{children:L(Iq,{})}),Qe("div",{css:e,children:[L("div",{className:"content",children:L(lC,{})}),L(Pq,{})]})]})}const Vq=new J9;function jq(){const t=jb(e=>e.darkMode);return Bt.jsx(rR,{client:Vq,children:Bt.jsx(g9,{theme:t?dF:fF,children:Bt.jsx(L4,{basename:"/jarvis",children:Bt.jsx(f4,{children:Bt.jsxs(Va,{element:Bt.jsx(Dq,{}),children:[Bt.jsx(Va,{path:Dn.HOME,element:Bt.jsx(b9,{})}),Bt.jsxs(Va,{path:Dn.TODO,element:Bt.jsx(iF,{}),children:[Bt.jsx(Va,{path:Dn.TODO_CATE+"/:id",element:Bt.jsx(nF,{})}),Bt.jsx(Va,{path:Dn.TODO_TODAY,element:Bt.jsx(sF,{})}),Bt.jsx(Va,{path:Dn.TODO_ALL,element:Bt.jsx(aF,{})}),Bt.jsx(Va,{path:Dn.TODO_IMPORTANT,element:Bt.jsx(oF,{})})]}),Bt.jsx(Va,{path:Dn.NOTE,element:Bt.jsx(Uq,{}),children:Bt.jsx(Va,{path:Dn.NOTE_CATE+"/:id",element:Bt.jsx(Fq,{})})}),Bt.jsx(Va,{path:Dn.TEST,element:Bt.jsx(cF,{})})]})})})})})}SD.createRoot(document.getElementById("root")).render(Bt.jsx(F.StrictMode,{children:Bt.jsx(jq,{})}));
